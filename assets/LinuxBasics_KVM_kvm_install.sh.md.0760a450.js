import{_ as s,o as n,c as a,a as l}from"./app.1e6146c3.js";const C=JSON.parse('{"title":"kvm_install.sh","description":"","frontmatter":{},"headers":[],"relativePath":"LinuxBasics/KVM/kvm_install.sh.md","lastUpdated":1657272051000}'),p={name:"LinuxBasics/KVM/kvm_install.sh.md"},o=l(`<h1 id="kvm-install-sh" tabindex="-1">kvm_install.sh <a class="header-anchor" href="#kvm-install-sh" aria-hidden="true">#</a></h1><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;">#!/bin/bash</span></span>
<span class="line"><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;[1] \u68C0\u67E5\u662F\u5426\u5F00\u542F\u865A\u62DF\u5316&quot;</span></span>
<span class="line"><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;[2] \u914D\u7F6EYUM&quot;</span></span>
<span class="line"><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;[3] \u5B89\u88C5KVM&quot;</span></span>
<span class="line"><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;[4] \u5173\u95ED\u9632\u706B\u5899&quot;</span></span>
<span class="line"><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;[5] \u5173\u95EDSElinux&quot;</span></span>
<span class="line"><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;[6] \u8BBE\u7F6E\u6865\u63A5&quot;</span></span>
<span class="line"><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;[7] \u5B89\u88C5\u865A\u62DF\u673A&quot;</span></span>
<span class="line"><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;[8] \u67E5\u770B\u865A\u62DF\u673A&quot;</span></span>
<span class="line"><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;[9] \u8FDE\u63A5\u865A\u62DF\u673A&quot;</span></span>
<span class="line"><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;[0] \u9000\u51FA&quot;</span></span>
<span class="line"><span style="color:#E0A569;">read</span><span style="color:#DBD7CA;"> -p </span><span style="color:#C98A7D;">&quot;\u8BF7\u8F93\u5165\u60A8\u7684\u9009\u9879:&quot;</span><span style="color:#DBD7CA;">  NUM</span></span>
<span class="line"><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">$</span><span style="color:#B8A965;">NUM</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> 0 </span><span style="color:#858585;">]</span><span style="color:#CB7676;">;</span><span style="color:#4D9375;">then</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#E0A569;">exit</span><span style="color:#CB7676;">;</span></span>
<span class="line"><span style="color:#4D9375;">elif</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">$</span><span style="color:#B8A965;">NUM</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> 1 </span><span style="color:#858585;">]</span><span style="color:#CB7676;">;</span><span style="color:#4D9375;">then</span></span>
<span class="line"><span style="color:#758575;">#\u68C0\u67E5\u662F\u5426\u5F00\u542F\u865A\u62DF\u5316</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">$(egrep -o &#39;vmx|svm&#39; /proc/cpuinfo </span><span style="color:#CB7676;">&gt;&gt;</span><span style="color:#C98A7D;">/dev/null)</span><span style="color:#CB7676;">;</span><span style="color:#4D9375;">then</span></span>
<span class="line"><span style="color:#DBD7CA;">		</span><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;[\u5F53\u524D\u8BBE\u5907\u5DF2\u5F00\u542F\u865A\u62DF\u5316]&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#4D9375;">else</span></span>
<span class="line"><span style="color:#DBD7CA;">		</span><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;[\u5F53\u524D\u8BBE\u5907\u672A\u5F00\u542F\u865A\u62DF\u5316\uFF0C\u8BF7\u53C2\u8003https://www.asfor.cn/archives/611.html\u6559\u7A0B\u5F00\u542F\u865A\u62DF\u5316\u540E\u518D\u6B21\u4F7F\u7528\u6B64\u811A\u672C]&quot;</span><span style="color:#CB7676;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#4D9375;">fi</span></span>
<span class="line"><span style="color:#4D9375;">elif</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">$</span><span style="color:#B8A965;">NUM</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> 2 </span><span style="color:#858585;">]</span><span style="color:#CB7676;">;</span><span style="color:#4D9375;">then</span></span>
<span class="line"><span style="color:#758575;">#\u914D\u7F6Eyum\u6E90</span></span>
<span class="line"><span style="color:#DBD7CA;">	mv /etc/yum.repos.d/</span><span style="color:#CB7676;">*</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">~</span><span style="color:#DBD7CA;">/</span><span style="color:#CB7676;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;[\u6B64\u5904\u4F7F\u7528\u7F51\u6613163\u955C\u50CF\u6E90]&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;[\u5176\u4ED6\u955C\u50CF\u6E90\u53EF\u53C2\u8003https:/www.asfor.cn/server/mirror]&quot;</span><span style="color:#CB7676;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;[\u60A8\u7684repo\u6587\u4EF6\u5DF2\u88AB\u79FB\u52A8\u81F3\u5F53\u524D\u7528\u6237\u7684\u5BB6\u76EE\u5F55]&quot;</span></span>
<span class="line"><span style="color:#858585;">	</span><span style="color:#758575;"># curl -o /etc/yum.repos.d/CentOS7-Base-163.repo http://mirrors.163.com/.help/CentOS7-Base-163.repo;</span></span>
<span class="line"><span style="color:#DBD7CA;">	curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo</span><span style="color:#CB7676;">;</span></span>
<span class="line"><span style="color:#858585;">	</span><span style="color:#758575;"># sed -i &#39;s/\\$releasever/7/g&#39; /etc/yum.repos.d/CentOS7-Base-163.repo;</span></span>
<span class="line"><span style="color:#858585;">	</span><span style="color:#758575;"># sed -i &#39;s/^enabled=.*/enabled=1/g&#39; /etc/yum.repos.d/CentOS7-Base-163.repo;</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;[yum\u6E90\u6587\u4EF6\u914D\u7F6E\u6210\u529F\uFF0C\u6B63\u5728\u6267\u884C\u68C0\u6D4B\u8F6F\u4EF6\u5305\u6570\u91CF]&quot;</span><span style="color:#CB7676;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">	yum clean all</span><span style="color:#CB7676;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">	yum makecache</span><span style="color:#CB7676;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">	yum repolist</span><span style="color:#CB7676;">;</span></span>
<span class="line"><span style="color:#4D9375;">elif</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">$</span><span style="color:#B8A965;">NUM</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> 3 </span><span style="color:#858585;">]</span><span style="color:#CB7676;">;</span><span style="color:#4D9375;">then</span></span>
<span class="line"><span style="color:#758575;">#\u5B89\u88C5KVM</span></span>
<span class="line"><span style="color:#DBD7CA;">	yum -y install epel-release vim wget net-tools unzip zip gcc gcc-c++</span><span style="color:#CB7676;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">	yum -y install qemu-kvm qemu-kvm-tools qemu-img virt-manager libvirt libvirt-python libvirt-client virt-install virt-viewer bridge-utils libguestfs-tools</span><span style="color:#CB7676;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;[KVM\u76F8\u5173\u5DE5\u5177\u5DF2\u5B89\u88C5\u6210\u529F]&quot;</span></span>
<span class="line"><span style="color:#4D9375;">elif</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">$</span><span style="color:#B8A965;">NUM</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> 4 </span><span style="color:#858585;">]</span><span style="color:#CB7676;">;</span><span style="color:#4D9375;">then</span></span>
<span class="line"><span style="color:#758575;">#\u5173\u95ED\u9632\u706B\u5899</span></span>
<span class="line"><span style="color:#DBD7CA;">systemctl stop firewalld</span><span style="color:#CB7676;">;</span></span>
<span class="line"><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;[\u9632\u706B\u5899\u5DF2\u5173\u95ED]&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">systemctl disable firewalld</span><span style="color:#CB7676;">;</span></span>
<span class="line"><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;[\u9632\u706B\u5899\u670D\u52A1\u5DF2\u88AB\u79FB\u51FA\u5F00\u673A\u542F\u52A8\u5217\u8868]&quot;</span></span>
<span class="line"><span style="color:#4D9375;">elif</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">$</span><span style="color:#B8A965;">NUM</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> 5 </span><span style="color:#858585;">]</span><span style="color:#CB7676;">;</span><span style="color:#4D9375;">then</span></span>
<span class="line"><span style="color:#758575;">#\u5173\u95EDSELINUX</span></span>
<span class="line"><span style="color:#DBD7CA;">setenforce 0</span><span style="color:#CB7676;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">sed -ri </span><span style="color:#C98A7D;">&#39;s/^(SELINUX=).*/\\1disabled/g&#39;</span><span style="color:#DBD7CA;"> /etc/selinux/config</span><span style="color:#CB7676;">;</span></span>
<span class="line"><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;[SELINUX\u5DF2\u88AB\u4E34\u65F6\u5173\u95ED\uFF0C\u91CD\u542F\u540E\u5C06\u6C38\u4E45\u751F\u6548]&quot;</span><span style="color:#CB7676;">;</span></span>
<span class="line"><span style="color:#4D9375;">elif</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">$</span><span style="color:#B8A965;">NUM</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> 6 </span><span style="color:#858585;">]</span><span style="color:#CB7676;">;</span><span style="color:#4D9375;">then</span></span>
<span class="line"><span style="color:#758575;">#\u8BBE\u7F6E\u6865\u63A5</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#E0A569;">read</span><span style="color:#DBD7CA;"> -p </span><span style="color:#C98A7D;">&quot;\u7F51\u5361\u540D\u79F0(example:ens33): &quot;</span><span style="color:#DBD7CA;"> NETNAME</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#E0A569;">read</span><span style="color:#DBD7CA;"> -p </span><span style="color:#C98A7D;">&quot;IP(example:192.168.81.134): &quot;</span><span style="color:#DBD7CA;"> NETIP</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#E0A569;">read</span><span style="color:#DBD7CA;"> -p </span><span style="color:#C98A7D;">&quot;\u7F51\u5173(example:192.168.81.1): &quot;</span><span style="color:#DBD7CA;"> NETGATEWAY</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#E0A569;">read</span><span style="color:#DBD7CA;"> -p </span><span style="color:#C98A7D;">&quot;\u5B50\u7F51\u63A9\u7801(example:255.255.255.0):&quot;</span><span style="color:#DBD7CA;"> NETMASK</span></span>
<span class="line"><span style="color:#DBD7CA;">	cp /etc/sysconfig/network-scripts/ifcfg-</span><span style="color:#858585;">$</span><span style="color:#B8A965;">NETNAME</span><span style="color:#DBD7CA;"> /etc/sysconfig/network-scripts/ifcfg-br0</span></span>
<span class="line"><span style="color:#DBD7CA;">cat </span><span style="color:#CB7676;">&gt;&gt;</span><span style="color:#DBD7CA;"> /etc/sysconfig/network-scripts/ifcfg-</span><span style="color:#858585;">$</span><span style="color:#B8A965;">NETNAME</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&lt;&lt;</span><span style="color:#4D9375;">EOF</span></span>
<span class="line"><span style="color:#C98A7D;">BRIDGE=br0</span></span>
<span class="line"><span style="color:#C98A7D;">NM_CONTROLLED=no</span></span>
<span class="line"><span style="color:#4D9375;">EOF</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;[</span><span style="color:#858585;">$</span><span style="color:#C98A7D;">NETNAME\u7F51\u5361\u5DF2\u4FEE\u6539\u5B8C\u6210]&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">cat </span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> /etc/sysconfig/network-scripts/ifcfg-br0 </span><span style="color:#CB7676;">&lt;&lt;</span><span style="color:#4D9375;">EOF</span></span>
<span class="line"><span style="color:#C98A7D;">TYPE=Bridge</span></span>
<span class="line"><span style="color:#C98A7D;">DEVICE=br0</span></span>
<span class="line"><span style="color:#C98A7D;">NM_CONTROLLED=no</span></span>
<span class="line"><span style="color:#C98A7D;">BOOTPROTO=static</span></span>
<span class="line"><span style="color:#C98A7D;">NAME=br0</span></span>
<span class="line"><span style="color:#C98A7D;">ONBOOT=yes</span></span>
<span class="line"><span style="color:#C98A7D;">IPADDR=$NETIP</span></span>
<span class="line"><span style="color:#C98A7D;">NETMASK=$NETMASK</span></span>
<span class="line"><span style="color:#C98A7D;">GATEWAY=$NETGATEWAY</span></span>
<span class="line"><span style="color:#C98A7D;">DNS1=114.114.114.114</span></span>
<span class="line"><span style="color:#C98A7D;">DNS2=8.8.8.8</span></span>
<span class="line"><span style="color:#4D9375;">EOF</span></span>
<span class="line"><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;[br0\u7F51\u5361\u5DF2\u4FEE\u6539\u5B8C\u6210]&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">systemctl restart network</span></span>
<span class="line"><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;[\u7F51\u7EDC\u91CD\u542F\u5B8C\u6210\uFF0C\u60A8\u7684\u7F51\u5361\u5217\u8868\u5982\u4E0B\uFF0C\u8BF7\u68C0\u67E5\uFF01]&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">ip addr list</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">elif</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">$</span><span style="color:#B8A965;">NUM</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> 7 </span><span style="color:#858585;">]</span><span style="color:#CB7676;">;</span><span style="color:#4D9375;">then</span></span>
<span class="line"><span style="color:#758575;">#\u5B89\u88C5\u865A\u62DF\u673A</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">read</span><span style="color:#DBD7CA;"> -p </span><span style="color:#C98A7D;">&quot;\u8F93\u5165\u865A\u62DF\u673A\u7684\u540D\u5B57\uFF1A&quot;</span><span style="color:#DBD7CA;">  NAME</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">read</span><span style="color:#DBD7CA;"> -p </span><span style="color:#C98A7D;">&quot;CPU\u6838\u6570(example:1)&quot;</span><span style="color:#DBD7CA;"> CPU</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">read</span><span style="color:#DBD7CA;"> -p </span><span style="color:#C98A7D;">&quot;\u8F93\u5165\u865A\u62DF\u673A\u5185\u5B58\u5927\u5C0F(M): &quot;</span><span style="color:#DBD7CA;">  MEM</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">read</span><span style="color:#DBD7CA;"> -p </span><span style="color:#C98A7D;">&quot;\u8F93\u5165\u865A\u62DF\u53CA\u786C\u76D8\u5927\u5C0F(G): &quot;</span><span style="color:#DBD7CA;">  SIZE</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">read</span><span style="color:#DBD7CA;"> -p </span><span style="color:#C98A7D;">&quot;ISO\u955C\u50CF\u4F4D\u7F6E(example:/root/rhel-server-7.3-x84_64-dvd.iso):&quot;</span><span style="color:#DBD7CA;"> ISOPATH</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#E0A569;">read</span><span style="color:#DBD7CA;"> -p </span><span style="color:#C98A7D;">&quot;\u786C\u76D8\u955C\u50CF\u4F4D\u7F6E(example:/root):&quot;</span><span style="color:#DBD7CA;"> DISKPATH</span></span>
<span class="line"><span style="color:#DBD7CA;">    virt-install --virt-type=kvm --name=</span><span style="color:#858585;">$</span><span style="color:#B8A965;">NAME</span><span style="color:#DBD7CA;"> --vcpus=</span><span style="color:#858585;">$</span><span style="color:#B8A965;">CPU</span><span style="color:#DBD7CA;"> --memory=</span><span style="color:#858585;">$</span><span style="color:#B8A965;">MEM</span><span style="color:#DBD7CA;"> --location=</span><span style="color:#858585;">$</span><span style="color:#B8A965;">ISOPATH</span><span style="color:#DBD7CA;"> --disk path=</span><span style="color:#858585;">$</span><span style="color:#B8A965;">DISKPATH</span><span style="color:#DBD7CA;">/</span><span style="color:#858585;">$</span><span style="color:#B8A965;">NAME</span><span style="color:#DBD7CA;">.qcow2,size=</span><span style="color:#858585;">$</span><span style="color:#B8A965;">SIZE</span><span style="color:#DBD7CA;">,format=qcow2 --network bridge=virbr0 --graphics none --extra-args=</span><span style="color:#C98A7D;">&#39;console=ttyS0&#39;</span><span style="color:#DBD7CA;"> --force</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">elif</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">$</span><span style="color:#B8A965;">NUM</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> 8 </span><span style="color:#858585;">]</span><span style="color:#CB7676;">;</span><span style="color:#4D9375;">then</span></span>
<span class="line"><span style="color:#758575;">#\u67E5\u770B\u865A\u62DF\u673A</span></span>
<span class="line"><span style="color:#DBD7CA;">virsh list --all</span></span>
<span class="line"><span style="color:#4D9375;">elif</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">$</span><span style="color:#B8A965;">NUM</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> 9 </span><span style="color:#858585;">]</span><span style="color:#CB7676;">;</span><span style="color:#4D9375;">then</span></span>
<span class="line"><span style="color:#758575;">#\u8FDE\u63A5\u865A\u62DF\u673A</span></span>
<span class="line"><span style="color:#E0A569;">read</span><span style="color:#DBD7CA;"> -p </span><span style="color:#C98A7D;">&quot;\u865A\u62DF\u673A\u540D\u79F0: &quot;</span><span style="color:#DBD7CA;"> XNAME</span></span>
<span class="line"><span style="color:#DBD7CA;">virsh console </span><span style="color:#858585;">$</span><span style="color:#B8A965;">XNAME</span><span style="color:#CB7676;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">else</span></span>
<span class="line"><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;\u8BF7\u8F93\u5165:0~9\u6570\u5B57!&quot;</span><span style="color:#CB7676;">;</span></span>
<span class="line"><span style="color:#4D9375;">fi</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">#!/bin/bash</span></span>
<span class="line"><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;[1] \u68C0\u67E5\u662F\u5426\u5F00\u542F\u865A\u62DF\u5316&quot;</span></span>
<span class="line"><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;[2] \u914D\u7F6EYUM&quot;</span></span>
<span class="line"><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;[3] \u5B89\u88C5KVM&quot;</span></span>
<span class="line"><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;[4] \u5173\u95ED\u9632\u706B\u5899&quot;</span></span>
<span class="line"><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;[5] \u5173\u95EDSElinux&quot;</span></span>
<span class="line"><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;[6] \u8BBE\u7F6E\u6865\u63A5&quot;</span></span>
<span class="line"><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;[7] \u5B89\u88C5\u865A\u62DF\u673A&quot;</span></span>
<span class="line"><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;[8] \u67E5\u770B\u865A\u62DF\u673A&quot;</span></span>
<span class="line"><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;[9] \u8FDE\u63A5\u865A\u62DF\u673A&quot;</span></span>
<span class="line"><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;[0] \u9000\u51FA&quot;</span></span>
<span class="line"><span style="color:#B58451;">read</span><span style="color:#393A34;"> -p </span><span style="color:#B56959;">&quot;\u8BF7\u8F93\u5165\u60A8\u7684\u9009\u9879:&quot;</span><span style="color:#393A34;">  NUM</span></span>
<span class="line"><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">$</span><span style="color:#8C862B;">NUM</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> 0 </span><span style="color:#8E8F8B;">]</span><span style="color:#AB5959;">;</span><span style="color:#1C6B48;">then</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#B58451;">exit</span><span style="color:#AB5959;">;</span></span>
<span class="line"><span style="color:#1C6B48;">elif</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">$</span><span style="color:#8C862B;">NUM</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> 1 </span><span style="color:#8E8F8B;">]</span><span style="color:#AB5959;">;</span><span style="color:#1C6B48;">then</span></span>
<span class="line"><span style="color:#A0ADA0;">#\u68C0\u67E5\u662F\u5426\u5F00\u542F\u865A\u62DF\u5316</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#B56959;">$(egrep -o &#39;vmx|svm&#39; /proc/cpuinfo </span><span style="color:#AB5959;">&gt;&gt;</span><span style="color:#B56959;">/dev/null)</span><span style="color:#AB5959;">;</span><span style="color:#1C6B48;">then</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;[\u5F53\u524D\u8BBE\u5907\u5DF2\u5F00\u542F\u865A\u62DF\u5316]&quot;</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#1C6B48;">else</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;[\u5F53\u524D\u8BBE\u5907\u672A\u5F00\u542F\u865A\u62DF\u5316\uFF0C\u8BF7\u53C2\u8003https://www.asfor.cn/archives/611.html\u6559\u7A0B\u5F00\u542F\u865A\u62DF\u5316\u540E\u518D\u6B21\u4F7F\u7528\u6B64\u811A\u672C]&quot;</span><span style="color:#AB5959;">;</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#1C6B48;">fi</span></span>
<span class="line"><span style="color:#1C6B48;">elif</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">$</span><span style="color:#8C862B;">NUM</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> 2 </span><span style="color:#8E8F8B;">]</span><span style="color:#AB5959;">;</span><span style="color:#1C6B48;">then</span></span>
<span class="line"><span style="color:#A0ADA0;">#\u914D\u7F6Eyum\u6E90</span></span>
<span class="line"><span style="color:#393A34;">	mv /etc/yum.repos.d/</span><span style="color:#AB5959;">*</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">~</span><span style="color:#393A34;">/</span><span style="color:#AB5959;">;</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;[\u6B64\u5904\u4F7F\u7528\u7F51\u6613163\u955C\u50CF\u6E90]&quot;</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;[\u5176\u4ED6\u955C\u50CF\u6E90\u53EF\u53C2\u8003https:/www.asfor.cn/server/mirror]&quot;</span><span style="color:#AB5959;">;</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;[\u60A8\u7684repo\u6587\u4EF6\u5DF2\u88AB\u79FB\u52A8\u81F3\u5F53\u524D\u7528\u6237\u7684\u5BB6\u76EE\u5F55]&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">	</span><span style="color:#A0ADA0;"># curl -o /etc/yum.repos.d/CentOS7-Base-163.repo http://mirrors.163.com/.help/CentOS7-Base-163.repo;</span></span>
<span class="line"><span style="color:#393A34;">	curl -o /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-7.repo</span><span style="color:#AB5959;">;</span></span>
<span class="line"><span style="color:#8E8F8B;">	</span><span style="color:#A0ADA0;"># sed -i &#39;s/\\$releasever/7/g&#39; /etc/yum.repos.d/CentOS7-Base-163.repo;</span></span>
<span class="line"><span style="color:#8E8F8B;">	</span><span style="color:#A0ADA0;"># sed -i &#39;s/^enabled=.*/enabled=1/g&#39; /etc/yum.repos.d/CentOS7-Base-163.repo;</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;[yum\u6E90\u6587\u4EF6\u914D\u7F6E\u6210\u529F\uFF0C\u6B63\u5728\u6267\u884C\u68C0\u6D4B\u8F6F\u4EF6\u5305\u6570\u91CF]&quot;</span><span style="color:#AB5959;">;</span></span>
<span class="line"><span style="color:#393A34;">	yum clean all</span><span style="color:#AB5959;">;</span></span>
<span class="line"><span style="color:#393A34;">	yum makecache</span><span style="color:#AB5959;">;</span></span>
<span class="line"><span style="color:#393A34;">	yum repolist</span><span style="color:#AB5959;">;</span></span>
<span class="line"><span style="color:#1C6B48;">elif</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">$</span><span style="color:#8C862B;">NUM</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> 3 </span><span style="color:#8E8F8B;">]</span><span style="color:#AB5959;">;</span><span style="color:#1C6B48;">then</span></span>
<span class="line"><span style="color:#A0ADA0;">#\u5B89\u88C5KVM</span></span>
<span class="line"><span style="color:#393A34;">	yum -y install epel-release vim wget net-tools unzip zip gcc gcc-c++</span><span style="color:#AB5959;">;</span></span>
<span class="line"><span style="color:#393A34;">	yum -y install qemu-kvm qemu-kvm-tools qemu-img virt-manager libvirt libvirt-python libvirt-client virt-install virt-viewer bridge-utils libguestfs-tools</span><span style="color:#AB5959;">;</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;[KVM\u76F8\u5173\u5DE5\u5177\u5DF2\u5B89\u88C5\u6210\u529F]&quot;</span></span>
<span class="line"><span style="color:#1C6B48;">elif</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">$</span><span style="color:#8C862B;">NUM</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> 4 </span><span style="color:#8E8F8B;">]</span><span style="color:#AB5959;">;</span><span style="color:#1C6B48;">then</span></span>
<span class="line"><span style="color:#A0ADA0;">#\u5173\u95ED\u9632\u706B\u5899</span></span>
<span class="line"><span style="color:#393A34;">systemctl stop firewalld</span><span style="color:#AB5959;">;</span></span>
<span class="line"><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;[\u9632\u706B\u5899\u5DF2\u5173\u95ED]&quot;</span></span>
<span class="line"><span style="color:#393A34;">systemctl disable firewalld</span><span style="color:#AB5959;">;</span></span>
<span class="line"><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;[\u9632\u706B\u5899\u670D\u52A1\u5DF2\u88AB\u79FB\u51FA\u5F00\u673A\u542F\u52A8\u5217\u8868]&quot;</span></span>
<span class="line"><span style="color:#1C6B48;">elif</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">$</span><span style="color:#8C862B;">NUM</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> 5 </span><span style="color:#8E8F8B;">]</span><span style="color:#AB5959;">;</span><span style="color:#1C6B48;">then</span></span>
<span class="line"><span style="color:#A0ADA0;">#\u5173\u95EDSELINUX</span></span>
<span class="line"><span style="color:#393A34;">setenforce 0</span><span style="color:#AB5959;">;</span></span>
<span class="line"><span style="color:#393A34;">sed -ri </span><span style="color:#B56959;">&#39;s/^(SELINUX=).*/\\1disabled/g&#39;</span><span style="color:#393A34;"> /etc/selinux/config</span><span style="color:#AB5959;">;</span></span>
<span class="line"><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;[SELINUX\u5DF2\u88AB\u4E34\u65F6\u5173\u95ED\uFF0C\u91CD\u542F\u540E\u5C06\u6C38\u4E45\u751F\u6548]&quot;</span><span style="color:#AB5959;">;</span></span>
<span class="line"><span style="color:#1C6B48;">elif</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">$</span><span style="color:#8C862B;">NUM</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> 6 </span><span style="color:#8E8F8B;">]</span><span style="color:#AB5959;">;</span><span style="color:#1C6B48;">then</span></span>
<span class="line"><span style="color:#A0ADA0;">#\u8BBE\u7F6E\u6865\u63A5</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#B58451;">read</span><span style="color:#393A34;"> -p </span><span style="color:#B56959;">&quot;\u7F51\u5361\u540D\u79F0(example:ens33): &quot;</span><span style="color:#393A34;"> NETNAME</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#B58451;">read</span><span style="color:#393A34;"> -p </span><span style="color:#B56959;">&quot;IP(example:192.168.81.134): &quot;</span><span style="color:#393A34;"> NETIP</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#B58451;">read</span><span style="color:#393A34;"> -p </span><span style="color:#B56959;">&quot;\u7F51\u5173(example:192.168.81.1): &quot;</span><span style="color:#393A34;"> NETGATEWAY</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#B58451;">read</span><span style="color:#393A34;"> -p </span><span style="color:#B56959;">&quot;\u5B50\u7F51\u63A9\u7801(example:255.255.255.0):&quot;</span><span style="color:#393A34;"> NETMASK</span></span>
<span class="line"><span style="color:#393A34;">	cp /etc/sysconfig/network-scripts/ifcfg-</span><span style="color:#8E8F8B;">$</span><span style="color:#8C862B;">NETNAME</span><span style="color:#393A34;"> /etc/sysconfig/network-scripts/ifcfg-br0</span></span>
<span class="line"><span style="color:#393A34;">cat </span><span style="color:#AB5959;">&gt;&gt;</span><span style="color:#393A34;"> /etc/sysconfig/network-scripts/ifcfg-</span><span style="color:#8E8F8B;">$</span><span style="color:#8C862B;">NETNAME</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&lt;&lt;</span><span style="color:#1C6B48;">EOF</span></span>
<span class="line"><span style="color:#B56959;">BRIDGE=br0</span></span>
<span class="line"><span style="color:#B56959;">NM_CONTROLLED=no</span></span>
<span class="line"><span style="color:#1C6B48;">EOF</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;[</span><span style="color:#8E8F8B;">$</span><span style="color:#B56959;">NETNAME\u7F51\u5361\u5DF2\u4FEE\u6539\u5B8C\u6210]&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">cat </span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> /etc/sysconfig/network-scripts/ifcfg-br0 </span><span style="color:#AB5959;">&lt;&lt;</span><span style="color:#1C6B48;">EOF</span></span>
<span class="line"><span style="color:#B56959;">TYPE=Bridge</span></span>
<span class="line"><span style="color:#B56959;">DEVICE=br0</span></span>
<span class="line"><span style="color:#B56959;">NM_CONTROLLED=no</span></span>
<span class="line"><span style="color:#B56959;">BOOTPROTO=static</span></span>
<span class="line"><span style="color:#B56959;">NAME=br0</span></span>
<span class="line"><span style="color:#B56959;">ONBOOT=yes</span></span>
<span class="line"><span style="color:#B56959;">IPADDR=$NETIP</span></span>
<span class="line"><span style="color:#B56959;">NETMASK=$NETMASK</span></span>
<span class="line"><span style="color:#B56959;">GATEWAY=$NETGATEWAY</span></span>
<span class="line"><span style="color:#B56959;">DNS1=114.114.114.114</span></span>
<span class="line"><span style="color:#B56959;">DNS2=8.8.8.8</span></span>
<span class="line"><span style="color:#1C6B48;">EOF</span></span>
<span class="line"><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;[br0\u7F51\u5361\u5DF2\u4FEE\u6539\u5B8C\u6210]&quot;</span></span>
<span class="line"><span style="color:#393A34;">systemctl restart network</span></span>
<span class="line"><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;[\u7F51\u7EDC\u91CD\u542F\u5B8C\u6210\uFF0C\u60A8\u7684\u7F51\u5361\u5217\u8868\u5982\u4E0B\uFF0C\u8BF7\u68C0\u67E5\uFF01]&quot;</span></span>
<span class="line"><span style="color:#393A34;">ip addr list</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">elif</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">$</span><span style="color:#8C862B;">NUM</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> 7 </span><span style="color:#8E8F8B;">]</span><span style="color:#AB5959;">;</span><span style="color:#1C6B48;">then</span></span>
<span class="line"><span style="color:#A0ADA0;">#\u5B89\u88C5\u865A\u62DF\u673A</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">read</span><span style="color:#393A34;"> -p </span><span style="color:#B56959;">&quot;\u8F93\u5165\u865A\u62DF\u673A\u7684\u540D\u5B57\uFF1A&quot;</span><span style="color:#393A34;">  NAME</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">read</span><span style="color:#393A34;"> -p </span><span style="color:#B56959;">&quot;CPU\u6838\u6570(example:1)&quot;</span><span style="color:#393A34;"> CPU</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">read</span><span style="color:#393A34;"> -p </span><span style="color:#B56959;">&quot;\u8F93\u5165\u865A\u62DF\u673A\u5185\u5B58\u5927\u5C0F(M): &quot;</span><span style="color:#393A34;">  MEM</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">read</span><span style="color:#393A34;"> -p </span><span style="color:#B56959;">&quot;\u8F93\u5165\u865A\u62DF\u53CA\u786C\u76D8\u5927\u5C0F(G): &quot;</span><span style="color:#393A34;">  SIZE</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">read</span><span style="color:#393A34;"> -p </span><span style="color:#B56959;">&quot;ISO\u955C\u50CF\u4F4D\u7F6E(example:/root/rhel-server-7.3-x84_64-dvd.iso):&quot;</span><span style="color:#393A34;"> ISOPATH</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B58451;">read</span><span style="color:#393A34;"> -p </span><span style="color:#B56959;">&quot;\u786C\u76D8\u955C\u50CF\u4F4D\u7F6E(example:/root):&quot;</span><span style="color:#393A34;"> DISKPATH</span></span>
<span class="line"><span style="color:#393A34;">    virt-install --virt-type=kvm --name=</span><span style="color:#8E8F8B;">$</span><span style="color:#8C862B;">NAME</span><span style="color:#393A34;"> --vcpus=</span><span style="color:#8E8F8B;">$</span><span style="color:#8C862B;">CPU</span><span style="color:#393A34;"> --memory=</span><span style="color:#8E8F8B;">$</span><span style="color:#8C862B;">MEM</span><span style="color:#393A34;"> --location=</span><span style="color:#8E8F8B;">$</span><span style="color:#8C862B;">ISOPATH</span><span style="color:#393A34;"> --disk path=</span><span style="color:#8E8F8B;">$</span><span style="color:#8C862B;">DISKPATH</span><span style="color:#393A34;">/</span><span style="color:#8E8F8B;">$</span><span style="color:#8C862B;">NAME</span><span style="color:#393A34;">.qcow2,size=</span><span style="color:#8E8F8B;">$</span><span style="color:#8C862B;">SIZE</span><span style="color:#393A34;">,format=qcow2 --network bridge=virbr0 --graphics none --extra-args=</span><span style="color:#B56959;">&#39;console=ttyS0&#39;</span><span style="color:#393A34;"> --force</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">elif</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">$</span><span style="color:#8C862B;">NUM</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> 8 </span><span style="color:#8E8F8B;">]</span><span style="color:#AB5959;">;</span><span style="color:#1C6B48;">then</span></span>
<span class="line"><span style="color:#A0ADA0;">#\u67E5\u770B\u865A\u62DF\u673A</span></span>
<span class="line"><span style="color:#393A34;">virsh list --all</span></span>
<span class="line"><span style="color:#1C6B48;">elif</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">$</span><span style="color:#8C862B;">NUM</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> 9 </span><span style="color:#8E8F8B;">]</span><span style="color:#AB5959;">;</span><span style="color:#1C6B48;">then</span></span>
<span class="line"><span style="color:#A0ADA0;">#\u8FDE\u63A5\u865A\u62DF\u673A</span></span>
<span class="line"><span style="color:#B58451;">read</span><span style="color:#393A34;"> -p </span><span style="color:#B56959;">&quot;\u865A\u62DF\u673A\u540D\u79F0: &quot;</span><span style="color:#393A34;"> XNAME</span></span>
<span class="line"><span style="color:#393A34;">virsh console </span><span style="color:#8E8F8B;">$</span><span style="color:#8C862B;">XNAME</span><span style="color:#AB5959;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">else</span></span>
<span class="line"><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;\u8BF7\u8F93\u5165:0~9\u6570\u5B57!&quot;</span><span style="color:#AB5959;">;</span></span>
<span class="line"><span style="color:#1C6B48;">fi</span></span>
<span class="line"></span></code></pre></div><blockquote><p>\u811A\u672C\u6765\u6E90\u4E8E\u7F51\u7EDC\uFF0C\u4EC5\u7A0D\u4F5C\u4FEE\u6539\u3002</p></blockquote>`,3),e=[o];function t(c,r,y,A,B,D){return n(),a("div",null,e)}var u=s(p,[["render",t]]);export{C as __pageData,u as default};
