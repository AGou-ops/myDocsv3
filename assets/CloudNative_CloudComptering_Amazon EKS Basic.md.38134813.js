import{_ as s,o as n,c as a,a as l}from"./app.1e6146c3.js";const B=JSON.parse('{"title":"Amazon EKS Basic","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u5B89\u88C5aws cli\u5BA2\u6237\u7AEF\u5DE5\u5177","slug":"\u5B89\u88C5aws-cli\u5BA2\u6237\u7AEF\u5DE5\u5177"},{"level":3,"title":"\u4E3A\u7528\u6237\u751F\u6210\u53EF\u4F9B\u4F7F\u7528\u7684\u5B89\u5168\u8BC1\u4E66","slug":"\u4E3A\u7528\u6237\u751F\u6210\u53EF\u4F9B\u4F7F\u7528\u7684\u5B89\u5168\u8BC1\u4E66"},{"level":2,"title":"\u6DFB\u52A0IAM\u7528\u6237\u6388\u6743","slug":"\u6DFB\u52A0iam\u7528\u6237\u6388\u6743"},{"level":2,"title":"\u5B89\u88C5eksctl\u5BA2\u6237\u7AEF\u5DE5\u5177","slug":"\u5B89\u88C5eksctl\u5BA2\u6237\u7AEF\u5DE5\u5177"},{"level":2,"title":"\u90E8\u7F72EKS\u96C6\u7FA4","slug":"\u90E8\u7F72eks\u96C6\u7FA4"},{"level":3,"title":"\u4F7F\u7528kubectl\u67E5\u770B\u96C6\u7FA4\u72B6\u6001","slug":"\u4F7F\u7528kubectl\u67E5\u770B\u96C6\u7FA4\u72B6\u6001"},{"level":2,"title":"\u5176\u4ED6","slug":"\u5176\u4ED6"},{"level":3,"title":"\u4F7F\u7528eksctl\u5220\u9664EKS\u96C6\u7FA4","slug":"\u4F7F\u7528eksctl\u5220\u9664eks\u96C6\u7FA4"},{"level":2,"title":"\u53C2\u8003\u94FE\u63A5","slug":"\u53C2\u8003\u94FE\u63A5"}],"relativePath":"CloudNative/CloudComptering/Amazon EKS Basic.md","lastUpdated":1657272051000}'),o={name:"CloudNative/CloudComptering/Amazon EKS Basic.md"},p=l(`<h1 id="amazon-eks-basic" tabindex="-1">Amazon EKS Basic <a class="header-anchor" href="#amazon-eks-basic" aria-hidden="true">#</a></h1><h2 id="\u5B89\u88C5aws-cli\u5BA2\u6237\u7AEF\u5DE5\u5177" tabindex="-1">\u5B89\u88C5<code>aws cli</code>\u5BA2\u6237\u7AEF\u5DE5\u5177 <a class="header-anchor" href="#\u5B89\u88C5aws-cli\u5BA2\u6237\u7AEF\u5DE5\u5177" aria-hidden="true">#</a></h2><p>\u53C2\u8003\u6307\u5357: <a href="https://docs.aws.amazon.com/zh_cn/cli/latest/userguide/cli-chap-install.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/zh_cn/cli/latest/userguide/cli-chap-install.html</a></p><h3 id="\u4E3A\u7528\u6237\u751F\u6210\u53EF\u4F9B\u4F7F\u7528\u7684\u5B89\u5168\u8BC1\u4E66" tabindex="-1">\u4E3A\u7528\u6237\u751F\u6210\u53EF\u4F9B\u4F7F\u7528\u7684\u5B89\u5168\u8BC1\u4E66 <a class="header-anchor" href="#\u4E3A\u7528\u6237\u751F\u6210\u53EF\u4F9B\u4F7F\u7528\u7684\u5B89\u5168\u8BC1\u4E66" aria-hidden="true">#</a></h3><p><img src="https://agou-images.oss-cn-qingdao.aliyuncs.com/others/aws%20iam-2.png" alt=""></p><h2 id="\u6DFB\u52A0iam\u7528\u6237\u6388\u6743" tabindex="-1">\u6DFB\u52A0<code>IAM</code>\u7528\u6237\u6388\u6743 <a class="header-anchor" href="#\u6DFB\u52A0iam\u7528\u6237\u6388\u6743" aria-hidden="true">#</a></h2><p>\u53EF\u7ED9\u4E88\u7BA1\u7406\u5458\u6743\u9650(\u5982\u4E0B\u56FE\u6240\u793A):</p><p><img src="https://agou-images.oss-cn-qingdao.aliyuncs.com/others/aws%20iam.png" alt=""></p><p>\u5176\u4ED6<code>IAM</code>\u7BA1\u7406\u53C2\u8003\u5B98\u65B9\u6307\u5357: <a href="https://docs.aws.amazon.com/zh_cn/IAM/latest/UserGuide/introduction.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/zh_cn/IAM/latest/UserGuide/introduction.html</a></p><h2 id="\u5B89\u88C5eksctl\u5BA2\u6237\u7AEF\u5DE5\u5177" tabindex="-1">\u5B89\u88C5<code>eksctl</code>\u5BA2\u6237\u7AEF\u5DE5\u5177 <a class="header-anchor" href="#\u5B89\u88C5eksctl\u5BA2\u6237\u7AEF\u5DE5\u5177" aria-hidden="true">#</a></h2><p><code>eks</code>ctl\u5B98\u65B9\u4ED3\u5E93: <a href="https://github.com/weaveworks/eksctl" target="_blank" rel="noopener noreferrer">https://github.com/weaveworks/eksctl</a></p><p>\u4E0B\u8F7D\u5408\u9002\u7248\u672C\u548C\u64CD\u4F5C\u7CFB\u7EDF\u7684\u5305: <a href="https://github.com/weaveworks/eksctl/releases" target="_blank" rel="noopener noreferrer">https://github.com/weaveworks/eksctl/releases</a></p><p>\u5C06\u4E0B\u8F7D\u597D\u7684\u7A0B\u5E8F\u653E\u7F6E\u5230\u73AF\u5883\u53D8\u91CF\u5305\u542B\u7684\u6587\u4EF6\u5939\u4E4B\u4E2D\u5373\u53EF, <code>Linux</code>, <code>Windows</code>, <code>MacOS</code>\u7CFB\u7EDF\u90FD\u662F\u5982\u6B64.</p><p>\u914D\u7F6E\u5B8C\u6210\u4E4B\u540E\u68C0\u67E5\u662F\u5426\u6210\u529F\u5B89\u88C5, \u6253\u5F00<code>cmd \u547D\u4EE4\u6307\u793A\u7B26</code>(Windows \u7CFB\u7EDF):</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">C:</span><span style="color:#D4976C;">\\U</span><span style="color:#DBD7CA;">sers</span><span style="color:#D4976C;">\\A</span><span style="color:#DBD7CA;">dministrator</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;">eksctl version</span></span>
<span class="line"><span style="color:#DBD7CA;">0.27.0</span></span>
<span class="line"><span style="color:#758575;"># \u8F93\u51FA\u4EE5\u4E0A\u7248\u672C\u4FE1\u606F\u5219\u8868\u660E\u5B89\u88C5\u5DF2\u7ECF\u5B8C\u6210</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">C:</span><span style="color:#A65E2B;">\\U</span><span style="color:#393A34;">sers</span><span style="color:#A65E2B;">\\A</span><span style="color:#393A34;">dministrator</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;">eksctl version</span></span>
<span class="line"><span style="color:#393A34;">0.27.0</span></span>
<span class="line"><span style="color:#A0ADA0;"># \u8F93\u51FA\u4EE5\u4E0A\u7248\u672C\u4FE1\u606F\u5219\u8868\u660E\u5B89\u88C5\u5DF2\u7ECF\u5B8C\u6210</span></span>
<span class="line"></span></code></pre></div><h2 id="\u90E8\u7F72eks\u96C6\u7FA4" tabindex="-1">\u90E8\u7F72<code>EKS</code>\u96C6\u7FA4 <a class="header-anchor" href="#\u90E8\u7F72eks\u96C6\u7FA4" aria-hidden="true">#</a></h2><p>\u5728\u547D\u4EE4\u884C\u4E2D\u8F93\u5165\u4EE5\u4E0B\u5185\u5BB9\u4EE5\u90E8\u7F72\u96C6\u7FA4\u670D\u52A1:</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">C:</span><span style="color:#D4976C;">\\U</span><span style="color:#DBD7CA;">sers</span><span style="color:#D4976C;">\\A</span><span style="color:#DBD7CA;">dministrator</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;">eksctl create cluster --name test-cluster --version 1.17 --region ap-east-1 --nodegroup-name linux-nodes --node-type=t3.micro --nodes 2</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  eksctl version 0.27.0</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  using region ap-east-1</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  setting availability zones to </span><span style="color:#858585;">[</span><span style="color:#DBD7CA;">ap-east-1a ap-east-1c ap-east-1b</span><span style="color:#858585;">]</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  subnets </span><span style="color:#4D9375;">for</span><span style="color:#DBD7CA;"> ap-east-1a - public:192.168.0.0/19 private:192.168.96.0/19</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  subnets </span><span style="color:#4D9375;">for</span><span style="color:#DBD7CA;"> ap-east-1c - public:192.168.32.0/19 private:192.168.128.0/19</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  subnets </span><span style="color:#4D9375;">for</span><span style="color:#DBD7CA;"> ap-east-1b - public:192.168.64.0/19 private:192.168.160.0/19</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  nodegroup </span><span style="color:#C98A7D;">&quot;linux-nodes&quot;</span><span style="color:#DBD7CA;"> will use </span><span style="color:#C98A7D;">&quot;ami-004c6d9e8cfe1a936&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#DBD7CA;">AmazonLinux2/1.17</span><span style="color:#858585;">]</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  using Kubernetes version 1.17</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  creating EKS cluster </span><span style="color:#C98A7D;">&quot;test-cluste&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">in</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;ap-east-1&quot;</span><span style="color:#DBD7CA;"> region with un-managed nodes</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  will create 2 separate CloudFormation stacks </span><span style="color:#4D9375;">for</span><span style="color:#DBD7CA;"> cluster itself and the initial nodegroup</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> you encounter any issues, check CloudFormation console or try </span><span style="color:#C98A7D;">&#39;eksctl utils describe-stacks --region=ap-east-1 --cluster=test-cluste&#39;</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  CloudWatch logging will not be enabled </span><span style="color:#4D9375;">for</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">cluster </span><span style="color:#C98A7D;">&quot;test-cluste&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">in</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;ap-east-1&quot;</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  you can </span><span style="color:#E0A569;">enable</span><span style="color:#DBD7CA;"> it with </span><span style="color:#C98A7D;">&#39;eksctl utils update-cluster-logging --region=ap-east-1 --cluster=test-cluste&#39;</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  Kubernetes API endpoint access will use default of {publicAccess=true, privateAccess=false} </span><span style="color:#4D9375;">for</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">cluster </span><span style="color:#C98A7D;">&quot;test-cluste&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">in</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;ap-east-1&quot;</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  2 sequential tasks: </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> create cluster control plane </span><span style="color:#C98A7D;">&quot;test-cluste&quot;</span><span style="color:#DBD7CA;">, 2 sequential sub-tasks: </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> no tasks, create nodegroup </span><span style="color:#C98A7D;">&quot;linux-nodes&quot;</span><span style="color:#DBD7CA;"> } }</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  building cluster stack </span><span style="color:#C98A7D;">&quot;eksctl-test-cluste-cluster&quot;</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  deploying stack </span><span style="color:#C98A7D;">&quot;eksctl-test-cluste-cluster&quot;</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  building nodegroup stack </span><span style="color:#C98A7D;">&quot;eksctl-test-cluste-nodegroup-linux-nodes&quot;</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  --nodes-min=2 was </span><span style="color:#E0A569;">set</span><span style="color:#DBD7CA;"> automatically </span><span style="color:#4D9375;">for</span><span style="color:#DBD7CA;"> nodegroup linux-nodes</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  --nodes-max=2 was </span><span style="color:#E0A569;">set</span><span style="color:#DBD7CA;"> automatically </span><span style="color:#4D9375;">for</span><span style="color:#DBD7CA;"> nodegroup linux-nodes</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  deploying stack </span><span style="color:#C98A7D;">&quot;eksctl-test-cluste-nodegroup-linux-nodes&quot;</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  waiting </span><span style="color:#4D9375;">for</span><span style="color:#DBD7CA;"> the control plane availability...</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2714</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  saved kubeconfig as </span><span style="color:#C98A7D;">&quot;C:</span><span style="color:#D4976C;">\\\\</span><span style="color:#C98A7D;">Users</span><span style="color:#D4976C;">\\\\</span><span style="color:#C98A7D;">Administrator/.kube/config&quot;</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  no tasks</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2714</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  all EKS cluster resources </span><span style="color:#4D9375;">for</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;test-cluste&quot;</span><span style="color:#DBD7CA;"> have been created</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  adding identity </span><span style="color:#C98A7D;">&quot;arn:aws:iam::657565858235:role/eksctl-test-cluste-nodegroup-linu-NodeInstanceRole-18M4CYW81A99T&quot;</span><span style="color:#DBD7CA;"> to auth ConfigMap</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  nodegroup </span><span style="color:#C98A7D;">&quot;linux-nodes&quot;</span><span style="color:#DBD7CA;"> has 1 node</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">s</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  node </span><span style="color:#C98A7D;">&quot;ip-192-168-89-250.ap-east-1.compute.internal&quot;</span><span style="color:#DBD7CA;"> is not ready</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  waiting </span><span style="color:#4D9375;">for</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">at least 2 node(s) to become ready</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">in</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;linux-nodes&quot;</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  nodegroup </span><span style="color:#C98A7D;">&quot;linux-nodes&quot;</span><span style="color:#DBD7CA;"> has 2 node</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">s</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  node </span><span style="color:#C98A7D;">&quot;ip-192-168-23-105.ap-east-1.compute.internal&quot;</span><span style="color:#DBD7CA;"> is ready</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  node </span><span style="color:#C98A7D;">&quot;ip-192-168-89-250.ap-east-1.compute.internal&quot;</span><span style="color:#DBD7CA;"> is ready</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  kubectl </span><span style="color:#E0A569;">command</span><span style="color:#DBD7CA;"> should work with </span><span style="color:#C98A7D;">&quot;C:</span><span style="color:#D4976C;">\\\\</span><span style="color:#C98A7D;">Users</span><span style="color:#D4976C;">\\\\</span><span style="color:#C98A7D;">Administrator/.kube/config&quot;</span><span style="color:#DBD7CA;">, try </span><span style="color:#C98A7D;">&#39;kubectl get nodes&#39;</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2714</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  EKS cluster </span><span style="color:#C98A7D;">&quot;test-cluste&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">in</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;ap-east-1&quot;</span><span style="color:#DBD7CA;"> region is ready</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">C:</span><span style="color:#A65E2B;">\\U</span><span style="color:#393A34;">sers</span><span style="color:#A65E2B;">\\A</span><span style="color:#393A34;">dministrator</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;">eksctl create cluster --name test-cluster --version 1.17 --region ap-east-1 --nodegroup-name linux-nodes --node-type=t3.micro --nodes 2</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  eksctl version 0.27.0</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  using region ap-east-1</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  setting availability zones to </span><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">ap-east-1a ap-east-1c ap-east-1b</span><span style="color:#8E8F8B;">]</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  subnets </span><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> ap-east-1a - public:192.168.0.0/19 private:192.168.96.0/19</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  subnets </span><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> ap-east-1c - public:192.168.32.0/19 private:192.168.128.0/19</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  subnets </span><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> ap-east-1b - public:192.168.64.0/19 private:192.168.160.0/19</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  nodegroup </span><span style="color:#B56959;">&quot;linux-nodes&quot;</span><span style="color:#393A34;"> will use </span><span style="color:#B56959;">&quot;ami-004c6d9e8cfe1a936&quot;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">AmazonLinux2/1.17</span><span style="color:#8E8F8B;">]</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  using Kubernetes version 1.17</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  creating EKS cluster </span><span style="color:#B56959;">&quot;test-cluste&quot;</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">in</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;ap-east-1&quot;</span><span style="color:#393A34;"> region with un-managed nodes</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  will create 2 separate CloudFormation stacks </span><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> cluster itself and the initial nodegroup</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> you encounter any issues, check CloudFormation console or try </span><span style="color:#B56959;">&#39;eksctl utils describe-stacks --region=ap-east-1 --cluster=test-cluste&#39;</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  CloudWatch logging will not be enabled </span><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">cluster </span><span style="color:#B56959;">&quot;test-cluste&quot;</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">in</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;ap-east-1&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  you can </span><span style="color:#B58451;">enable</span><span style="color:#393A34;"> it with </span><span style="color:#B56959;">&#39;eksctl utils update-cluster-logging --region=ap-east-1 --cluster=test-cluste&#39;</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  Kubernetes API endpoint access will use default of {publicAccess=true, privateAccess=false} </span><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">cluster </span><span style="color:#B56959;">&quot;test-cluste&quot;</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">in</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;ap-east-1&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  2 sequential tasks: </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> create cluster control plane </span><span style="color:#B56959;">&quot;test-cluste&quot;</span><span style="color:#393A34;">, 2 sequential sub-tasks: </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> no tasks, create nodegroup </span><span style="color:#B56959;">&quot;linux-nodes&quot;</span><span style="color:#393A34;"> } }</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  building cluster stack </span><span style="color:#B56959;">&quot;eksctl-test-cluste-cluster&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  deploying stack </span><span style="color:#B56959;">&quot;eksctl-test-cluste-cluster&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  building nodegroup stack </span><span style="color:#B56959;">&quot;eksctl-test-cluste-nodegroup-linux-nodes&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  --nodes-min=2 was </span><span style="color:#B58451;">set</span><span style="color:#393A34;"> automatically </span><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> nodegroup linux-nodes</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  --nodes-max=2 was </span><span style="color:#B58451;">set</span><span style="color:#393A34;"> automatically </span><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> nodegroup linux-nodes</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  deploying stack </span><span style="color:#B56959;">&quot;eksctl-test-cluste-nodegroup-linux-nodes&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  waiting </span><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> the control plane availability...</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2714</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  saved kubeconfig as </span><span style="color:#B56959;">&quot;C:</span><span style="color:#A65E2B;">\\\\</span><span style="color:#B56959;">Users</span><span style="color:#A65E2B;">\\\\</span><span style="color:#B56959;">Administrator/.kube/config&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  no tasks</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2714</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  all EKS cluster resources </span><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;test-cluste&quot;</span><span style="color:#393A34;"> have been created</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  adding identity </span><span style="color:#B56959;">&quot;arn:aws:iam::657565858235:role/eksctl-test-cluste-nodegroup-linu-NodeInstanceRole-18M4CYW81A99T&quot;</span><span style="color:#393A34;"> to auth ConfigMap</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  nodegroup </span><span style="color:#B56959;">&quot;linux-nodes&quot;</span><span style="color:#393A34;"> has 1 node</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">s</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  node </span><span style="color:#B56959;">&quot;ip-192-168-89-250.ap-east-1.compute.internal&quot;</span><span style="color:#393A34;"> is not ready</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  waiting </span><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">at least 2 node(s) to become ready</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">in</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;linux-nodes&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  nodegroup </span><span style="color:#B56959;">&quot;linux-nodes&quot;</span><span style="color:#393A34;"> has 2 node</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">s</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  node </span><span style="color:#B56959;">&quot;ip-192-168-23-105.ap-east-1.compute.internal&quot;</span><span style="color:#393A34;"> is ready</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  node </span><span style="color:#B56959;">&quot;ip-192-168-89-250.ap-east-1.compute.internal&quot;</span><span style="color:#393A34;"> is ready</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  kubectl </span><span style="color:#B58451;">command</span><span style="color:#393A34;"> should work with </span><span style="color:#B56959;">&quot;C:</span><span style="color:#A65E2B;">\\\\</span><span style="color:#B56959;">Users</span><span style="color:#A65E2B;">\\\\</span><span style="color:#B56959;">Administrator/.kube/config&quot;</span><span style="color:#393A34;">, try </span><span style="color:#B56959;">&#39;kubectl get nodes&#39;</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2714</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  EKS cluster </span><span style="color:#B56959;">&quot;test-cluste&quot;</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">in</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;ap-east-1&quot;</span><span style="color:#393A34;"> region is ready</span></span>
<span class="line"></span></code></pre></div><p>\u53C2\u6570\u8BF4\u660E:</p><ul><li><code>--name</code>: \u5373\u96C6\u7FA4\u7684\u540D\u79F0;.</li><li><code>--version</code>: k8s\u7248\u672C;</li><li><code>--region</code>: \u521B\u5EFA<code>ec2</code>\u4E3B\u673A\u7684\u5730\u57DF;</li><li><code>--nodegroup</code>: \u8282\u70B9\u6240\u5C5E\u7EC4;</li><li><code>--node-type</code>: \u5B9E\u4F8B\u4E3B\u673A(node)\u7684\u7C7B\u578B;</li><li><code>--nodes</code>: \u8282\u70B9\u6570.</li></ul><p>\u7B49\u5F85<code>Ready</code>\u4E4B\u540E, \u5206\u522B\u767B\u5F55<code>Amazon EKS</code>\u63A7\u5236\u53F0\u548C<code>aws</code>\u7684<code>ec2</code>\u63A7\u5236\u53F0, \u53EF\u4EE5\u53D1\u73B0\u521B\u5EFA\u597D\u7684\u5B9E\u4F8B:</p><p><img src="https://agou-images.oss-cn-qingdao.aliyuncs.com/others/amazon%20EKS.png" alt="Amazon EKS"></p><p><img src="https://agou-images.oss-cn-qingdao.aliyuncs.com/others/20200913163437.png" alt="EC2 dashboard"></p><h3 id="\u4F7F\u7528kubectl\u67E5\u770B\u96C6\u7FA4\u72B6\u6001" tabindex="-1">\u4F7F\u7528<code>kubectl</code>\u67E5\u770B\u96C6\u7FA4\u72B6\u6001 <a class="header-anchor" href="#\u4F7F\u7528kubectl\u67E5\u770B\u96C6\u7FA4\u72B6\u6001" aria-hidden="true">#</a></h3><p>\u4F7F\u7528<code>eksctl</code>\u90E8\u7F72\u597D\u96C6\u7FA4\u4E4B\u540E, \u4F1A\u81EA\u52A8\u751F\u6210<code>kubeconfig</code>, \u53EF\u4EE5\u76F4\u63A5\u5728\u5BA2\u6237\u673A\u4F7F\u7528<code>kubectl</code>\u5DE5\u5177\u8FDE\u63A5\u81F3\u96C6\u7FA4:</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">C:</span><span style="color:#D4976C;">\\U</span><span style="color:#DBD7CA;">sers</span><span style="color:#D4976C;">\\A</span><span style="color:#DBD7CA;">dministrator</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;">kubectl cluster-info</span></span>
<span class="line"><span style="color:#DBD7CA;">Kubernetes master is running at https://100AE2D3CC8AE36B32810F469B566E5B.yl4.ap-east-1.eks.amazonaws.com</span></span>
<span class="line"><span style="color:#DBD7CA;">CoreDNS is running at https://100AE2D3CC8AE36B32810F469B566E5B.yl4.ap-east-1.eks.amazonaws.com/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">To further debug and diagnose cluster problems, use </span><span style="color:#C98A7D;">&#39;kubectl cluster-info dump&#39;</span><span style="color:#DBD7CA;">.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">C:</span><span style="color:#D4976C;">\\U</span><span style="color:#DBD7CA;">sers</span><span style="color:#D4976C;">\\A</span><span style="color:#DBD7CA;">dministrator</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;">kubectl get nodes</span></span>
<span class="line"><span style="color:#DBD7CA;">NAME                                           STATUS   ROLES    AGE   VERSION</span></span>
<span class="line"><span style="color:#DBD7CA;">ip-192-168-23-105.ap-east-1.compute.internal   Ready    </span><span style="color:#CB7676;">&lt;</span><span style="color:#DBD7CA;">none</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;">   18m   v1.17.9-eks-4c6976</span></span>
<span class="line"><span style="color:#DBD7CA;">ip-192-168-89-250.ap-east-1.compute.internal   Ready    </span><span style="color:#CB7676;">&lt;</span><span style="color:#DBD7CA;">none</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;">   18m   v1.17.9-eks-4c6976</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">C:</span><span style="color:#A65E2B;">\\U</span><span style="color:#393A34;">sers</span><span style="color:#A65E2B;">\\A</span><span style="color:#393A34;">dministrator</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;">kubectl cluster-info</span></span>
<span class="line"><span style="color:#393A34;">Kubernetes master is running at https://100AE2D3CC8AE36B32810F469B566E5B.yl4.ap-east-1.eks.amazonaws.com</span></span>
<span class="line"><span style="color:#393A34;">CoreDNS is running at https://100AE2D3CC8AE36B32810F469B566E5B.yl4.ap-east-1.eks.amazonaws.com/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">To further debug and diagnose cluster problems, use </span><span style="color:#B56959;">&#39;kubectl cluster-info dump&#39;</span><span style="color:#393A34;">.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">C:</span><span style="color:#A65E2B;">\\U</span><span style="color:#393A34;">sers</span><span style="color:#A65E2B;">\\A</span><span style="color:#393A34;">dministrator</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;">kubectl get nodes</span></span>
<span class="line"><span style="color:#393A34;">NAME                                           STATUS   ROLES    AGE   VERSION</span></span>
<span class="line"><span style="color:#393A34;">ip-192-168-23-105.ap-east-1.compute.internal   Ready    </span><span style="color:#AB5959;">&lt;</span><span style="color:#393A34;">none</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;">   18m   v1.17.9-eks-4c6976</span></span>
<span class="line"><span style="color:#393A34;">ip-192-168-89-250.ap-east-1.compute.internal   Ready    </span><span style="color:#AB5959;">&lt;</span><span style="color:#393A34;">none</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;">   18m   v1.17.9-eks-4c6976</span></span>
<span class="line"></span></code></pre></div><h2 id="\u5176\u4ED6" tabindex="-1">\u5176\u4ED6 <a class="header-anchor" href="#\u5176\u4ED6" aria-hidden="true">#</a></h2><h3 id="\u4F7F\u7528eksctl\u5220\u9664eks\u96C6\u7FA4" tabindex="-1">\u4F7F\u7528<code>eksctl</code>\u5220\u9664<code>EKS</code>\u96C6\u7FA4 <a class="header-anchor" href="#\u4F7F\u7528eksctl\u5220\u9664eks\u96C6\u7FA4" aria-hidden="true">#</a></h3><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">C:</span><span style="color:#D4976C;">\\U</span><span style="color:#DBD7CA;">sers</span><span style="color:#D4976C;">\\A</span><span style="color:#DBD7CA;">dministrator</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;">eksctl delete cluster --name test-cluste</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  eksctl version 0.27.0</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  using region ap-east-1</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  deleting EKS cluster </span><span style="color:#C98A7D;">&quot;test-cluste&quot;</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  either account is not authorized to use Fargate or region ap-east-1 is not supported. Ignoring error</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2714</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  kubeconfig has been updated</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  cleaning up AWS load balancers created by Kubernetes objects of Kind Service or Ingress</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  2 sequential tasks: </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> delete nodegroup </span><span style="color:#C98A7D;">&quot;linux-nodes&quot;</span><span style="color:#DBD7CA;">, delete cluster control plane </span><span style="color:#C98A7D;">&quot;test-cluste&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#DBD7CA;">async</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;"> }</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  will delete stack </span><span style="color:#C98A7D;">&quot;eksctl-test-cluste-nodegroup-linux-nodes&quot;</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  waiting </span><span style="color:#4D9375;">for</span><span style="color:#DBD7CA;"> stack </span><span style="color:#C98A7D;">&quot;eksctl-test-cluste-nodegroup-linux-nodes&quot;</span><span style="color:#DBD7CA;"> to get deleted</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2139</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  will delete stack </span><span style="color:#C98A7D;">&quot;eksctl-test-cluste-cluster&quot;</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">\u2714</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">  all cluster resources were deleted</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">C:</span><span style="color:#A65E2B;">\\U</span><span style="color:#393A34;">sers</span><span style="color:#A65E2B;">\\A</span><span style="color:#393A34;">dministrator</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;">eksctl delete cluster --name test-cluste</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  eksctl version 0.27.0</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  using region ap-east-1</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  deleting EKS cluster </span><span style="color:#B56959;">&quot;test-cluste&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  either account is not authorized to use Fargate or region ap-east-1 is not supported. Ignoring error</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2714</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  kubeconfig has been updated</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  cleaning up AWS load balancers created by Kubernetes objects of Kind Service or Ingress</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  2 sequential tasks: </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> delete nodegroup </span><span style="color:#B56959;">&quot;linux-nodes&quot;</span><span style="color:#393A34;">, delete cluster control plane </span><span style="color:#B56959;">&quot;test-cluste&quot;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">async</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;"> }</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  will delete stack </span><span style="color:#B56959;">&quot;eksctl-test-cluste-nodegroup-linux-nodes&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  waiting </span><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> stack </span><span style="color:#B56959;">&quot;eksctl-test-cluste-nodegroup-linux-nodes&quot;</span><span style="color:#393A34;"> to get deleted</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2139</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  will delete stack </span><span style="color:#B56959;">&quot;eksctl-test-cluste-cluster&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">\u2714</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">  all cluster resources were deleted</span></span>
<span class="line"></span></code></pre></div><h2 id="\u53C2\u8003\u94FE\u63A5" tabindex="-1">\u53C2\u8003\u94FE\u63A5 <a class="header-anchor" href="#\u53C2\u8003\u94FE\u63A5" aria-hidden="true">#</a></h2><ul><li>Amazon EKS Documentation: <a href="https://docs.aws.amazon.com/zh_cn/eks/index.html" target="_blank" rel="noopener noreferrer">https://docs.aws.amazon.com/zh_cn/eks/index.html</a></li></ul>`,31),e=[p];function t(c,r,y,i,A,u){return n(),a("div",null,e)}var d=s(o,[["render",t]]);export{B as __pageData,d as default};
