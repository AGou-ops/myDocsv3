import{_ as s,o as a,c as n,a as p}from"./app.1e6146c3.js";const B=JSON.parse('{"title":"Nexus + yum \u79C1\u670D","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u521B\u5EFA yum \u79C1\u6709\u4ED3\u5E93","slug":"\u521B\u5EFA-yum-\u79C1\u6709\u4ED3\u5E93"},{"level":3,"title":"\u624B\u52A8\u4E0A\u4F20rpm\u5305\u6587\u4EF6\uFF1A","slug":"\u624B\u52A8\u4E0A\u4F20rpm\u5305\u6587\u4EF6\uFF1A"},{"level":3,"title":"\u4F7F\u7528\u811A\u672C\u6279\u91CF\u4E0A\u4F20","slug":"\u4F7F\u7528\u811A\u672C\u6279\u91CF\u4E0A\u4F20"}],"relativePath":"LinuxBasics/Nexus/Nexus - yum \u79C1\u670D.md","lastUpdated":1657272051000}'),l={name:"LinuxBasics/Nexus/Nexus - yum \u79C1\u670D.md"},o=p(`<h1 id="nexus-yum-\u79C1\u670D" tabindex="-1">Nexus + yum \u79C1\u670D <a class="header-anchor" href="#nexus-yum-\u79C1\u670D" aria-hidden="true">#</a></h1><h1 id="nexus-yum" tabindex="-1">Nexus + yum <a class="header-anchor" href="#nexus-yum" aria-hidden="true">#</a></h1><h2 id="\u521B\u5EFA-yum-\u79C1\u6709\u4ED3\u5E93" tabindex="-1">\u521B\u5EFA yum \u79C1\u6709\u4ED3\u5E93 <a class="header-anchor" href="#\u521B\u5EFA-yum-\u79C1\u6709\u4ED3\u5E93" aria-hidden="true">#</a></h2><p>yum \u79C1\u670D\u6709\u4E09\u7C7B\uFF1A</p><ul><li><code>hosted</code>\uFF1A\u672C\u5730\u5B58\u50A8\uFF0C\u63D0\u4F9B\u672C\u5730\u5B58\u50A8\u529F\u80FD\u670D\u52A1\uFF1B</li><li><code>proxy</code>\uFF1A\u4EE3\u7406\u4ED3\u5E93\uFF0C\u8FDE\u63A5\u5230\u5916\u7F51\u7684<code>aliyun</code>\u3001<code>163</code>\u3001\u6E05\u534E\u7B49\u6E90\uFF1B</li><li><code>group</code>\uFF1A\u7EC4\u7C7B\u578B\uFF0C\u5C06\u591A\u4E2A\u4ED3\u5E93\u5408\u5E76\u4E3A\u4E00\u4E2A\u4ED3\u5E93\uFF0C\u76F8\u5F53\u4E8E\u4E00\u4E2A\u900F\u660E\u4EE3\u7406.</li></ul><p>\u521B\u5EFA\u6B65\u9AA4\u7565\uFF0C\u53C2\u8003[Nexus Basic + Maven \u79C1\u670D](./Nexus Basic + Maven <a href="http://xn--dpv492b.md#%E5%88%9B%E5%BB%BA%E4%BB%93%E5%BA%93(%E9%98%BF%E9%87%8C%E7%9A%84%E4%B8%AD%E5%A4%AE%E4%BB%93%E5%BA%93)" target="_blank" rel="noopener noreferrer">\u79C1\u670D.md#\u521B\u5EFA\u4ED3\u5E93(\u963F\u91CC\u7684\u4E2D\u592E\u4ED3\u5E93)</a>)</p><h3 id="\u624B\u52A8\u4E0A\u4F20rpm\u5305\u6587\u4EF6\uFF1A" tabindex="-1">\u624B\u52A8\u4E0A\u4F20<code>rpm</code>\u5305\u6587\u4EF6\uFF1A <a class="header-anchor" href="#\u624B\u52A8\u4E0A\u4F20rpm\u5305\u6587\u4EF6\uFF1A" aria-hidden="true">#</a></h3><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">curl -v --user </span><span style="color:#C98A7D;">&quot;admin:admin&quot;</span><span style="color:#DBD7CA;"> --upload-file ./docker-ce-19.03.8-3.el7.x86_64.rpm http://192.168.1.5:8081/repository/local/</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">curl -v --user </span><span style="color:#B56959;">&quot;admin:admin&quot;</span><span style="color:#393A34;"> --upload-file ./docker-ce-19.03.8-3.el7.x86_64.rpm http://192.168.1.5:8081/repository/local/</span></span>
<span class="line"></span></code></pre></div><h3 id="\u4F7F\u7528\u811A\u672C\u6279\u91CF\u4E0A\u4F20" tabindex="-1">\u4F7F\u7528\u811A\u672C\u6279\u91CF\u4E0A\u4F20 <a class="header-anchor" href="#\u4F7F\u7528\u811A\u672C\u6279\u91CF\u4E0A\u4F20" aria-hidden="true">#</a></h3><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;">#!/bin/bash</span></span>
<span class="line"><span style="color:#758575;"># copy and run this script to the root of the repository directory containing files</span></span>
<span class="line"><span style="color:#758575;"># this script attempts to exclude uploading itself explicitly so the script name is important</span></span>
<span class="line"><span style="color:#758575;"># Get command line params</span></span>
<span class="line"><span style="color:#4D9375;">while</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">getopts</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;:r:u:p:&quot;</span><span style="color:#DBD7CA;"> opt</span><span style="color:#CB7676;">;</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">do</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#4D9375;">case</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">$</span><span style="color:#B8A965;">opt</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">in</span></span>
<span class="line"><span style="color:#DBD7CA;">		r</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> REPO_URL=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">$</span><span style="color:#C98A7D;">OPTARG&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">		</span><span style="color:#858585;">;;</span></span>
<span class="line"><span style="color:#DBD7CA;">		u</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> USERNAME=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">$</span><span style="color:#C98A7D;">OPTARG&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">		</span><span style="color:#858585;">;;</span></span>
<span class="line"><span style="color:#DBD7CA;">		p</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> PASSWORD=</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">$</span><span style="color:#C98A7D;">OPTARG&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">		</span><span style="color:#858585;">;;</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#4D9375;">esac</span></span>
<span class="line"><span style="color:#4D9375;">done</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">find </span><span style="color:#E0A569;">.</span><span style="color:#DBD7CA;"> -type f -not -path </span><span style="color:#C98A7D;">&#39;./upload\\.sh&#39;</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">|</span><span style="color:#DBD7CA;"> sed </span><span style="color:#C98A7D;">&quot;s@^\\./@@&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">|</span><span style="color:#DBD7CA;"> xargs -I </span><span style="color:#C98A7D;">&#39;{}&#39;</span><span style="color:#DBD7CA;"> curl -u </span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">$</span><span style="color:#C98A7D;">USERNAME:</span><span style="color:#858585;">$</span><span style="color:#C98A7D;">PASSWORD&quot;</span><span style="color:#DBD7CA;"> -X PUT -v -T {} </span><span style="color:#858585;">\${</span><span style="color:#B8A965;">REPO_URL</span><span style="color:#858585;">}</span><span style="color:#DBD7CA;">/{} </span><span style="color:#CB7676;">;</span></span>
<span class="line"><span style="color:#758575;"># find . -type f -not -path &#39;./mavenimport\\.sh*&#39; -not -path &#39;*/\\.*&#39; -not -path &#39;*/\\^archetype\\-catalog\\.xml*&#39; -not -path &#39;*/\\^maven\\-metadata\\-local*\\.xml&#39; -not -path &#39;*/\\^maven\\-metadata\\-deployment*\\.xml&#39; | sed &quot;s|^\\./||&quot; | xargs -I &#39;{}&#39; curl -u &quot;$USERNAME:$PASSWORD&quot; -X PUT -v -T {} \${REPO_URL}/{} ;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">#!/bin/bash</span></span>
<span class="line"><span style="color:#A0ADA0;"># copy and run this script to the root of the repository directory containing files</span></span>
<span class="line"><span style="color:#A0ADA0;"># this script attempts to exclude uploading itself explicitly so the script name is important</span></span>
<span class="line"><span style="color:#A0ADA0;"># Get command line params</span></span>
<span class="line"><span style="color:#1C6B48;">while</span><span style="color:#393A34;"> </span><span style="color:#B58451;">getopts</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;:r:u:p:&quot;</span><span style="color:#393A34;"> opt</span><span style="color:#AB5959;">;</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">do</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#1C6B48;">case</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">$</span><span style="color:#8C862B;">opt</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">in</span></span>
<span class="line"><span style="color:#393A34;">		r</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> REPO_URL=</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">$</span><span style="color:#B56959;">OPTARG&quot;</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#8E8F8B;">;;</span></span>
<span class="line"><span style="color:#393A34;">		u</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> USERNAME=</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">$</span><span style="color:#B56959;">OPTARG&quot;</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#8E8F8B;">;;</span></span>
<span class="line"><span style="color:#393A34;">		p</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> PASSWORD=</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">$</span><span style="color:#B56959;">OPTARG&quot;</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#8E8F8B;">;;</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#1C6B48;">esac</span></span>
<span class="line"><span style="color:#1C6B48;">done</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">find </span><span style="color:#B58451;">.</span><span style="color:#393A34;"> -type f -not -path </span><span style="color:#B56959;">&#39;./upload\\.sh&#39;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">|</span><span style="color:#393A34;"> sed </span><span style="color:#B56959;">&quot;s@^\\./@@&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">|</span><span style="color:#393A34;"> xargs -I </span><span style="color:#B56959;">&#39;{}&#39;</span><span style="color:#393A34;"> curl -u </span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">$</span><span style="color:#B56959;">USERNAME:</span><span style="color:#8E8F8B;">$</span><span style="color:#B56959;">PASSWORD&quot;</span><span style="color:#393A34;"> -X PUT -v -T {} </span><span style="color:#8E8F8B;">\${</span><span style="color:#8C862B;">REPO_URL</span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;">/{} </span><span style="color:#AB5959;">;</span></span>
<span class="line"><span style="color:#A0ADA0;"># find . -type f -not -path &#39;./mavenimport\\.sh*&#39; -not -path &#39;*/\\.*&#39; -not -path &#39;*/\\^archetype\\-catalog\\.xml*&#39; -not -path &#39;*/\\^maven\\-metadata\\-local*\\.xml&#39; -not -path &#39;*/\\^maven\\-metadata\\-deployment*\\.xml&#39; | sed &quot;s|^\\./||&quot; | xargs -I &#39;{}&#39; curl -u &quot;$USERNAME:$PASSWORD&quot; -X PUT -v -T {} \${REPO_URL}/{} ;</span></span>
<span class="line"></span></code></pre></div><p>\u8FD0\u884C\u811A\u672C\uFF1A</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">./importRPMs.sh -u admin -p admin -r http://192.168.1.5:8081/repository/local/</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">./importRPMs.sh -u admin -p admin -r http://192.168.1.5:8081/repository/local/</span></span>
<span class="line"></span></code></pre></div>`,12),e=[o];function t(c,r,y,i,d,A){return a(),n("div",null,e)}var D=s(l,[["render",t]]);export{B as __pageData,D as default};
