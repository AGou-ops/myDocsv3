import{_ as s,o as n,c as a,a as l}from"./app.1e6146c3.js";const C=JSON.parse('{"title":"Golang \u6587\u4EF6\u64CD\u4F5C","description":"","frontmatter":{},"headers":[{"level":2,"title":"Everything is a File","slug":"everything-is-a-file"},{"level":2,"title":"Create Empty File","slug":"create-empty-file"},{"level":2,"title":"\u6587\u4EF6\u5939\u64CD\u4F5C","slug":"\u6587\u4EF6\u5939\u64CD\u4F5C"},{"level":2,"title":"Truncate a File","slug":"truncate-a-file"},{"level":2,"title":"Get File Info","slug":"get-file-info"},{"level":2,"title":"Rename and Move a File","slug":"rename-and-move-a-file"},{"level":2,"title":"Delete a File","slug":"delete-a-file"},{"level":2,"title":"Open and Close Files","slug":"open-and-close-files"},{"level":2,"title":"Check if File Exists","slug":"check-if-file-exists"},{"level":2,"title":"Check Read and Write Permissions","slug":"check-read-and-write-permissions"},{"level":2,"title":"Change Permissions, Ownership, and Timestamps","slug":"change-permissions-ownership-and-timestamps"},{"level":2,"title":"Hard Links and Symlinks","slug":"hard-links-and-symlinks"},{"level":2,"title":"Copy a File","slug":"copy-a-file"},{"level":2,"title":"Seek Positions in File","slug":"seek-positions-in-file"},{"level":2,"title":"Write Bytes to a File","slug":"write-bytes-to-a-file"},{"level":2,"title":"Quick Write to File","slug":"quick-write-to-file"},{"level":2,"title":"Use Buffered Writer","slug":"use-buffered-writer"},{"level":2,"title":"Read up to n Bytes from File","slug":"read-up-to-n-bytes-from-file"},{"level":2,"title":"Read Exactly n Bytes","slug":"read-exactly-n-bytes"},{"level":2,"title":"Read At Least n Bytes","slug":"read-at-least-n-bytes"},{"level":2,"title":"Read All Bytes of File","slug":"read-all-bytes-of-file"},{"level":2,"title":"Quick Read Whole File to Memory","slug":"quick-read-whole-file-to-memory"},{"level":2,"title":"Use Buffered Reader","slug":"use-buffered-reader"},{"level":2,"title":"Read with a Scanner","slug":"read-with-a-scanner"},{"level":2,"title":"Archive(Zip) Files","slug":"archive-zip-files"},{"level":2,"title":"Extract(Unzip) Archived Files","slug":"extract-unzip-archived-files"},{"level":2,"title":"Compress a File","slug":"compress-a-file"},{"level":2,"title":"Uncompress a File","slug":"uncompress-a-file"},{"level":2,"title":"Temporary Files and Directories","slug":"temporary-files-and-directories"},{"level":2,"title":"Downloading a File Over HTTP","slug":"downloading-a-file-over-http"},{"level":2,"title":"Hashing and Checksums","slug":"hashing-and-checksums"},{"level":2,"title":"\u9644\u5F55\uFF1AGolang \u6587\u4EF6\u76F8\u5173\u51FD\u6570","slug":"\u9644\u5F55\uFF1Agolang-\u6587\u4EF6\u76F8\u5173\u51FD\u6570"},{"level":3,"title":"Basic Operations","slug":"basic-operations"},{"level":3,"title":"file open flag","slug":"file-open-flag"},{"level":3,"title":"Hard Link & Symbol Link","slug":"hard-link-symbol-link"},{"level":3,"title":"Read and Write","slug":"read-and-write"},{"level":3,"title":"Work with direct\xADories","slug":"work-with-direct\xADories"},{"level":3,"title":"Shortcuts","slug":"shortcuts"},{"level":3,"title":"Temporary files and direct\xADories","slug":"temporary-files-and-direct\xADories"},{"level":3,"title":"References","slug":"references"},{"level":2,"title":"\u53C2\u8003\u94FE\u63A5","slug":"\u53C2\u8003\u94FE\u63A5"}],"relativePath":"ProgramLang/Golang/Golang File Operate.md","lastUpdated":1657272051000}'),p={name:"ProgramLang/Golang/Golang File Operate.md"},o=l(`<h1 id="golang-\u6587\u4EF6\u64CD\u4F5C" tabindex="-1">Golang \u6587\u4EF6\u64CD\u4F5C <a class="header-anchor" href="#golang-\u6587\u4EF6\u64CD\u4F5C" aria-hidden="true">#</a></h1><blockquote><p>\u90E8\u5206\u539F\u6587\u94FE\u63A5\uFF1A<a href="https://www.devdungeon.com/content/working-files-go#everything_is_a_file" target="_blank" rel="noopener noreferrer">https://www.devdungeon.com/content/working-files-go#everything_is_a_file</a></p></blockquote><h2 id="everything-is-a-file" tabindex="-1">Everything is a File <a class="header-anchor" href="#everything-is-a-file" aria-hidden="true">#</a></h2><p>One of the fundamental aspects of UNIX is that everything is a file. We don&#39;t necessarily know what the file descriptor maps to, that is abstracted by the operating system&#39;s device drivers. The operating system provides us an interface to the device in the form of a file.</p><p>The reader and writer interfaces in Go are similar abstractions. We simply read and write bytes, without the need to understand where or how the reader gets its data or where the writer is sending the data. Look in <strong>/dev</strong> to find available devices. Some will require elevated privileges to access.</p><h2 id="create-empty-file" tabindex="-1">Create Empty File <a class="header-anchor" href="#create-empty-file" aria-hidden="true">#</a></h2><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">os</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">var</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">newFile</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">*</span><span style="color:#DBD7CA;">os</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">File</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;">     </span><span style="color:#CB7676;">error</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">newFile</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Create</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.txt&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">newFile</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    newFile</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Close</span><span style="color:#858585;">()</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">os</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">var</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">newFile</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">*</span><span style="color:#393A34;">os</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">File</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">err</span><span style="color:#393A34;">     </span><span style="color:#AB5959;">error</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">newFile</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Create</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.txt&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">newFile</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    newFile</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Close</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="\u6587\u4EF6\u5939\u64CD\u4F5C" tabindex="-1">\u6587\u4EF6\u5939\u64CD\u4F5C <a class="header-anchor" href="#\u6587\u4EF6\u5939\u64CD\u4F5C" aria-hidden="true">#</a></h2><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;">// \u5FEB\u901F\u5F00\u59CB</span></span>
<span class="line"><span style="color:#B8A965;">path</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;test/&quot;</span></span>
<span class="line"><span style="color:#758575;">// \u5FFD\u7565\u8B66\u544A\u5185\u5BB9</span></span>
<span class="line"><span style="color:#B8A965;">_</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Mkdir</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">path</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">ModePerm</span><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;">// \u5F53\u6587\u4EF6\u5939\u4E0D\u5B58\u5728\u65F6\u521B\u5EFA\u6587\u4EF6\u5939</span></span>
<span class="line"><span style="color:#B8A965;">path</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;test/&quot;</span></span>
<span class="line"><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">_</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Stat</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">path</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> errors</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Is</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">ErrNotExist</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Mkdir</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">path</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">ModePerm</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;">// \u9012\u5F52\u521B\u5EFA\u6587\u4EF6\u5939</span></span>
<span class="line"><span style="color:#B8A965;">path</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;test/test1/test2/test3&quot;</span></span>
<span class="line"><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">MkdirAll</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">path</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">ModePerm</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;">// rename \u6587\u4EF6\u5939</span></span>
<span class="line"><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Rename</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test/&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;test2/&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;">// delete \u6587\u4EF6\u5939\uFF0C\u9012\u5F52\u5220\u9664</span></span>
<span class="line"><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">RemoveAll</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;filepath&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;">// \u83B7\u53D6\u5F53\u524D\u76EE\u5F55\u6240\u6709\u6587\u4EF6\u4EE5\u53CA\u6587\u4EF6\u5939</span></span>
<span class="line"><span style="color:#B8A965;">file</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Open</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;.&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">file</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#4D9375;">defer</span><span style="color:#DBD7CA;"> file</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Close</span><span style="color:#858585;">()</span></span>
<span class="line"><span style="color:#758575;">//	\u8BFB\u53D6\u76EE\u5F55\u4E0B\u7684\u5B50\u6587\u4EF6(\u6709\u53EF\u80FD\u662F\u4E00\u4E2A\u6587\u4EF6\uFF0C\u6709\u53EF\u80FD\u662F\u4E00\u4E2A\u5B50\u76EE\u5F55)</span></span>
<span class="line"><span style="color:#758575;">// fmt.Println(file.Readdir(10))</span></span>
<span class="line"><span style="color:#758575;">// fmt.Println(file.Readdirnames(10))</span></span>
<span class="line"><span style="color:#758575;">// fmt.Println(file.Readdirnames(10))</span></span>
<span class="line"><span style="color:#758575;">// fmt.Println(file.Readdirnames(-1))</span></span>
<span class="line"><span style="color:#B8A965;">files</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> file</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Readdir</span><span style="color:#858585;">(</span><span style="color:#CB7676;">-</span><span style="color:#6394BF;">1</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#4D9375;">for</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">_</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">file</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">range</span><span style="color:#DBD7CA;"> files </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">file</span><span style="color:#858585;">.</span><span style="color:#E0A569;">IsDir</span><span style="color:#858585;">(),</span><span style="color:#DBD7CA;"> file</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Name</span><span style="color:#858585;">(),</span><span style="color:#DBD7CA;"> file</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Size</span><span style="color:#858585;">(),</span><span style="color:#DBD7CA;"> file</span><span style="color:#858585;">.</span><span style="color:#E0A569;">ModTime</span><span style="color:#858585;">(),</span><span style="color:#DBD7CA;"> file</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Mode</span><span style="color:#858585;">())</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// \u5FEB\u901F\u5F00\u59CB</span></span>
<span class="line"><span style="color:#8C862B;">path</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;test/&quot;</span></span>
<span class="line"><span style="color:#A0ADA0;">// \u5FFD\u7565\u8B66\u544A\u5185\u5BB9</span></span>
<span class="line"><span style="color:#8C862B;">_</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Mkdir</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">path</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">ModePerm</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// \u5F53\u6587\u4EF6\u5939\u4E0D\u5B58\u5728\u65F6\u521B\u5EFA\u6587\u4EF6\u5939</span></span>
<span class="line"><span style="color:#8C862B;">path</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;test/&quot;</span></span>
<span class="line"><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">_</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Stat</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">path</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> errors</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Is</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">ErrNotExist</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Mkdir</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">path</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">ModePerm</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// \u9012\u5F52\u521B\u5EFA\u6587\u4EF6\u5939</span></span>
<span class="line"><span style="color:#8C862B;">path</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;test/test1/test2/test3&quot;</span></span>
<span class="line"><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">MkdirAll</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">path</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">ModePerm</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// rename \u6587\u4EF6\u5939</span></span>
<span class="line"><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Rename</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test/&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;test2/&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// delete \u6587\u4EF6\u5939\uFF0C\u9012\u5F52\u5220\u9664</span></span>
<span class="line"><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">RemoveAll</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;filepath&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// \u83B7\u53D6\u5F53\u524D\u76EE\u5F55\u6240\u6709\u6587\u4EF6\u4EE5\u53CA\u6587\u4EF6\u5939</span></span>
<span class="line"><span style="color:#8C862B;">file</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Open</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;.&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">file</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#1C6B48;">defer</span><span style="color:#393A34;"> file</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Close</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"><span style="color:#A0ADA0;">//	\u8BFB\u53D6\u76EE\u5F55\u4E0B\u7684\u5B50\u6587\u4EF6(\u6709\u53EF\u80FD\u662F\u4E00\u4E2A\u6587\u4EF6\uFF0C\u6709\u53EF\u80FD\u662F\u4E00\u4E2A\u5B50\u76EE\u5F55)</span></span>
<span class="line"><span style="color:#A0ADA0;">// fmt.Println(file.Readdir(10))</span></span>
<span class="line"><span style="color:#A0ADA0;">// fmt.Println(file.Readdirnames(10))</span></span>
<span class="line"><span style="color:#A0ADA0;">// fmt.Println(file.Readdirnames(10))</span></span>
<span class="line"><span style="color:#A0ADA0;">// fmt.Println(file.Readdirnames(-1))</span></span>
<span class="line"><span style="color:#8C862B;">files</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> file</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Readdir</span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">-</span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">_</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">file</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">range</span><span style="color:#393A34;"> files </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">file</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">IsDir</span><span style="color:#8E8F8B;">(),</span><span style="color:#393A34;"> file</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Name</span><span style="color:#8E8F8B;">(),</span><span style="color:#393A34;"> file</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Size</span><span style="color:#8E8F8B;">(),</span><span style="color:#393A34;"> file</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">ModTime</span><span style="color:#8E8F8B;">(),</span><span style="color:#393A34;"> file</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Mode</span><span style="color:#8E8F8B;">())</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h2 id="truncate-a-file" tabindex="-1">Truncate a File <a class="header-anchor" href="#truncate-a-file" aria-hidden="true">#</a></h2><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">os</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Truncate a file to 100 bytes. If file</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// is less than 100 bytes the original contents will remain</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// at the beginning, and the rest of the space is</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// filled will null bytes. If it is over 100 bytes,</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Everything past 100 bytes will be lost. Either way</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// we will end up with exactly 100 bytes.</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Pass in 0 to truncate to a completely empty file</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Truncate</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.txt&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">100</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">os</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Truncate a file to 100 bytes. If file</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// is less than 100 bytes the original contents will remain</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// at the beginning, and the rest of the space is</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// filled will null bytes. If it is over 100 bytes,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Everything past 100 bytes will be lost. Either way</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// we will end up with exactly 100 bytes.</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Pass in 0 to truncate to a completely empty file</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Truncate</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.txt&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">100</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="get-file-info" tabindex="-1">Get File Info <a class="header-anchor" href="#get-file-info" aria-hidden="true">#</a></h2><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">fmt</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">os</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">var</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">fileInfo</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">FileInfo</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;">      </span><span style="color:#CB7676;">error</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Stat returns file info. It will return</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// an error if there is no file.</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">fileInfo</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Stat</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.txt&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;File name:&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> fileInfo</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Name</span><span style="color:#858585;">())</span></span>
<span class="line"><span style="color:#DBD7CA;">    fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Size in bytes:&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> fileInfo</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Size</span><span style="color:#858585;">())</span></span>
<span class="line"><span style="color:#DBD7CA;">    fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Permissions:&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> fileInfo</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Mode</span><span style="color:#858585;">())</span></span>
<span class="line"><span style="color:#DBD7CA;">    fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Last modified:&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> fileInfo</span><span style="color:#858585;">.</span><span style="color:#E0A569;">ModTime</span><span style="color:#858585;">())</span></span>
<span class="line"><span style="color:#DBD7CA;">    fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Is Directory: &quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> fileInfo</span><span style="color:#858585;">.</span><span style="color:#E0A569;">IsDir</span><span style="color:#858585;">())</span></span>
<span class="line"><span style="color:#DBD7CA;">    fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;System interface type: </span><span style="color:#D4976C;">%T\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> fileInfo</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Sys</span><span style="color:#858585;">())</span></span>
<span class="line"><span style="color:#DBD7CA;">    fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;System info: </span><span style="color:#D4976C;">%+v\\n\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> fileInfo</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Sys</span><span style="color:#858585;">())</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">fmt</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">os</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">var</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">fileInfo</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">FileInfo</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">err</span><span style="color:#393A34;">      </span><span style="color:#AB5959;">error</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Stat returns file info. It will return</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// an error if there is no file.</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">fileInfo</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Stat</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.txt&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;File name:&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> fileInfo</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Name</span><span style="color:#8E8F8B;">())</span></span>
<span class="line"><span style="color:#393A34;">    fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Size in bytes:&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> fileInfo</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Size</span><span style="color:#8E8F8B;">())</span></span>
<span class="line"><span style="color:#393A34;">    fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Permissions:&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> fileInfo</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Mode</span><span style="color:#8E8F8B;">())</span></span>
<span class="line"><span style="color:#393A34;">    fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Last modified:&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> fileInfo</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">ModTime</span><span style="color:#8E8F8B;">())</span></span>
<span class="line"><span style="color:#393A34;">    fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Is Directory: &quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> fileInfo</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">IsDir</span><span style="color:#8E8F8B;">())</span></span>
<span class="line"><span style="color:#393A34;">    fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;System interface type: </span><span style="color:#A65E2B;">%T\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> fileInfo</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Sys</span><span style="color:#8E8F8B;">())</span></span>
<span class="line"><span style="color:#393A34;">    fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;System info: </span><span style="color:#A65E2B;">%+v\\n\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> fileInfo</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Sys</span><span style="color:#8E8F8B;">())</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="rename-and-move-a-file" tabindex="-1">Rename and Move a File <a class="header-anchor" href="#rename-and-move-a-file" aria-hidden="true">#</a></h2><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">os</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">originalPath</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;test.txt&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">newPath</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;test2.txt&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Rename</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">originalPath</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> newPath</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">os</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">originalPath</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;test.txt&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">newPath</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;test2.txt&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Rename</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">originalPath</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> newPath</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="delete-a-file" tabindex="-1">Delete a File <a class="header-anchor" href="#delete-a-file" aria-hidden="true">#</a></h2><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">os</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Remove</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.txt&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">os</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Remove</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.txt&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="open-and-close-files" tabindex="-1">Open and Close Files <a class="header-anchor" href="#open-and-close-files" aria-hidden="true">#</a></h2><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">os</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Simple read only open. We will cover actually reading</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// and writing to files in examples further down the page</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">file</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Open</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.txt&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    file</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Close</span><span style="color:#858585;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// OpenFile with more options. Last param is the permission mode</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Second param is the attributes when opening</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">file</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">OpenFile</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.txt&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">O_APPEND</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0666</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    file</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Close</span><span style="color:#858585;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Use these attributes individually or combined</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// with an OR for second arg of OpenFile()</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// e.g. os.O_CREATE|os.O_APPEND</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// or os.O_CREATE|os.O_TRUNC|os.O_WRONLY</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// os.O_RDONLY // Read only</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// os.O_WRONLY // Write only</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// os.O_RDWR // Read and write</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// os.O_APPEND // Append to end of file</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// os.O_CREATE // Create is none exist</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// os.O_TRUNC // Truncate file when opening</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">os</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Simple read only open. We will cover actually reading</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// and writing to files in examples further down the page</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">file</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Open</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.txt&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    file</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Close</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// OpenFile with more options. Last param is the permission mode</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Second param is the attributes when opening</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">file</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">OpenFile</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.txt&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">O_APPEND</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0666</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    file</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Close</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Use these attributes individually or combined</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// with an OR for second arg of OpenFile()</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// e.g. os.O_CREATE|os.O_APPEND</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// or os.O_CREATE|os.O_TRUNC|os.O_WRONLY</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// os.O_RDONLY // Read only</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// os.O_WRONLY // Write only</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// os.O_RDWR // Read and write</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// os.O_APPEND // Append to end of file</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// os.O_CREATE // Create is none exist</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// os.O_TRUNC // Truncate file when opening</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="check-if-file-exists" tabindex="-1">Check if File Exists <a class="header-anchor" href="#check-if-file-exists" aria-hidden="true">#</a></h2><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">os</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">var</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">fileInfo</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">*</span><span style="color:#DBD7CA;">os</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">FileInfo</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;">      </span><span style="color:#CB7676;">error</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Stat returns file info. It will return</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// an error if there is no file.</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">fileInfo</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Stat</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.txt&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">IsNotExist</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">            log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;File does not exist.&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;File does exist. File information:&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">fileInfo</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">os</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">var</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">fileInfo</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">*</span><span style="color:#393A34;">os</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">FileInfo</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">err</span><span style="color:#393A34;">      </span><span style="color:#AB5959;">error</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Stat returns file info. It will return</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// an error if there is no file.</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">fileInfo</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Stat</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.txt&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">IsNotExist</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;File does not exist.&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;File does exist. File information:&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">fileInfo</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="check-read-and-write-permissions" tabindex="-1">Check Read and Write Permissions <a class="header-anchor" href="#check-read-and-write-permissions" aria-hidden="true">#</a></h2><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">os</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Test write permissions. It is possible the file</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// does not exist and that will return a different</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// error that can be checked with os.IsNotExist(err)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">file</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">OpenFile</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.txt&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">O_WRONLY</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0666</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">IsPermission</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">            log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Error: Write permission denied.&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    file</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Close</span><span style="color:#858585;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Test read permissions</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">file</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">OpenFile</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.txt&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">O_RDONLY</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0666</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">IsPermission</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">            log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Error: Read permission denied.&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    file</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Close</span><span style="color:#858585;">()</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">os</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Test write permissions. It is possible the file</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// does not exist and that will return a different</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// error that can be checked with os.IsNotExist(err)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">file</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">OpenFile</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.txt&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">O_WRONLY</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0666</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">IsPermission</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Error: Write permission denied.&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    file</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Close</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Test read permissions</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">file</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">OpenFile</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.txt&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">O_RDONLY</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0666</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">IsPermission</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Error: Read permission denied.&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    file</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Close</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="change-permissions-ownership-and-timestamps" tabindex="-1">Change Permissions, Ownership, and Timestamps <a class="header-anchor" href="#change-permissions-ownership-and-timestamps" aria-hidden="true">#</a></h2><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">os</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">time</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Change perrmissions using Linux style</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Chmod</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.txt&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0777</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Change ownership</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Chown</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.txt&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Getuid</span><span style="color:#858585;">(),</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Getgid</span><span style="color:#858585;">())</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Change timestamps</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">twoDaysFromNow</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> time</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Now</span><span style="color:#858585;">().</span><span style="color:#E0A569;">Add</span><span style="color:#858585;">(</span><span style="color:#6394BF;">48</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">*</span><span style="color:#DBD7CA;"> time</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">Hour</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">lastAccessTime</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> twoDaysFromNow</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">lastModifyTime</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> twoDaysFromNow</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Chtimes</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.txt&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> lastAccessTime</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> lastModifyTime</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">os</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">time</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Change perrmissions using Linux style</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Chmod</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.txt&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0777</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Change ownership</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Chown</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.txt&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Getuid</span><span style="color:#8E8F8B;">(),</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Getgid</span><span style="color:#8E8F8B;">())</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Change timestamps</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">twoDaysFromNow</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> time</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Now</span><span style="color:#8E8F8B;">().</span><span style="color:#B58451;">Add</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">48</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">*</span><span style="color:#393A34;"> time</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">Hour</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">lastAccessTime</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> twoDaysFromNow</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">lastModifyTime</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> twoDaysFromNow</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Chtimes</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.txt&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> lastAccessTime</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> lastModifyTime</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="hard-links-and-symlinks" tabindex="-1">Hard Links and Symlinks <a class="header-anchor" href="#hard-links-and-symlinks" aria-hidden="true">#</a></h2><p>A typical file is just a pointer to a place on the hard disk called an inode. A hard link creates a new pointer to the same place. A file will only be deleted from disk after all links are removed. Hard links only work on the same file system. A hard link is what you might consider a &#39;normal&#39; link.</p><p>A symbolic link, or soft link, is a little different, it does not point directly to a place on the disk. Symlinks only reference other files by name. They can point to files on different filesystems. Not all systems support symlinks.</p><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">os</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">fmt</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Create a hard link</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// You will have two file names that point to the same contents</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Changing the contents of one will change the other</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Deleting/renaming one will not affect the other</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Link</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;original.txt&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;original_also.txt&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;creating sym&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Create a symlink</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Symlink</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;original.txt&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;original_sym.txt&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Lstat will return file info, but if it is actually</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// a symlink, it will return info about the symlink.</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// It will not follow the link and give information</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// about the real file</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Symlinks do not work in Windows</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">fileInfo</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Lstat</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;original_sym.txt&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Link info: </span><span style="color:#D4976C;">%+v</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> fileInfo</span><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Change ownership of a symlink only </span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// and not the file it points to</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Lchown</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;original_sym.txt&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Getuid</span><span style="color:#858585;">(),</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Getgid</span><span style="color:#858585;">())</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">os</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">fmt</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Create a hard link</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// You will have two file names that point to the same contents</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Changing the contents of one will change the other</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Deleting/renaming one will not affect the other</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Link</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;original.txt&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;original_also.txt&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;creating sym&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Create a symlink</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Symlink</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;original.txt&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;original_sym.txt&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Lstat will return file info, but if it is actually</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// a symlink, it will return info about the symlink.</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// It will not follow the link and give information</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// about the real file</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Symlinks do not work in Windows</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">fileInfo</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Lstat</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;original_sym.txt&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Link info: </span><span style="color:#A65E2B;">%+v</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> fileInfo</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Change ownership of a symlink only </span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// and not the file it points to</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Lchown</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;original_sym.txt&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Getuid</span><span style="color:#8E8F8B;">(),</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Getgid</span><span style="color:#8E8F8B;">())</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="copy-a-file" tabindex="-1">Copy a File <a class="header-anchor" href="#copy-a-file" aria-hidden="true">#</a></h2><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">os</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">io</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;">// Copy a file</span></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Open original file</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">originalFile</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Open</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.txt&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">defer</span><span style="color:#DBD7CA;"> originalFile</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Close</span><span style="color:#858585;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Create new file</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">newFile</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Create</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test_copy.txt&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">defer</span><span style="color:#DBD7CA;"> newFile</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Close</span><span style="color:#858585;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Copy the bytes to destination from source</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">bytesWritten</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> io</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Copy</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">newFile</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> originalFile</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Copied </span><span style="color:#D4976C;">%d</span><span style="color:#C98A7D;"> bytes.&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> bytesWritten</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Copy the bytes to destination from source -- way 2, use ioutil package</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">input</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> ioutil</span><span style="color:#858585;">.</span><span style="color:#E0A569;">ReadFile</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">sourceFile</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#4D9375;">return</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> ioutil</span><span style="color:#858585;">.</span><span style="color:#E0A569;">WriteFile</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">destinationFile</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> input</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0644</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Error creating&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> destinationFile</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">        fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#4D9375;">return</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Commit the file contents</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Flushes memory to disk</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> newFile</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Sync</span><span style="color:#858585;">()</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">os</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">io</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// Copy a file</span></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Open original file</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">originalFile</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Open</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.txt&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">defer</span><span style="color:#393A34;"> originalFile</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Close</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Create new file</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">newFile</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Create</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test_copy.txt&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">defer</span><span style="color:#393A34;"> newFile</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Close</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Copy the bytes to destination from source</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">bytesWritten</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> io</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Copy</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">newFile</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> originalFile</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Copied </span><span style="color:#A65E2B;">%d</span><span style="color:#B56959;"> bytes.&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> bytesWritten</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Copy the bytes to destination from source -- way 2, use ioutil package</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">input</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> ioutil</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">ReadFile</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">sourceFile</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1C6B48;">return</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> ioutil</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">WriteFile</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">destinationFile</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> input</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0644</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Error creating&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> destinationFile</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">        fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1C6B48;">return</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Commit the file contents</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Flushes memory to disk</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> newFile</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Sync</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="seek-positions-in-file" tabindex="-1">Seek Positions in File <a class="header-anchor" href="#seek-positions-in-file" aria-hidden="true">#</a></h2><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">os</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">fmt</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">file</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">_</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Open</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.txt&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">defer</span><span style="color:#DBD7CA;"> file</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Close</span><span style="color:#858585;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Offset is how many bytes to move</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Offset can be positive or negative</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">var</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">offset</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">int64</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">5</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Whence is the point of reference for offset</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// 0 = Beginning of file</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// 1 = Current position</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// 2 = End of file</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">var</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">whence</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">int</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">newPosition</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> file</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Seek</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">offset</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> whence</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Just moved to 5:&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> newPosition</span><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Go back 2 bytes from current position</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">newPosition</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> file</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Seek</span><span style="color:#858585;">(</span><span style="color:#CB7676;">-</span><span style="color:#6394BF;">2</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Just moved back two:&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> newPosition</span><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Find the current position by getting the</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// return value from Seek after moving 0 bytes</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">currentPosition</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> file</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Seek</span><span style="color:#858585;">(</span><span style="color:#6394BF;">0</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Current position:&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> currentPosition</span><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Go to beginning of file</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">newPosition</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> file</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Seek</span><span style="color:#858585;">(</span><span style="color:#6394BF;">0</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Position after seeking 0,0:&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> newPosition</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">os</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">fmt</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">file</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">_</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Open</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.txt&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">defer</span><span style="color:#393A34;"> file</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Close</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Offset is how many bytes to move</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Offset can be positive or negative</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">var</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">offset</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">int64</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">5</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Whence is the point of reference for offset</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// 0 = Beginning of file</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// 1 = Current position</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// 2 = End of file</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">var</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">whence</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">int</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">newPosition</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> file</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Seek</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">offset</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> whence</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Just moved to 5:&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> newPosition</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Go back 2 bytes from current position</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">newPosition</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> file</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Seek</span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">-</span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Just moved back two:&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> newPosition</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Find the current position by getting the</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// return value from Seek after moving 0 bytes</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">currentPosition</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> file</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Seek</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Current position:&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> currentPosition</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Go to beginning of file</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">newPosition</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> file</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Seek</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Position after seeking 0,0:&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> newPosition</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="write-bytes-to-a-file" tabindex="-1">Write Bytes to a File <a class="header-anchor" href="#write-bytes-to-a-file" aria-hidden="true">#</a></h2><p>You can write using just the os package which is needed already to open the file. Since all Go executables are statically linked binaries, every package you import increases the size of your executable. Other packages like <strong>io</strong>, <strong>ioutil</strong>, and <strong>bufio</strong> provide some more help, but they are not necessary.</p><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">os</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Open a new file for writing only</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">file</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">OpenFile</span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&quot;test.txt&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        os</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">O_WRONLY</span><span style="color:#CB7676;">|</span><span style="color:#DBD7CA;">os</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">O_TRUNC</span><span style="color:#CB7676;">|</span><span style="color:#DBD7CA;">os</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">O_CREATE</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#6394BF;">0666</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">defer</span><span style="color:#DBD7CA;"> file</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Close</span><span style="color:#858585;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Write bytes to file</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">byteSlice</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[]</span><span style="color:#E0A569;">byte</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Bytes!</span><span style="color:#D4976C;">\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">bytesWritten</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> file</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Write</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">byteSlice</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// append string to file</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">appendWritten</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">_</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> newFile</span><span style="color:#858585;">.</span><span style="color:#E0A569;">WriteString</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;something here.</span><span style="color:#D4976C;">\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Wrote </span><span style="color:#D4976C;">%d</span><span style="color:#C98A7D;"> bytes.</span><span style="color:#D4976C;">\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> bytesWritten</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Wrote </span><span style="color:#D4976C;">%d</span><span style="color:#C98A7D;"> bytes.</span><span style="color:#D4976C;">\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> appendWritten</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">os</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Open a new file for writing only</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">file</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">OpenFile</span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&quot;test.txt&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        os</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">O_WRONLY</span><span style="color:#AB5959;">|</span><span style="color:#393A34;">os</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">O_TRUNC</span><span style="color:#AB5959;">|</span><span style="color:#393A34;">os</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">O_CREATE</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#296AA3;">0666</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">defer</span><span style="color:#393A34;"> file</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Close</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Write bytes to file</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">byteSlice</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[]</span><span style="color:#B58451;">byte</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Bytes!</span><span style="color:#A65E2B;">\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">bytesWritten</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> file</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Write</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">byteSlice</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// append string to file</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">appendWritten</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">_</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> newFile</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">WriteString</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;something here.</span><span style="color:#A65E2B;">\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Wrote </span><span style="color:#A65E2B;">%d</span><span style="color:#B56959;"> bytes.</span><span style="color:#A65E2B;">\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> bytesWritten</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Wrote </span><span style="color:#A65E2B;">%d</span><span style="color:#B56959;"> bytes.</span><span style="color:#A65E2B;">\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> appendWritten</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="quick-write-to-file" tabindex="-1">Quick Write to File <a class="header-anchor" href="#quick-write-to-file" aria-hidden="true">#</a></h2><p>The <strong>ioutil</strong> package has a useful function called <strong>WriteFile()</strong> that will handle creating/opening, writing a slice of bytes, and closing. It is useful if you just need a quick way to dump a slice of bytes to a file.</p><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">io/ioutil</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> ioutil</span><span style="color:#858585;">.</span><span style="color:#E0A569;">WriteFile</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.txt&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[]</span><span style="color:#E0A569;">byte</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Hi</span><span style="color:#D4976C;">\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">),</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0666</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">io/ioutil</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> ioutil</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">WriteFile</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.txt&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[]</span><span style="color:#B58451;">byte</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Hi</span><span style="color:#A65E2B;">\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">),</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0666</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="use-buffered-writer" tabindex="-1">Use Buffered Writer <a class="header-anchor" href="#use-buffered-writer" aria-hidden="true">#</a></h2><p>The <strong>bufio</strong> package lets you create a buffered writer so you can work with a buffer in memory before writing it to disk. This is useful if you need to do a lot manipulation on the data before writing it to disk to save time from disk IO. It is also useful if you only write one byte at a time and want to store a large number in memory before dumping it to file at once, otherwise you would be performing disk IO for every byte. That puts wear and tear on your disk as well as slows down the process.</p><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">os</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">bufio</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Open file for writing</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">file</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">OpenFile</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.txt&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">O_WRONLY</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0666</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">defer</span><span style="color:#DBD7CA;"> file</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Close</span><span style="color:#858585;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Create a buffered writer from the file</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">bufferedWriter</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> bufio</span><span style="color:#858585;">.</span><span style="color:#E0A569;">NewWriter</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">file</span><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Write bytes to buffer</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">bytesWritten</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> bufferedWriter</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Write</span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">[]</span><span style="color:#CB7676;">byte</span><span style="color:#858585;">{</span><span style="color:#6394BF;">65</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">66</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">67</span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Bytes written: </span><span style="color:#D4976C;">%d\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> bytesWritten</span><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Write string to buffer</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Also available are WriteRune() and WriteByte()   </span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">bytesWritten</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> bufferedWriter</span><span style="color:#858585;">.</span><span style="color:#E0A569;">WriteString</span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&quot;Buffered string</span><span style="color:#D4976C;">\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Bytes written: </span><span style="color:#D4976C;">%d\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> bytesWritten</span><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Check how much is stored in buffer waiting</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">unflushedBufferSize</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> bufferedWriter</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Buffered</span><span style="color:#858585;">()</span></span>
<span class="line"><span style="color:#DBD7CA;">    log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Bytes buffered: </span><span style="color:#D4976C;">%d\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> unflushedBufferSize</span><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// See how much buffer is available</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">bytesAvailable</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> bufferedWriter</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Available</span><span style="color:#858585;">()</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Available buffer: </span><span style="color:#D4976C;">%d\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> bytesAvailable</span><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Write memory buffer to disk</span></span>
<span class="line"><span style="color:#DBD7CA;">    bufferedWriter</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Flush</span><span style="color:#858585;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Revert any changes done to buffer that have</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// not yet been written to file with Flush()</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// We just flushed, so there are no changes to revert</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// The writer that you pass as an argument</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// is where the buffer will output to, if you want</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// to change to a new writer</span></span>
<span class="line"><span style="color:#DBD7CA;">    bufferedWriter</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Reset</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">bufferedWriter</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// See how much buffer is available</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">bytesAvailable</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> bufferedWriter</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Available</span><span style="color:#858585;">()</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Available buffer: </span><span style="color:#D4976C;">%d\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> bytesAvailable</span><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Resize buffer. The first argument is a writer</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// where the buffer should output to. In this case</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// we are using the same buffer. If we chose a number</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// that was smaller than the existing buffer, like 10</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// we would not get back a buffer of size 10, we will</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// get back a buffer the size of the original since</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// it was already large enough (default 4096)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">bufferedWriter</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> bufio</span><span style="color:#858585;">.</span><span style="color:#E0A569;">NewWriterSize</span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">        bufferedWriter</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#6394BF;">8000</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Check available buffer size after resizing</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">bytesAvailable</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> bufferedWriter</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Available</span><span style="color:#858585;">()</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Available buffer: </span><span style="color:#D4976C;">%d\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> bytesAvailable</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">os</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">bufio</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Open file for writing</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">file</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">OpenFile</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.txt&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">O_WRONLY</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0666</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">defer</span><span style="color:#393A34;"> file</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Close</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Create a buffered writer from the file</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">bufferedWriter</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> bufio</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">NewWriter</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">file</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Write bytes to buffer</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">bytesWritten</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> bufferedWriter</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Write</span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">[]</span><span style="color:#AB5959;">byte</span><span style="color:#8E8F8B;">{</span><span style="color:#296AA3;">65</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">66</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">67</span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Bytes written: </span><span style="color:#A65E2B;">%d\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> bytesWritten</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Write string to buffer</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Also available are WriteRune() and WriteByte()   </span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">bytesWritten</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> bufferedWriter</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">WriteString</span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&quot;Buffered string</span><span style="color:#A65E2B;">\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Bytes written: </span><span style="color:#A65E2B;">%d\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> bytesWritten</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Check how much is stored in buffer waiting</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">unflushedBufferSize</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> bufferedWriter</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Buffered</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"><span style="color:#393A34;">    log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Bytes buffered: </span><span style="color:#A65E2B;">%d\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> unflushedBufferSize</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// See how much buffer is available</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">bytesAvailable</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> bufferedWriter</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Available</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Available buffer: </span><span style="color:#A65E2B;">%d\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> bytesAvailable</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Write memory buffer to disk</span></span>
<span class="line"><span style="color:#393A34;">    bufferedWriter</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Flush</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Revert any changes done to buffer that have</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// not yet been written to file with Flush()</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// We just flushed, so there are no changes to revert</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// The writer that you pass as an argument</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// is where the buffer will output to, if you want</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// to change to a new writer</span></span>
<span class="line"><span style="color:#393A34;">    bufferedWriter</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Reset</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">bufferedWriter</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// See how much buffer is available</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">bytesAvailable</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> bufferedWriter</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Available</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Available buffer: </span><span style="color:#A65E2B;">%d\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> bytesAvailable</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Resize buffer. The first argument is a writer</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// where the buffer should output to. In this case</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// we are using the same buffer. If we chose a number</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// that was smaller than the existing buffer, like 10</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// we would not get back a buffer of size 10, we will</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// get back a buffer the size of the original since</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// it was already large enough (default 4096)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">bufferedWriter</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> bufio</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">NewWriterSize</span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">        bufferedWriter</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#296AA3;">8000</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Check available buffer size after resizing</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">bytesAvailable</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> bufferedWriter</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Available</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Available buffer: </span><span style="color:#A65E2B;">%d\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> bytesAvailable</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="read-up-to-n-bytes-from-file" tabindex="-1">Read up to n Bytes from File <a class="header-anchor" href="#read-up-to-n-bytes-from-file" aria-hidden="true">#</a></h2><p>The <strong>os.File</strong> type provides a couple basic functions. The <strong>io</strong>, <strong>ioutil</strong>, and <strong>bufio</strong> packages provided additional functions for working with files.</p><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">os</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Open file for reading</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">file</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Open</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.txt&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">defer</span><span style="color:#DBD7CA;"> file</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Close</span><span style="color:#858585;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Read up to len(b) bytes from the File</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Zero bytes written means end of file</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// End of file returns error type io.EOF</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">byteSlice</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">make</span><span style="color:#858585;">([]</span><span style="color:#CB7676;">byte</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">16</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">bytesRead</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> file</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Read</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">byteSlice</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Number of bytes read: </span><span style="color:#D4976C;">%d\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> bytesRead</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Data read: </span><span style="color:#D4976C;">%s\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> byteSlice</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">os</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Open file for reading</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">file</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Open</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.txt&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">defer</span><span style="color:#393A34;"> file</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Close</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Read up to len(b) bytes from the File</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Zero bytes written means end of file</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// End of file returns error type io.EOF</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">byteSlice</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> </span><span style="color:#B58451;">make</span><span style="color:#8E8F8B;">([]</span><span style="color:#AB5959;">byte</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">16</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">bytesRead</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> file</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Read</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">byteSlice</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Number of bytes read: </span><span style="color:#A65E2B;">%d\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> bytesRead</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Data read: </span><span style="color:#A65E2B;">%s\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> byteSlice</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="read-exactly-n-bytes" tabindex="-1">Read Exactly n Bytes <a class="header-anchor" href="#read-exactly-n-bytes" aria-hidden="true">#</a></h2><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">os</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">io</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Open file for reading</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">file</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Open</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.txt&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// The file.Read() function will happily read a tiny file in to a large</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// byte slice, but io.ReadFull() will return an</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// error if the file is smaller than the byte slice.</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">byteSlice</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">make</span><span style="color:#858585;">([]</span><span style="color:#CB7676;">byte</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">numBytesRead</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> io</span><span style="color:#858585;">.</span><span style="color:#E0A569;">ReadFull</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">file</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> byteSlice</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Number of bytes read: </span><span style="color:#D4976C;">%d\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> numBytesRead</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Data read: </span><span style="color:#D4976C;">%s\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> byteSlice</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">os</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">io</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Open file for reading</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">file</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Open</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.txt&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// The file.Read() function will happily read a tiny file in to a large</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// byte slice, but io.ReadFull() will return an</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// error if the file is smaller than the byte slice.</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">byteSlice</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> </span><span style="color:#B58451;">make</span><span style="color:#8E8F8B;">([]</span><span style="color:#AB5959;">byte</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">numBytesRead</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> io</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">ReadFull</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">file</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> byteSlice</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Number of bytes read: </span><span style="color:#A65E2B;">%d\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> numBytesRead</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Data read: </span><span style="color:#A65E2B;">%s\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> byteSlice</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="read-at-least-n-bytes" tabindex="-1">Read At Least n Bytes <a class="header-anchor" href="#read-at-least-n-bytes" aria-hidden="true">#</a></h2><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">os</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">io</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Open file for reading</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">file</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Open</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.txt&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">byteSlice</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">make</span><span style="color:#858585;">([]</span><span style="color:#CB7676;">byte</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">512</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">minBytes</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">8</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// io.ReadAtLeast() will return an error if it cannot</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// find at least minBytes to read. It will read as</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// many bytes as byteSlice can hold. </span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">numBytesRead</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> io</span><span style="color:#858585;">.</span><span style="color:#E0A569;">ReadAtLeast</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">file</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> byteSlice</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> minBytes</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Number of bytes read: </span><span style="color:#D4976C;">%d\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> numBytesRead</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Data read: </span><span style="color:#D4976C;">%s\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> byteSlice</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">os</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">io</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Open file for reading</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">file</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Open</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.txt&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">byteSlice</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> </span><span style="color:#B58451;">make</span><span style="color:#8E8F8B;">([]</span><span style="color:#AB5959;">byte</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">512</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">minBytes</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">8</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// io.ReadAtLeast() will return an error if it cannot</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// find at least minBytes to read. It will read as</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// many bytes as byteSlice can hold. </span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">numBytesRead</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> io</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">ReadAtLeast</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">file</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> byteSlice</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> minBytes</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Number of bytes read: </span><span style="color:#A65E2B;">%d\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> numBytesRead</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Data read: </span><span style="color:#A65E2B;">%s\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> byteSlice</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="read-all-bytes-of-file" tabindex="-1">Read All Bytes of File <a class="header-anchor" href="#read-all-bytes-of-file" aria-hidden="true">#</a></h2><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">os</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">fmt</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">io/ioutil</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Open file for reading</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">file</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Open</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.txt&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// os.File.Read(), io.ReadFull(), and</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// io.ReadAtLeast() all work with a fixed</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// byte slice that you make before you read</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// ioutil.ReadAll() will read every byte</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// from the reader (in this case a file),</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// and return a slice of unknown slice</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">data</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> ioutil</span><span style="color:#858585;">.</span><span style="color:#E0A569;">ReadAll</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">file</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Data as hex: </span><span style="color:#D4976C;">%x\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> data</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Data as string: </span><span style="color:#D4976C;">%s\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> data</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Number of bytes read:&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">len</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">data</span><span style="color:#858585;">))</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">os</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">fmt</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">io/ioutil</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Open file for reading</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">file</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Open</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.txt&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// os.File.Read(), io.ReadFull(), and</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// io.ReadAtLeast() all work with a fixed</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// byte slice that you make before you read</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// ioutil.ReadAll() will read every byte</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// from the reader (in this case a file),</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// and return a slice of unknown slice</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">data</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> ioutil</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">ReadAll</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">file</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Data as hex: </span><span style="color:#A65E2B;">%x\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> data</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Data as string: </span><span style="color:#A65E2B;">%s\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> data</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Number of bytes read:&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B58451;">len</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">data</span><span style="color:#8E8F8B;">))</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="quick-read-whole-file-to-memory" tabindex="-1">Quick Read Whole File to Memory <a class="header-anchor" href="#quick-read-whole-file-to-memory" aria-hidden="true">#</a></h2><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">io/ioutil</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Read file to byte slice</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">data</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> ioutil</span><span style="color:#858585;">.</span><span style="color:#E0A569;">ReadFile</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.txt&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Data read: </span><span style="color:#D4976C;">%s\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> data</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">io/ioutil</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Read file to byte slice</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">data</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> ioutil</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">ReadFile</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.txt&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Data read: </span><span style="color:#A65E2B;">%s\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> data</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="use-buffered-reader" tabindex="-1">Use Buffered Reader <a class="header-anchor" href="#use-buffered-reader" aria-hidden="true">#</a></h2><p>Creating a buffered reader will store a memory buffer with some of the contents. A buffered reader also provides some more functions that are not available on the <strong>os.File</strong> type or the <strong>io.Reader</strong>. Default buffer size is 4096 and minimum size is 16.</p><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">os</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">bufio</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">fmt</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Open file and create a buffered reader on top</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">file</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Open</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.txt&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">bufferedReader</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> bufio</span><span style="color:#858585;">.</span><span style="color:#E0A569;">NewReader</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">file</span><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Get bytes without advancing pointer</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">byteSlice</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">make</span><span style="color:#858585;">([]</span><span style="color:#CB7676;">byte</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">5</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">byteSlice</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> bufferedReader</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Peek</span><span style="color:#858585;">(</span><span style="color:#6394BF;">5</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Peeked at 5 bytes: </span><span style="color:#D4976C;">%s\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> byteSlice</span><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Read and advance pointer</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">numBytesRead</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> bufferedReader</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Read</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">byteSlice</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Read </span><span style="color:#D4976C;">%d</span><span style="color:#C98A7D;"> bytes: </span><span style="color:#D4976C;">%s\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> numBytesRead</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> byteSlice</span><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Ready 1 byte. Error if no byte to read</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">myByte</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> bufferedReader</span><span style="color:#858585;">.</span><span style="color:#E0A569;">ReadByte</span><span style="color:#858585;">()</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Read 1 byte: </span><span style="color:#D4976C;">%c\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> myByte</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;">     </span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Read up to and including delimiter</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Returns byte slice</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">dataBytes</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> bufferedReader</span><span style="color:#858585;">.</span><span style="color:#E0A569;">ReadBytes</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&#39;</span><span style="color:#D4976C;">\\n</span><span style="color:#C98A7D;">&#39;</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Read bytes: </span><span style="color:#D4976C;">%s\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> dataBytes</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;">           </span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Read up to and including delimiter</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Returns string   </span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">dataString</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> bufferedReader</span><span style="color:#858585;">.</span><span style="color:#E0A569;">ReadString</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&#39;</span><span style="color:#D4976C;">\\n</span><span style="color:#C98A7D;">&#39;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Read string: </span><span style="color:#D4976C;">%s\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> dataString</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;">     </span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// This example reads a few lines so test.txt</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// should have a few lines of text to work correct</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">os</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">bufio</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">fmt</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Open file and create a buffered reader on top</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">file</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Open</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.txt&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">bufferedReader</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> bufio</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">NewReader</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">file</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Get bytes without advancing pointer</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">byteSlice</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> </span><span style="color:#B58451;">make</span><span style="color:#8E8F8B;">([]</span><span style="color:#AB5959;">byte</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">5</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">byteSlice</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> bufferedReader</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Peek</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">5</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Peeked at 5 bytes: </span><span style="color:#A65E2B;">%s\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> byteSlice</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Read and advance pointer</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">numBytesRead</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> bufferedReader</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Read</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">byteSlice</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Read </span><span style="color:#A65E2B;">%d</span><span style="color:#B56959;"> bytes: </span><span style="color:#A65E2B;">%s\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> numBytesRead</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> byteSlice</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Ready 1 byte. Error if no byte to read</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">myByte</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> bufferedReader</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">ReadByte</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Read 1 byte: </span><span style="color:#A65E2B;">%c\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> myByte</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;">     </span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Read up to and including delimiter</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Returns byte slice</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">dataBytes</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> bufferedReader</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">ReadBytes</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&#39;</span><span style="color:#A65E2B;">\\n</span><span style="color:#B56959;">&#39;</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Read bytes: </span><span style="color:#A65E2B;">%s\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> dataBytes</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;">           </span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Read up to and including delimiter</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Returns string   </span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">dataString</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> bufferedReader</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">ReadString</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&#39;</span><span style="color:#A65E2B;">\\n</span><span style="color:#B56959;">&#39;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Read string: </span><span style="color:#A65E2B;">%s\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> dataString</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;">     </span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// This example reads a few lines so test.txt</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// should have a few lines of text to work correct</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="read-with-a-scanner" tabindex="-1">Read with a Scanner <a class="header-anchor" href="#read-with-a-scanner" aria-hidden="true">#</a></h2><p><strong>Scanner</strong> is part of the <strong>bufio</strong> package. It is useful for stepping through files at specific delimiters. Commonly, the newline character is used as the delimiter to break up a file by lines. In a CSV file, commas would be the delimiter. The <strong>os.File</strong> can be wrapped in a <strong>bufio.Scanner</strong> just like a buffered reader. We call <strong>Scan()</strong> to read up to the next delimiter, and then use <strong>Text()</strong> or <strong>Bytes()</strong> to get the data that was read.</p><p>The delimiter is not just a simple byte or character. There is actually a special function you have to implement that will determine where the next delimiter is, how far forward to advance the pointer, and what data to return. If no custom <strong>SplitFunc</strong> is provided, it defaults to <strong>ScanLines</strong> which will split at every newline character. Other split functions included in <strong>bufio</strong> are <strong>ScanRunes</strong>, and <strong>ScanWords</strong>.</p><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;">// To define your own split function, match this fingerprint</span></span>
<span class="line"><span style="color:#4D9375;">type</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">SplitFunc</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">func</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">data </span><span style="color:#858585;">[]</span><span style="color:#CB7676;">byte</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> atEOF </span><span style="color:#CB7676;">bool</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">advance </span><span style="color:#CB7676;">int</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> token </span><span style="color:#858585;">[]</span><span style="color:#CB7676;">byte</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">error</span><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;">// Returning (0, nil, nil) will tell the scanner</span></span>
<span class="line"><span style="color:#758575;">// to scan again, but with a bigger buffer because</span></span>
<span class="line"><span style="color:#758575;">// it wasn&#39;t enough data to reach the delimiter</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// To define your own split function, match this fingerprint</span></span>
<span class="line"><span style="color:#1C6B48;">type</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">SplitFunc</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">func</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">data </span><span style="color:#8E8F8B;">[]</span><span style="color:#AB5959;">byte</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> atEOF </span><span style="color:#AB5959;">bool</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">advance </span><span style="color:#AB5959;">int</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> token </span><span style="color:#8E8F8B;">[]</span><span style="color:#AB5959;">byte</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">error</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">// Returning (0, nil, nil) will tell the scanner</span></span>
<span class="line"><span style="color:#A0ADA0;">// to scan again, but with a bigger buffer because</span></span>
<span class="line"><span style="color:#A0ADA0;">// it wasn&#39;t enough data to reach the delimiter</span></span>
<span class="line"></span></code></pre></div><p>In the next example, a <strong>bufio.Scanner</strong> is created from the file, and then we scan read the file word by word.</p><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">os</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">fmt</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">bufio</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Open file and create scanner on top of it</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">file</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Open</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.txt&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">scanner</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> bufio</span><span style="color:#858585;">.</span><span style="color:#E0A569;">NewScanner</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">file</span><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Default scanner is bufio.ScanLines. Lets use ScanWords.</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Could also use a custom function of SplitFunc type</span></span>
<span class="line"><span style="color:#DBD7CA;">    scanner</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Split</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">bufio</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">ScanWords</span><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Scan for next token. </span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">success</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> scanner</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Scan</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> success </span><span style="color:#CB7676;">==</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">false</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#758575;">// False on error or EOF. Check error</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> scanner</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Err</span><span style="color:#858585;">()</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">==</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">            log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Scan completed and reached EOF&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">            log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Get data from scan with Bytes() or Text()</span></span>
<span class="line"><span style="color:#DBD7CA;">    fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;First word found:&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> scanner</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Text</span><span style="color:#858585;">())</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Call scanner.Scan() again to find next token</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">os</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">fmt</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">bufio</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Open file and create scanner on top of it</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">file</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Open</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.txt&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">scanner</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> bufio</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">NewScanner</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">file</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Default scanner is bufio.ScanLines. Lets use ScanWords.</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Could also use a custom function of SplitFunc type</span></span>
<span class="line"><span style="color:#393A34;">    scanner</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Split</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">bufio</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">ScanWords</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Scan for next token. </span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">success</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> scanner</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Scan</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> success </span><span style="color:#AB5959;">==</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">false</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A0ADA0;">// False on error or EOF. Check error</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> scanner</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Err</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">==</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Scan completed and reached EOF&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">else</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Get data from scan with Bytes() or Text()</span></span>
<span class="line"><span style="color:#393A34;">    fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;First word found:&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> scanner</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Text</span><span style="color:#8E8F8B;">())</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Call scanner.Scan() again to find next token</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="archive-zip-files" tabindex="-1">Archive(Zip) Files <a class="header-anchor" href="#archive-zip-files" aria-hidden="true">#</a></h2><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;">// This example uses zip but standard library</span></span>
<span class="line"><span style="color:#758575;">// also supports tar archives</span></span>
<span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">archive/zip</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">os</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Create a file to write the archive buffer to</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Could also use an in memory buffer.</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">outFile</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Create</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.zip&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">defer</span><span style="color:#DBD7CA;"> outFile</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Close</span><span style="color:#858585;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Create a zip writer on top of the file writer</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">zipWriter</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> zip</span><span style="color:#858585;">.</span><span style="color:#E0A569;">NewWriter</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">outFile</span><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Add files to archive</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// We use some hard coded data to demonstrate,</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// but you could iterate through all the files</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// in a directory and pass the name and contents</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// of each file, or you can take data from your</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// program and write it write in to the archive</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// without </span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">var</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">filesToArchive</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[]</span><span style="color:#4D9375;">struct</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        Name</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> Body </span><span style="color:#CB7676;">string</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">{</span><span style="color:#C98A7D;">&quot;test.txt&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;String contents of file&quot;</span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">{</span><span style="color:#C98A7D;">&quot;test2.txt&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;</span><span style="color:#D4976C;">\\x61\\x62\\x63\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Create and write files to the archive, which in turn</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// are getting written to the underlying writer to the</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// .zip file we created at the beginning</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">for</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">_</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">file</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">range</span><span style="color:#DBD7CA;"> filesToArchive </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#B8A965;">fileWriter</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> zipWriter</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Create</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">file</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">Name</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">                    log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#B8A965;">_</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> fileWriter</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Write</span><span style="color:#858585;">([]</span><span style="color:#E0A569;">byte</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">file</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">Body</span><span style="color:#858585;">))</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">                    log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Clean up</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> zipWriter</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Close</span><span style="color:#858585;">()</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">            log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// This example uses zip but standard library</span></span>
<span class="line"><span style="color:#A0ADA0;">// also supports tar archives</span></span>
<span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">archive/zip</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">os</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Create a file to write the archive buffer to</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Could also use an in memory buffer.</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">outFile</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Create</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.zip&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">defer</span><span style="color:#393A34;"> outFile</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Close</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Create a zip writer on top of the file writer</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">zipWriter</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> zip</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">NewWriter</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">outFile</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Add files to archive</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// We use some hard coded data to demonstrate,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// but you could iterate through all the files</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// in a directory and pass the name and contents</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// of each file, or you can take data from your</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// program and write it write in to the archive</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// without </span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">var</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">filesToArchive</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[]</span><span style="color:#1C6B48;">struct</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        Name</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> Body </span><span style="color:#AB5959;">string</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">{</span><span style="color:#B56959;">&quot;test.txt&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;String contents of file&quot;</span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">{</span><span style="color:#B56959;">&quot;test2.txt&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;</span><span style="color:#A65E2B;">\\x61\\x62\\x63\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Create and write files to the archive, which in turn</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// are getting written to the underlying writer to the</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// .zip file we created at the beginning</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">_</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">file</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">range</span><span style="color:#393A34;"> filesToArchive </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8C862B;">fileWriter</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> zipWriter</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Create</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">file</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">Name</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">                    log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8C862B;">_</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> fileWriter</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Write</span><span style="color:#8E8F8B;">([]</span><span style="color:#B58451;">byte</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">file</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">Body</span><span style="color:#8E8F8B;">))</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">                    log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Clean up</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> zipWriter</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Close</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="extract-unzip-archived-files" tabindex="-1">Extract(Unzip) Archived Files <a class="header-anchor" href="#extract-unzip-archived-files" aria-hidden="true">#</a></h2><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;">// This example uses zip but standard library</span></span>
<span class="line"><span style="color:#758575;">// also supports tar archives</span></span>
<span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">archive/zip</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">io</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">os</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">path/filepath</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Create a reader out of the zip archive</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">zipReader</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> zip</span><span style="color:#858585;">.</span><span style="color:#E0A569;">OpenReader</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.zip&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">defer</span><span style="color:#DBD7CA;"> zipReader</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Close</span><span style="color:#858585;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Iterate through each file/dir found in</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">for</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">_</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">file</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">range</span><span style="color:#DBD7CA;"> zipReader</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">Reader</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">File </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#758575;">// Open the file inside the zip archive</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#758575;">// like a normal file</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">zippedFile</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> file</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Open</span><span style="color:#858585;">()</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">            log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#4D9375;">defer</span><span style="color:#DBD7CA;"> zippedFile</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Close</span><span style="color:#858585;">()</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#758575;">// Specify what the extracted file name should be.</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#758575;">// You can specify a full path or a prefix</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#758575;">// to move it to a different directory. </span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#758575;">// In this case, we will extract the file from</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#758575;">// the zip to a file of the same name.</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">targetDir</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;./&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#B8A965;">extractedFilePath</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> filepath</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Join</span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">            targetDir</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">            file</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">Name</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#758575;">// Extract the item (or create directory)</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> file</span><span style="color:#858585;">.</span><span style="color:#E0A569;">FileInfo</span><span style="color:#858585;">().</span><span style="color:#E0A569;">IsDir</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#758575;">// Create directories to recreate directory</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#758575;">// structure inside the zip archive. Also</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#758575;">// preserves permissions</span></span>
<span class="line"><span style="color:#DBD7CA;">            log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Creating directory:&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> extractedFilePath</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">            os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">MkdirAll</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">extractedFilePath</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> file</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Mode</span><span style="color:#858585;">())</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#758575;">// Extract regular file since not a directory</span></span>
<span class="line"><span style="color:#DBD7CA;">            log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Extracting file:&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> file</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">Name</span><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#758575;">// Open an output file for writing</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#B8A965;">outputFile</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">OpenFile</span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">                extractedFilePath</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">                os</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">O_WRONLY</span><span style="color:#CB7676;">|</span><span style="color:#DBD7CA;">os</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">O_CREATE</span><span style="color:#CB7676;">|</span><span style="color:#DBD7CA;">os</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">O_TRUNC</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">                file</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Mode</span><span style="color:#858585;">(),</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">                log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#4D9375;">defer</span><span style="color:#DBD7CA;"> outputFile</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Close</span><span style="color:#858585;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#758575;">// &quot;Extract&quot; the file by copying zipped file</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#758575;">// contents to the output file</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#B8A965;">_</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> io</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Copy</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">outputFile</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> zippedFile</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">                log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// This example uses zip but standard library</span></span>
<span class="line"><span style="color:#A0ADA0;">// also supports tar archives</span></span>
<span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">archive/zip</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">io</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">os</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">path/filepath</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Create a reader out of the zip archive</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">zipReader</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> zip</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">OpenReader</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.zip&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">defer</span><span style="color:#393A34;"> zipReader</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Close</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Iterate through each file/dir found in</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">_</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">file</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">range</span><span style="color:#393A34;"> zipReader</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">Reader</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">File </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A0ADA0;">// Open the file inside the zip archive</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A0ADA0;">// like a normal file</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">zippedFile</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> file</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Open</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1C6B48;">defer</span><span style="color:#393A34;"> zippedFile</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Close</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"><span style="color:#393A34;">        </span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A0ADA0;">// Specify what the extracted file name should be.</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A0ADA0;">// You can specify a full path or a prefix</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A0ADA0;">// to move it to a different directory. </span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A0ADA0;">// In this case, we will extract the file from</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A0ADA0;">// the zip to a file of the same name.</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">targetDir</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;./&quot;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8C862B;">extractedFilePath</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> filepath</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Join</span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">            targetDir</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">            file</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">Name</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#A0ADA0;">// Extract the item (or create directory)</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> file</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">FileInfo</span><span style="color:#8E8F8B;">().</span><span style="color:#B58451;">IsDir</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#A0ADA0;">// Create directories to recreate directory</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#A0ADA0;">// structure inside the zip archive. Also</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#A0ADA0;">// preserves permissions</span></span>
<span class="line"><span style="color:#393A34;">            log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Creating directory:&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> extractedFilePath</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">            os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">MkdirAll</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">extractedFilePath</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> file</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Mode</span><span style="color:#8E8F8B;">())</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">else</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#A0ADA0;">// Extract regular file since not a directory</span></span>
<span class="line"><span style="color:#393A34;">            log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Extracting file:&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> file</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">Name</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#A0ADA0;">// Open an output file for writing</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8C862B;">outputFile</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">OpenFile</span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">                extractedFilePath</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">                os</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">O_WRONLY</span><span style="color:#AB5959;">|</span><span style="color:#393A34;">os</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">O_CREATE</span><span style="color:#AB5959;">|</span><span style="color:#393A34;">os</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">O_TRUNC</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">                file</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Mode</span><span style="color:#8E8F8B;">(),</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">                log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#1C6B48;">defer</span><span style="color:#393A34;"> outputFile</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Close</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#A0ADA0;">// &quot;Extract&quot; the file by copying zipped file</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#A0ADA0;">// contents to the output file</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8C862B;">_</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> io</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Copy</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">outputFile</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> zippedFile</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">                log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="compress-a-file" tabindex="-1">Compress a File <a class="header-anchor" href="#compress-a-file" aria-hidden="true">#</a></h2><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;">// This example uses gzip but standard library also</span></span>
<span class="line"><span style="color:#758575;">// supports zlib, bz2, flate, and lzw</span></span>
<span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">os</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">compress/gzip</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Create .gz file to write to</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">outputFile</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Create</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.txt.gz&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Create a gzip writer on top of file writer</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">gzipWriter</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> gzip</span><span style="color:#858585;">.</span><span style="color:#E0A569;">NewWriter</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">outputFile</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">defer</span><span style="color:#DBD7CA;"> gzipWriter</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Close</span><span style="color:#858585;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// When we write to the gzip writer</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// it will in turn compress the contents</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// and then write it to the underlying</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// file writer as well</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// We don&#39;t have to worry about how all</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// the compression works since we just</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// use it as a simple writer interface</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// that we send bytes to</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">_</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> gzipWriter</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Write</span><span style="color:#858585;">([]</span><span style="color:#E0A569;">byte</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Gophers rule!</span><span style="color:#D4976C;">\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">))</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Compressed data written to file.&quot;</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// This example uses gzip but standard library also</span></span>
<span class="line"><span style="color:#A0ADA0;">// supports zlib, bz2, flate, and lzw</span></span>
<span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">os</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">compress/gzip</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Create .gz file to write to</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">outputFile</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Create</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.txt.gz&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Create a gzip writer on top of file writer</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">gzipWriter</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> gzip</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">NewWriter</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">outputFile</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">defer</span><span style="color:#393A34;"> gzipWriter</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Close</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// When we write to the gzip writer</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// it will in turn compress the contents</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// and then write it to the underlying</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// file writer as well</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// We don&#39;t have to worry about how all</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// the compression works since we just</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// use it as a simple writer interface</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// that we send bytes to</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">_</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> gzipWriter</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Write</span><span style="color:#8E8F8B;">([]</span><span style="color:#B58451;">byte</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Gophers rule!</span><span style="color:#A65E2B;">\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">))</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Compressed data written to file.&quot;</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="uncompress-a-file" tabindex="-1">Uncompress a File <a class="header-anchor" href="#uncompress-a-file" aria-hidden="true">#</a></h2><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;">// This example uses gzip but standard library also</span></span>
<span class="line"><span style="color:#758575;">// supports zlib, bz2, flate, and lzw</span></span>
<span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">compress/gzip</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">io</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">os</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Open gzip file that we want to uncompress</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// The file is a reader, but we could use any</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// data source. It is common for web servers</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// to return gzipped contents to save bandwidth</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// and in that case the data is not in a file</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// on the file system but is in a memory buffer</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">gzipFile</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Open</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.txt.gz&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Create a gzip reader on top of the file reader</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Again, it could be any type reader though</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">gzipReader</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> gzip</span><span style="color:#858585;">.</span><span style="color:#E0A569;">NewReader</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">gzipFile</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">defer</span><span style="color:#DBD7CA;"> gzipReader</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Close</span><span style="color:#858585;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Uncompress to a writer. We&#39;ll use a file writer</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">outfileWriter</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Create</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;unzipped.txt&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">defer</span><span style="color:#DBD7CA;"> outfileWriter</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Close</span><span style="color:#858585;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Copy contents of gzipped file to output file</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">_</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> io</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Copy</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">outfileWriter</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> gzipReader</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">// This example uses gzip but standard library also</span></span>
<span class="line"><span style="color:#A0ADA0;">// supports zlib, bz2, flate, and lzw</span></span>
<span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">compress/gzip</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">io</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">os</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Open gzip file that we want to uncompress</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// The file is a reader, but we could use any</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// data source. It is common for web servers</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// to return gzipped contents to save bandwidth</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// and in that case the data is not in a file</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// on the file system but is in a memory buffer</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">gzipFile</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Open</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.txt.gz&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Create a gzip reader on top of the file reader</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Again, it could be any type reader though</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">gzipReader</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> gzip</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">NewReader</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">gzipFile</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">defer</span><span style="color:#393A34;"> gzipReader</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Close</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Uncompress to a writer. We&#39;ll use a file writer</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">outfileWriter</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Create</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;unzipped.txt&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">defer</span><span style="color:#393A34;"> outfileWriter</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Close</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Copy contents of gzipped file to output file</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">_</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> io</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Copy</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">outfileWriter</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> gzipReader</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="temporary-files-and-directories" tabindex="-1">Temporary Files and Directories <a class="header-anchor" href="#temporary-files-and-directories" aria-hidden="true">#</a></h2><p>The <strong>ioutil</strong> package provides two functions: TempDir() and TempFile(). It is the callers responsibility to delete the temporary items when done. The only benefit these functions provide is that you can pass it an empty string for the directory, and it will automatically create the item in the system&#39;s default temporary folder (/tmp on Linux). Since <strong>os.TempDir()</strong> function that will return the defauly system temporary directory.</p><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">os</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">io/ioutil</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">fmt</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#758575;">// Create a temp dir in the system default temp folder</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#B8A965;">tempDirPath</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> ioutil</span><span style="color:#858585;">.</span><span style="color:#E0A569;">TempDir</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;myTempDir&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">          log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">     fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Temp dir created:&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> tempDirPath</span><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#758575;">// Create a file in new temp directory</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#B8A965;">tempFile</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> ioutil</span><span style="color:#858585;">.</span><span style="color:#E0A569;">TempFile</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">tempDirPath</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;myTempFile.txt&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">          log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">     fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Temp file created:&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> tempFile</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Name</span><span style="color:#858585;">())</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#758575;">// ... do something with temp file/dir ...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#758575;">// Close file</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> tempFile</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Close</span><span style="color:#858585;">()</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Delete the resources we created</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Remove</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">tempFile</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Name</span><span style="color:#858585;">())</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Remove</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">tempDirPath</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">os</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">io/ioutil</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">fmt</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#A0ADA0;">// Create a temp dir in the system default temp folder</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#8C862B;">tempDirPath</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> ioutil</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">TempDir</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;myTempDir&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">          log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">     fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Temp dir created:&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> tempDirPath</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#A0ADA0;">// Create a file in new temp directory</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#8C862B;">tempFile</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> ioutil</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">TempFile</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">tempDirPath</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;myTempFile.txt&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">          log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">     fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Temp file created:&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> tempFile</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Name</span><span style="color:#8E8F8B;">())</span></span>
<span class="line"><span style="color:#393A34;">     </span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#A0ADA0;">// ... do something with temp file/dir ...</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#A0ADA0;">// Close file</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> tempFile</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Close</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Delete the resources we created</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Remove</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">tempFile</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Name</span><span style="color:#8E8F8B;">())</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Remove</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">tempDirPath</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="downloading-a-file-over-http" tabindex="-1">Downloading a File Over HTTP <a class="header-anchor" href="#downloading-a-file-over-http" aria-hidden="true">#</a></h2><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">os</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">io</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">net/http</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#758575;">// Create output file</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#B8A965;">newFile</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Create</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;devdungeon.html&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">          log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#4D9375;">defer</span><span style="color:#DBD7CA;"> newFile</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Close</span><span style="color:#858585;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#758575;">// HTTP GET request devdungeon.com </span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#B8A965;">url</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;http://www.devdungeon.com/archive&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#B8A965;">response</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> http</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Get</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">url</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#4D9375;">defer</span><span style="color:#DBD7CA;"> response</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">Body</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Close</span><span style="color:#858585;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#758575;">// Write bytes from HTTP response to file.</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#758575;">// response.Body satisfies the reader interface.</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#758575;">// newFile satisfies the writer interface.</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#758575;">// That allows us to use io.Copy which accepts</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#758575;">// any type that implements reader and writer interface</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#B8A965;">numBytesWritten</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> io</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Copy</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">newFile</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> response</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">Body</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">          log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">     log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Downloaded </span><span style="color:#D4976C;">%d</span><span style="color:#C98A7D;"> byte file.</span><span style="color:#D4976C;">\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> numBytesWritten</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">os</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">io</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">net/http</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#A0ADA0;">// Create output file</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#8C862B;">newFile</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Create</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;devdungeon.html&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">          log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#1C6B48;">defer</span><span style="color:#393A34;"> newFile</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Close</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#A0ADA0;">// HTTP GET request devdungeon.com </span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#8C862B;">url</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;http://www.devdungeon.com/archive&quot;</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#8C862B;">response</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> http</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Get</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">url</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#1C6B48;">defer</span><span style="color:#393A34;"> response</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">Body</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Close</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#A0ADA0;">// Write bytes from HTTP response to file.</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#A0ADA0;">// response.Body satisfies the reader interface.</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#A0ADA0;">// newFile satisfies the writer interface.</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#A0ADA0;">// That allows us to use io.Copy which accepts</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#A0ADA0;">// any type that implements reader and writer interface</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#8C862B;">numBytesWritten</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> io</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Copy</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">newFile</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> response</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">Body</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">          log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">     log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Downloaded </span><span style="color:#A65E2B;">%d</span><span style="color:#B56959;"> byte file.</span><span style="color:#A65E2B;">\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> numBytesWritten</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="hashing-and-checksums" tabindex="-1">Hashing and Checksums <a class="header-anchor" href="#hashing-and-checksums" aria-hidden="true">#</a></h2><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">crypto/md5</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">crypto/sha1</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">crypto/sha256</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">crypto/sha512</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">fmt</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">io/ioutil</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Get bytes from file</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">data</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> ioutil</span><span style="color:#858585;">.</span><span style="color:#E0A569;">ReadFile</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.txt&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Hash the file and output results</span></span>
<span class="line"><span style="color:#DBD7CA;">    fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Md5: </span><span style="color:#D4976C;">%x\\n\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> md5</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Sum</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">data</span><span style="color:#858585;">))</span></span>
<span class="line"><span style="color:#DBD7CA;">    fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Sha1: </span><span style="color:#D4976C;">%x\\n\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> sha1</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Sum</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">data</span><span style="color:#858585;">))</span></span>
<span class="line"><span style="color:#DBD7CA;">    fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Sha256: </span><span style="color:#D4976C;">%x\\n\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> sha256</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Sum256</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">data</span><span style="color:#858585;">))</span></span>
<span class="line"><span style="color:#DBD7CA;">    fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Sha512: </span><span style="color:#D4976C;">%x\\n\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> sha512</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Sum512</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">data</span><span style="color:#858585;">))</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">crypto/md5</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">crypto/sha1</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">crypto/sha256</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">crypto/sha512</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">fmt</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">io/ioutil</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Get bytes from file</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">data</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> ioutil</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">ReadFile</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.txt&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Hash the file and output results</span></span>
<span class="line"><span style="color:#393A34;">    fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Md5: </span><span style="color:#A65E2B;">%x\\n\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> md5</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Sum</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">data</span><span style="color:#8E8F8B;">))</span></span>
<span class="line"><span style="color:#393A34;">    fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Sha1: </span><span style="color:#A65E2B;">%x\\n\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> sha1</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Sum</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">data</span><span style="color:#8E8F8B;">))</span></span>
<span class="line"><span style="color:#393A34;">    fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Sha256: </span><span style="color:#A65E2B;">%x\\n\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> sha256</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Sum256</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">data</span><span style="color:#8E8F8B;">))</span></span>
<span class="line"><span style="color:#393A34;">    fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Sha512: </span><span style="color:#A65E2B;">%x\\n\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> sha512</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Sum512</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">data</span><span style="color:#8E8F8B;">))</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><p>The example above copies the entire file in to memory. This was for convenience to pass it as a parameter to each of the hash functions. Another approach is to create the hash writer interface and write to it using Write(), WriteString(), or in this case, Copy(). The example below uses the md5 hash, but you can switch to use any of the others that are supported.</p><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">crypto/md5</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">log</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">fmt</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">io</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">os</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Open file for reading</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">file</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Open</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;test.txt&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">defer</span><span style="color:#DBD7CA;"> file</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Close</span><span style="color:#858585;">()</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Create new hasher, which is a writer interface</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">hasher</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> md5</span><span style="color:#858585;">.</span><span style="color:#E0A569;">New</span><span style="color:#858585;">()</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">_</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> io</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Copy</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">hasher</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> file</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        log</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Fatal</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// Hash and print. Pass nil since</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// the data is not coming in as a slice argument</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">// but is coming through the writer interface</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">sum</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> hasher</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Sum</span><span style="color:#858585;">(</span><span style="color:#D4976C;">nil</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Printf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;Md5 checksum: </span><span style="color:#D4976C;">%x\\n</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> sum</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">crypto/md5</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">log</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">fmt</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">io</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">os</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Open file for reading</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">file</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Open</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;test.txt&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">defer</span><span style="color:#393A34;"> file</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Close</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"><span style="color:#393A34;">    </span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Create new hasher, which is a writer interface</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">hasher</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> md5</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">New</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">_</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> io</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Copy</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">hasher</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> file</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        log</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Fatal</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// Hash and print. Pass nil since</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// the data is not coming in as a slice argument</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">// but is coming through the writer interface</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">sum</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> hasher</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Sum</span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">nil</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Printf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;Md5 checksum: </span><span style="color:#A65E2B;">%x\\n</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> sum</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="\u9644\u5F55\uFF1Agolang-\u6587\u4EF6\u76F8\u5173\u51FD\u6570" tabindex="-1">\u9644\u5F55\uFF1AGolang \u6587\u4EF6\u76F8\u5173\u51FD\u6570 <a class="header-anchor" href="#\u9644\u5F55\uFF1Agolang-\u6587\u4EF6\u76F8\u5173\u51FD\u6570" aria-hidden="true">#</a></h2><h3 id="basic-operations" tabindex="-1">Basic Operations <a class="header-anchor" href="#basic-operations" aria-hidden="true">#</a></h3><table><thead><tr><th>create empty file</th><th><code>newFile, err := os.Cre\xADate\xAD(&quot;te\xADst.t\xADxt\xAD&quot;)</code></th></tr></thead><tbody><tr><td>truncate a file</td><td><code>err := os.Tru\xADnca\xADte(\xAD&quot;\xADtes\xADt.t\xADxt&quot;, 100)</code></td></tr><tr><td>get file info</td><td><code>fileInfo, err := os.Sta\xADte(\xAD&quot;\xADtes\xADt.t\xADxt&quot;)</code></td></tr><tr><td>rename a file</td><td><code>err := os.Ren\xADame\xAD(ol\xADdPath, newPath)</code></td></tr><tr><td>delete a file</td><td><code>err := os.Rem\xADove\xAD(&quot;te\xADst.t\xADxt\xAD&quot;)</code></td></tr><tr><td>open a file for reading</td><td><code>file, err := os.Ope\xADn(&quot;t\xADest.tx\xADt&quot;)</code></td></tr><tr><td>open a file</td><td><code>file, err := os.Ope\xADn(&quot;t\xADest.tx\xADt&quot;, os.O_A\xADPPEND, 0600)</code></td></tr><tr><td>close a file</td><td><code>err := file.C\xADlose()</code></td></tr><tr><td>change file permision</td><td><code>err := os.Chm\xADod(\xAD&quot;\xADtes\xADt.t\xADxt&quot;, 0777)</code></td></tr><tr><td>change file ownership</td><td><code>err := os.Cho\xADwn(\xAD&quot;\xADtes\xADt.t\xADxt&quot;, os.Get\xADuid(), os.Get\xADgid())</code></td></tr><tr><td>change file timestamps</td><td><code>err := os.Cht\xADime\xADs(&quot;t\xADest.tx\xADt&quot;, lastAc\xADces\xADsTime, lastMo\xADdif\xADyTime)</code></td></tr></tbody></table><h3 id="file-open-flag" tabindex="-1">file open flag <a class="header-anchor" href="#file-open-flag" aria-hidden="true">#</a></h3><table><thead><tr><th><code>os.O_\xADRDONLY</code></th><th>open the file read only</th></tr></thead><tbody><tr><td><code>os.O_\xADWRONLY</code></td><td>open the file write only</td></tr><tr><td><code>os.O_\xADRDWR</code></td><td>open the file read write</td></tr><tr><td><code>os.O_\xADAPPEND</code></td><td>append data to the file when writing</td></tr><tr><td><code>os.O_\xADCREATE</code></td><td>create a new file if none exists</td></tr><tr><td><code>os.O_\xADEXCL</code></td><td>used with <code>O_CRE\xADATE</code>, file must not exist</td></tr><tr><td><code>os.O_\xADSYNC</code></td><td>open for synchr\xADonous I/O</td></tr><tr><td><code>O_TRUNC</code></td><td>if possible, truncate file when opened</td></tr></tbody></table><p>When opening file with <code>os.Op\xADenF\xADile</code>, flags control how the file behaves.</p><h3 id="hard-link-symbol-link" tabindex="-1">Hard Link &amp; Symbol Link <a class="header-anchor" href="#hard-link-symbol-link" aria-hidden="true">#</a></h3><table><thead><tr><th>create a hard link</th><th><code>err := os.Lin\xADk(&quot;t\xADest.tx\xADt&quot;, &quot;\xADtes\xADt_c\xADopy.tx\xADt&quot;)</code></th></tr></thead><tbody><tr><td>create a symbol link</td><td><code>err := os.Sym\xADlin\xADk(&quot;t\xADest.tx\xADt&quot;, &quot;\xADtes\xADt_s\xADym.t\xADxt\xAD&quot;)</code></td></tr><tr><td>get link file info</td><td><code>fileInfo, err := os.Lst\xADat(\xAD&quot;\xADtes\xADt_s\xADym.t\xADxt\xAD&quot;)</code></td></tr><tr><td>change link file owner</td><td><code>err := os.Lch\xADown\xAD(&quot;te\xADst_\xADsym.tx\xADt&quot;, uid, gid)</code></td></tr><tr><td>read a link</td><td><code>dest, err := os.Rea\xADdLi\xADnk(\xAD&quot;\xADlin\xADk_f\xADile.tx\xADt&quot;)</code></td></tr></tbody></table><p>A hard link creates a new pointer to the same place. A file will only be deleted from disk after all links are removed. Hard links only work on the same file system. A hard link is what you might consider a &#39;normal&#39; link.</p><p>A symbolic link, or soft link, only reference other files by name. They can point to files on different filesy\xADstems. Not all systems support symlinks.</p><h3 id="read-and-write" tabindex="-1">Read and Write <a class="header-anchor" href="#read-and-write" aria-hidden="true">#</a></h3><table><thead><tr><th>write bytes to file</th><th><code>n, err := file.W\xADrit\xADe([\xAD]by\xADte(\xAD&quot;\xADhello, world!\xAD\\n&quot;))</code></th></tr></thead><tbody><tr><td>write string to file, append string to file</td><td><code>n, err := file.W\xADrit\xADeSt\xADrin\xADg(&quot;H\xADello, world!\xAD\\n&quot;)</code></td></tr><tr><td>write at offset</td><td><code>n, err := file.W\xADrit\xADeAt\xAD([]\xADbyt\xADe(&quot;H\xADell\xADo&quot;), 10)</code></td></tr><tr><td>write from fmt</td><td><code>fmt.Fprint(file, &quot;sdfs&quot;,1,2)</code></td></tr><tr><td>read to byte</td><td><code>n, err := file.R\xADead\xAD(by\xADteS\xADlice)</code></td></tr><tr><td>read exactly n bytes</td><td><code>n, err := io.Rea\xADdFu\xADll(\xADfile, byteSl\xADice)</code></td></tr><tr><td>read at least n bytes</td><td><code>n, err := io.Rea\xADdAt\xADLea\xADst(\xADfile, byteSlice, minBytes)</code></td></tr><tr><td>read all bytes of a file</td><td><code>byteS\xADlice, err := ioutil.Re\xADadA\xADll(\xADfile)</code></td></tr><tr><td>read from offset</td><td><code>n, err := file.R\xADead\xADAt(\xADbyt\xADeSlice, 10)</code></td></tr></tbody></table><h3 id="work-with-direct\xADories" tabindex="-1">Work with direct\xADories <a class="header-anchor" href="#work-with-direct\xADories" aria-hidden="true">#</a></h3><table><thead><tr><th>create a directory</th><th><code>err := os.Mkd\xADir(\xAD&quot;\xADmyD\xADir&quot;, 0600)</code></th></tr></thead><tbody><tr><td>recurs\xADively create a directory</td><td><code>err := os.Mkd\xADirA\xADll(\xAD&quot;\xADdir\xAD/su\xADbdi\xADr/m\xADyDi\xADr&quot;, 0600)</code></td></tr><tr><td>delete a directory recurs\xADively</td><td><code>err := os.Rem\xADove\xADAll\xAD(&quot;di\xADr/&quot;)</code></td></tr><tr><td>list directory files</td><td><code>fileInfo, err := ioutil.Re\xADadD\xADir(\xAD&quot;.&quot;)</code></td></tr></tbody></table><h3 id="shortcuts" tabindex="-1">Shortcuts <a class="header-anchor" href="#shortcuts" aria-hidden="true">#</a></h3><table><thead><tr><th>quick read from file</th><th><code>byteS\xADlice, err := ioutil.Re\xADadF\xADile\xAD(&quot;te\xADst.t\xADxt\xAD&quot;)</code></th></tr></thead><tbody><tr><td>quick write to file</td><td><code>err := ioutil.Wr\xADite\xADFil\xADe(&quot;t\xADest.tx\xADt&quot;, []byte\xAD(&quot;He\xADllo\xAD&quot;), 0666)</code></td></tr><tr><td>copy file</td><td><code>n, err := io.Cop\xADy(n\xADewFile, origin\xADFile)</code></td></tr><tr><td>write string to file</td><td><code>io.Wr\xADite\xADStr\xADing\xAD(file, &quot;\xADHello, world&quot;)</code></td></tr></tbody></table><h3 id="temporary-files-and-direct\xADories" tabindex="-1">Temporary files and direct\xADories <a class="header-anchor" href="#temporary-files-and-direct\xADories" aria-hidden="true">#</a></h3><table><thead><tr><th>create temp dir</th><th><code>iouti\xADl.T\xADemp\xADDir\xAD(dir, prefix string) (name string, err error)</code></th></tr></thead><tbody><tr><td>create temp file</td><td><code>iouti\xADl.T\xADemp\xADFil\xADe(dir, prefix string) (f *os.File, err error)</code></td></tr></tbody></table><h3 id="references" tabindex="-1">References <a class="header-anchor" href="#references" aria-hidden="true">#</a></h3><table><thead><tr><th><a href="http://devdungeon.com/content/working-files-go" target="_blank" rel="noopener noreferrer">Working with Files in Go</a></th></tr></thead><tbody><tr><td><a href="https://golang.org/pkg/os/" target="_blank" rel="noopener noreferrer">golang <code>os</code> standard library</a></td></tr><tr><td><a href="https://golang.org/pkg/io/ioutil" target="_blank" rel="noopener noreferrer">golang <code>ioutil</code> standard library</a></td></tr><tr><td><a href="https://golang.org/pkg/io" target="_blank" rel="noopener noreferrer">golang <code>iou</code> standard library</a></td></tr></tbody></table><blockquote><p>\u6765\u81EA\uFF1A<a href="https://cheatography.com/cizixs/cheat-sheets/go-files/" target="_blank" rel="noopener noreferrer">https://cheatography.com/cizixs/cheat-sheets/go-files/</a></p></blockquote><h2 id="\u53C2\u8003\u94FE\u63A5" tabindex="-1">\u53C2\u8003\u94FE\u63A5 <a class="header-anchor" href="#\u53C2\u8003\u94FE\u63A5" aria-hidden="true">#</a></h2><ul><li>Golang os package: <a href="https://pkg.go.dev/os" target="_blank" rel="noopener noreferrer">https://pkg.go.dev/os</a></li></ul>`,102),e=[o];function t(r,c,y,i,A,B){return n(),a("div",null,e)}var E=s(p,[["render",t]]);export{C as __pageData,E as default};
