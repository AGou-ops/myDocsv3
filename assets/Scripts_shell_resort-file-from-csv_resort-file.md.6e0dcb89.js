import{_ as s,o as n,c as a,a as l}from"./app.1e6146c3.js";const D=JSON.parse('{"title":"\u6839\u636Ecsv\u91CD\u5F52\u6863\u6587\u4EF6","description":"","frontmatter":{},"headers":[],"relativePath":"Scripts/shell/resort-file-from-csv/resort-file.md","lastUpdated":1657272051000}'),p={name:"Scripts/shell/resort-file-from-csv/resort-file.md"},o=l(`<h1 id="\u6839\u636Ecsv\u91CD\u5F52\u6863\u6587\u4EF6" tabindex="-1">\u6839\u636Ecsv\u91CD\u5F52\u6863\u6587\u4EF6 <a class="header-anchor" href="#\u6839\u636Ecsv\u91CD\u5F52\u6863\u6587\u4EF6" aria-hidden="true">#</a></h1><p><strong>\u9700\u6C42\uFF1A\u6839\u636Eexcel\u4E2D\u7684\u6587\u4EF6\u5217\u8868\uFF0C\u5C06excel\u8FDB\u884C\u7B80\u5355\u5904\u7406\u6210csv\u683C\u5F0F\uFF0C\u4F7F\u7528sed\u3001awk\u7B49\u7ED3\u5408\u6B63\u5219\u5BF9\u56FE\u7247\u6587\u4EF6\u6309\u7167\u5E74\u6708\u7684\u683C\u5F0F\u6765\u8FDB\u884C\u91CD\u65B0\u5F52\u6863\u5E76\u8F93\u51FA\u76F8\u5173\u65E5\u5FD7\u3002</strong></p><p>\u4EE3\u7801\u5982\u4E0B\uFF1A</p><div class="language-shell"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;">#!/bin/bash</span></span>
<span class="line"><span style="color:#758575;">#</span></span>
<span class="line"><span style="color:#758575;">#**************************************************</span></span>
<span class="line"><span style="color:#758575;"># Author:         AGou-ops                        *</span></span>
<span class="line"><span style="color:#758575;"># E-mail:         agou-ops@foxmail.com            *</span></span>
<span class="line"><span style="color:#758575;"># Date:           2021-08-10                      *</span></span>
<span class="line"><span style="color:#758575;"># Description:    Re-sort picture file              *</span></span>
<span class="line"><span style="color:#758575;"># Copyright 2021 by AGou-ops.All Rights Reserved  *</span></span>
<span class="line"><span style="color:#758575;">#**************************************************</span></span>
<span class="line"><span style="color:#E0A569;">set</span><span style="color:#DBD7CA;"> -euo pipefail</span></span>
<span class="line"><span style="color:#E0A569;">set</span><span style="color:#DBD7CA;"> -o errexit</span></span>
<span class="line"><span style="color:#758575;"># -------</span></span>
<span class="line"><span style="color:#DBD7CA;">base_dir=./gif</span></span>
<span class="line"><span style="color:#DBD7CA;">path_pic=./path_pics.csv</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;"># Create destination Dirs</span></span>
<span class="line"><span style="color:#A1B567;">create_dirs</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;">{</span></span>
<span class="line"><span style="color:#858585;">   </span><span style="color:#758575;"># dirs_name=\`tree -dfi &quot;\${base_dir}&quot; | grep -v &quot;dire*&quot; | sed &quot;s/gif/output/g&quot; \`</span></span>
<span class="line"><span style="color:#858585;">   </span><span style="color:#758575;"># mkdir -pv $dirs_name &amp;&amp; echo -e \\n\\n&quot;success&quot; || echo &quot;\\n\\nfailed&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">   dirs_name=</span><span style="color:#C98A7D;">\`awk -F, &#39;{print &quot;./&quot;$1}&#39; &quot;</span><span style="color:#858585;">\${</span><span style="color:#C98A7D;">path_pic</span><span style="color:#858585;">}</span><span style="color:#C98A7D;">&quot; </span><span style="color:#CB7676;">|</span><span style="color:#C98A7D;"> sed &quot;s@./ @./output/@g&quot;  </span><span style="color:#CB7676;">|</span><span style="color:#C98A7D;"> uniq\`</span></span>
<span class="line"><span style="color:#DBD7CA;">   mkdir -pv </span><span style="color:#858585;">$</span><span style="color:#B8A965;">dirs_name</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&amp;&amp;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> -e </span><span style="color:#C98A7D;">&quot;\\033[42;37m CREATE DIRs SUCCESS \\033[0m\\n\\n&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">||</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> -e </span><span style="color:#C98A7D;">&quot;\\033[41;37m FAILED \\033[0m&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">create_dirs</span></span>
<span class="line"><span style="color:#758575;"># Sleep 2 seconds to wait create_dirs</span></span>
<span class="line"><span style="color:#DBD7CA;">sleep 1</span></span>
<span class="line"><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> -e </span><span style="color:#C98A7D;">&quot;\\n\\n\\033[47;30m ============================== TASK START ============================== \\033[0m\\n&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;"># Get old filepath and new filepath</span></span>
<span class="line"><span style="color:#DBD7CA;">tree -if </span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">\${</span><span style="color:#C98A7D;">base_dir</span><span style="color:#858585;">}</span><span style="color:#C98A7D;">&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">|</span><span style="color:#DBD7CA;"> egrep </span><span style="color:#C98A7D;">&#39;*.gif$|*.png&#39;</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">|</span><span style="color:#DBD7CA;"> tr </span><span style="color:#C98A7D;">&quot;.&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;_&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">|</span><span style="color:#DBD7CA;"> tr </span><span style="color:#C98A7D;">&quot; &quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;&lt;&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">|</span><span style="color:#DBD7CA;"> tr </span><span style="color:#C98A7D;">&quot;-&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;&gt;&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> ./old_filepath.txt</span></span>
<span class="line"><span style="color:#DBD7CA;">awk -F, </span><span style="color:#C98A7D;">&#39;{print &quot;./&quot;$1&quot;/&quot;$2}&#39;</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">\${</span><span style="color:#C98A7D;">path_pic</span><span style="color:#858585;">}</span><span style="color:#C98A7D;">&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">|</span><span style="color:#DBD7CA;"> sed </span><span style="color:#C98A7D;">&quot;s@./ @./output/@g&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">|</span><span style="color:#DBD7CA;"> tr </span><span style="color:#C98A7D;">&quot;.&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;_&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">|</span><span style="color:#DBD7CA;"> tr </span><span style="color:#C98A7D;">&quot; &quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;&lt;&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">|</span><span style="color:#DBD7CA;"> tr </span><span style="color:#C98A7D;">&quot;-&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;&gt;&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> ./new_filepath.txt</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C98A7D;">\`dos2unix old_filepath.txt\`</span></span>
<span class="line"><span style="color:#C98A7D;">\`dos2unix new_filepath.txt\`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">sleep 2</span></span>
<span class="line"><span style="color:#758575;"># old_filepath=\`tree -if &quot;\${base_dir}&quot; | egrep &#39;*.gif$|*.png|*.jpg&#39;\`</span></span>
<span class="line"><span style="color:#758575;"># new_filepath=\`awk -F, &#39;{print &quot;./&quot;$1&quot;/&quot;$2}&#39; &quot;\${path_pic}&quot; | sed &quot;s@./ @./output/@g&quot;\`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;"># Create dict to store filename(key) and filepath(value)</span></span>
<span class="line"><span style="color:#CB7676;">declare</span><span style="color:#DBD7CA;"> -A old_path_dict</span></span>
<span class="line"><span style="color:#4D9375;">while</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">read</span><span style="color:#DBD7CA;"> line</span><span style="color:#CB7676;">;</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">do</span><span style="color:#DBD7CA;"> </span></span>
<span class="line"><span style="color:#DBD7CA;">  key=</span><span style="color:#C98A7D;">$(basename </span><span style="color:#858585;">$</span><span style="color:#C98A7D;">line)</span></span>
<span class="line"><span style="color:#DBD7CA;">  data=</span><span style="color:#C98A7D;">$(dirname </span><span style="color:#858585;">$</span><span style="color:#C98A7D;">line)</span></span>
<span class="line"><span style="color:#DBD7CA;">  old_path_dict</span><span style="color:#858585;">[$</span><span style="color:#B8A965;">key</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">=</span><span style="color:#858585;">$</span><span style="color:#B8A965;">data</span></span>
<span class="line"><span style="color:#4D9375;">done</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&lt;</span><span style="color:#DBD7CA;"> old_filepath.txt</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">declare</span><span style="color:#DBD7CA;"> -A new_path_dict</span></span>
<span class="line"><span style="color:#4D9375;">while</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">read</span><span style="color:#DBD7CA;"> line</span><span style="color:#CB7676;">;</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">do</span><span style="color:#DBD7CA;"> </span></span>
<span class="line"><span style="color:#DBD7CA;">  key=</span><span style="color:#C98A7D;">$(basename </span><span style="color:#858585;">$</span><span style="color:#C98A7D;">line)</span></span>
<span class="line"><span style="color:#DBD7CA;">  data=</span><span style="color:#C98A7D;">$(dirname </span><span style="color:#858585;">$</span><span style="color:#C98A7D;">line)</span></span>
<span class="line"><span style="color:#DBD7CA;">  new_path_dict</span><span style="color:#858585;">[$</span><span style="color:#B8A965;">key</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">=</span><span style="color:#858585;">$</span><span style="color:#B8A965;">data</span></span>
<span class="line"><span style="color:#4D9375;">done</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&lt;</span><span style="color:#DBD7CA;"> new_filepath.txt</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;"># Empty file content</span></span>
<span class="line"><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> ./match_result.txt</span></span>
<span class="line"><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> ./final_result.txt</span></span>
<span class="line"><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> ./final_result2.txt</span></span>
<span class="line"><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> ./final_result3.txt</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">for</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">i</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">in</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">$(echo </span><span style="color:#858585;">\${</span><span style="color:#CB7676;">!</span><span style="color:#C98A7D;">new_path_dict</span><span style="color:#858585;">[</span><span style="color:#C98A7D;">*</span><span style="color:#858585;">]}</span><span style="color:#C98A7D;">)</span><span style="color:#CB7676;">;</span><span style="color:#4D9375;">do</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;"># echo &quot;$i : \${new_path_dict[$i]}&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">for</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">j</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">in</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">$(echo </span><span style="color:#858585;">\${</span><span style="color:#CB7676;">!</span><span style="color:#C98A7D;">old_path_dict</span><span style="color:#858585;">[</span><span style="color:#C98A7D;">*</span><span style="color:#858585;">]}</span><span style="color:#C98A7D;">)</span><span style="color:#CB7676;">;</span><span style="color:#4D9375;">do</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">$</span><span style="color:#C98A7D;">i&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">==</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">$</span><span style="color:#C98A7D;">j&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">]</span><span style="color:#CB7676;">;</span><span style="color:#4D9375;">then</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> -e </span><span style="color:#C98A7D;">&quot;\u3010MATCHED\u3011 </span><span style="color:#858585;">$</span><span style="color:#C98A7D;">i\\t==\\t</span><span style="color:#858585;">$</span><span style="color:#C98A7D;">j \\t\\t\u3010</span><span style="color:#858585;">\${</span><span style="color:#C98A7D;">new_path_dict</span><span style="color:#858585;">[</span><span style="color:#C98A7D;">$i</span><span style="color:#858585;">]}</span><span style="color:#C98A7D;">\\t&lt;==&gt;\\t</span><span style="color:#858585;">\${</span><span style="color:#C98A7D;">old_path_dict</span><span style="color:#858585;">[</span><span style="color:#C98A7D;">$j</span><span style="color:#858585;">]}</span><span style="color:#C98A7D;">\u3011&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&gt;&gt;</span><span style="color:#DBD7CA;"> ./match_result.txt</span></span>
<span class="line"><span style="color:#758575;"># ---------------- IMPORTANT STEP --------------------</span></span>
<span class="line"><span style="color:#DBD7CA;">            old_absolute_path=</span><span style="color:#C98A7D;">\`echo -e &quot;</span><span style="color:#858585;">\${</span><span style="color:#C98A7D;">old_path_dict</span><span style="color:#858585;">[</span><span style="color:#C98A7D;">$j</span><span style="color:#858585;">]}</span><span style="color:#C98A7D;">/</span><span style="color:#858585;">$</span><span style="color:#C98A7D;">j&quot; </span><span style="color:#CB7676;">|</span><span style="color:#C98A7D;"> tr &quot;_&quot; &quot;.&quot; </span><span style="color:#CB7676;">|</span><span style="color:#C98A7D;"> tr &quot;&lt;&quot; &quot; &quot;  </span><span style="color:#CB7676;">|</span><span style="color:#C98A7D;"> tr &quot;&gt;&quot; &quot;-&quot;\`</span></span>
<span class="line"><span style="color:#DBD7CA;">            new_absolute_path=</span><span style="color:#C98A7D;">\`echo -e &quot;</span><span style="color:#858585;">\${</span><span style="color:#C98A7D;">new_path_dict</span><span style="color:#858585;">[</span><span style="color:#C98A7D;">$j</span><span style="color:#858585;">]}</span><span style="color:#C98A7D;">/</span><span style="color:#858585;">$</span><span style="color:#C98A7D;">j&quot; </span><span style="color:#CB7676;">|</span><span style="color:#C98A7D;"> tr &quot;_&quot; &quot;.&quot; </span><span style="color:#CB7676;">|</span><span style="color:#C98A7D;"> tr &quot;&lt;&quot; &quot; &quot;  </span><span style="color:#CB7676;">|</span><span style="color:#C98A7D;"> tr &quot;&gt;&quot; &quot;-&quot;\`</span></span>
<span class="line"><span style="color:#858585;">            </span><span style="color:#758575;"># test=\`echo -e \${old_path_dict[$j]}/\\t$j | tr &quot;_&quot; &quot;.&quot; | tr &quot;&lt;&quot; &quot; &quot;  | tr &quot;&gt;&quot; &quot;-&quot;&quot;\`</span></span>
<span class="line"><span style="color:#DBD7CA;">            test1=</span><span style="color:#C98A7D;">\`echo -e &quot;</span><span style="color:#858585;">\${</span><span style="color:#C98A7D;">old_path_dict</span><span style="color:#858585;">[</span><span style="color:#C98A7D;">$j</span><span style="color:#858585;">]}</span><span style="color:#C98A7D;">/\\t</span><span style="color:#858585;">$</span><span style="color:#C98A7D;">j&quot; </span><span style="color:#CB7676;">|</span><span style="color:#C98A7D;"> tr &quot;_&quot; &quot;.&quot; </span><span style="color:#CB7676;">|</span><span style="color:#C98A7D;"> tr &quot;&lt;&quot; &quot; &quot;  </span><span style="color:#CB7676;">|</span><span style="color:#C98A7D;"> tr &quot;&gt;&quot; &quot;-&quot;\`</span></span>
<span class="line"><span style="color:#DBD7CA;">            test2=</span><span style="color:#C98A7D;">\`echo -e &quot;</span><span style="color:#858585;">\${</span><span style="color:#C98A7D;">new_path_dict</span><span style="color:#858585;">[</span><span style="color:#C98A7D;">$j</span><span style="color:#858585;">]}</span><span style="color:#C98A7D;">/\\t</span><span style="color:#858585;">$</span><span style="color:#C98A7D;">j&quot; </span><span style="color:#CB7676;">|</span><span style="color:#C98A7D;"> tr &quot;_&quot; &quot;.&quot; </span><span style="color:#CB7676;">|</span><span style="color:#C98A7D;"> tr &quot;&lt;&quot; &quot; &quot;  </span><span style="color:#CB7676;">|</span><span style="color:#C98A7D;"> tr &quot;&gt;&quot; &quot;-&quot;\`</span></span>
<span class="line"><span style="color:#DBD7CA;">            dest_path=</span><span style="color:#C98A7D;">\`echo -e &quot;</span><span style="color:#858585;">\${</span><span style="color:#C98A7D;">new_path_dict</span><span style="color:#858585;">[</span><span style="color:#C98A7D;">$j</span><span style="color:#858585;">]}</span><span style="color:#C98A7D;">/&quot; </span><span style="color:#CB7676;">|</span><span style="color:#C98A7D;"> tr &quot;_&quot; &quot;.&quot; </span><span style="color:#CB7676;">|</span><span style="color:#C98A7D;"> tr &quot;&lt;&quot; &quot; &quot;  </span><span style="color:#CB7676;">|</span><span style="color:#C98A7D;"> tr &quot;&gt;&quot; &quot;-&quot;\`</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> -e </span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">$</span><span style="color:#C98A7D;">old_absolute_path\\t==&gt;\\t</span><span style="color:#858585;">$</span><span style="color:#C98A7D;">new_absolute_path&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&gt;&gt;</span><span style="color:#DBD7CA;"> ./final_result.txt</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">$</span><span style="color:#B8A965;">test1</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&gt;&gt;</span><span style="color:#DBD7CA;"> ./final_result2.txt</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">$</span><span style="color:#B8A965;">test2</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&gt;&gt;</span><span style="color:#DBD7CA;"> ./final_result3.txt</span></span>
<span class="line"><span style="color:#DBD7CA;">            mv --verbose </span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">$</span><span style="color:#C98A7D;">old_absolute_path&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">$</span><span style="color:#C98A7D;">dest_path&quot;</span><span style="color:#DBD7CA;">  </span><span style="color:#CB7676;">&amp;&amp;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> -e </span><span style="color:#C98A7D;">&quot;\\033[42;37m SUCCESS \\033[0m&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">||</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> -e </span><span style="color:#C98A7D;">&quot;\\033[41;37m FAILED \\033[0m&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#4D9375;">fi</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">done</span></span>
<span class="line"><span style="color:#4D9375;">done</span></span>
<span class="line"><span style="color:#758575;"># test dict</span></span>
<span class="line"><span style="color:#758575;"># echo &quot;\${new_path_dict[&quot;\u8FDB\u9879\u53D1\u7968_png&quot;]}&quot;</span></span>
<span class="line"><span style="color:#758575;"># echo &quot;\${old_path_dict[&quot;\u8FDB\u9879\u53D1\u7968_png&quot;]}&quot;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;"># old_filepath_2_dict=\`\`</span></span>
<span class="line"><span style="color:#758575;"># new_filepath_2_dict=\`\`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;"># for i in &quot;$all_filepath&quot;;do</span></span>
<span class="line"><span style="color:#758575;">#     # path1=\`dirname &quot;$i&quot;\`</span></span>
<span class="line"><span style="color:#758575;">#     # filename1=\`basename &quot;$i&quot;\`</span></span>
<span class="line"><span style="color:#758575;">#     # echo -e &quot;$path1\\t---\\t$filename1&quot;</span></span>
<span class="line"><span style="color:#758575;">#     # break</span></span>
<span class="line"><span style="color:#758575;">#     for j in &quot;$new_filepath&quot;;do</span></span>
<span class="line"><span style="color:#758575;">#         filename1=\`basename &quot;$i&quot;\`</span></span>
<span class="line"><span style="color:#758575;">#         path2=\`dirname &quot;$j&quot;\`</span></span>
<span class="line"><span style="color:#758575;">#         filename2=\`basename &quot;$j&quot;\`</span></span>
<span class="line"><span style="color:#758575;">#         # echo -e &quot;$path2\\t---\\t$filename2&quot;</span></span>
<span class="line"><span style="color:#758575;">#     done</span></span>
<span class="line"><span style="color:#758575;"># done</span></span>
<span class="line"><span style="color:#758575;"># get_filename=$(basename $all_filepath)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> -e </span><span style="color:#C98A7D;">&quot;\\n\\n\\033[47;30m ============================== TASK END ============================== \\033[0m\\n&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;"># Clean useless files</span></span>
<span class="line"><span style="color:#C98A7D;">\`rm ./new_filepath.txt ./old_filepath.txt\`</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">#!/bin/bash</span></span>
<span class="line"><span style="color:#A0ADA0;">#</span></span>
<span class="line"><span style="color:#A0ADA0;">#**************************************************</span></span>
<span class="line"><span style="color:#A0ADA0;"># Author:         AGou-ops                        *</span></span>
<span class="line"><span style="color:#A0ADA0;"># E-mail:         agou-ops@foxmail.com            *</span></span>
<span class="line"><span style="color:#A0ADA0;"># Date:           2021-08-10                      *</span></span>
<span class="line"><span style="color:#A0ADA0;"># Description:    Re-sort picture file              *</span></span>
<span class="line"><span style="color:#A0ADA0;"># Copyright 2021 by AGou-ops.All Rights Reserved  *</span></span>
<span class="line"><span style="color:#A0ADA0;">#**************************************************</span></span>
<span class="line"><span style="color:#B58451;">set</span><span style="color:#393A34;"> -euo pipefail</span></span>
<span class="line"><span style="color:#B58451;">set</span><span style="color:#393A34;"> -o errexit</span></span>
<span class="line"><span style="color:#A0ADA0;"># -------</span></span>
<span class="line"><span style="color:#393A34;">base_dir=./gif</span></span>
<span class="line"><span style="color:#393A34;">path_pic=./path_pics.csv</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;"># Create destination Dirs</span></span>
<span class="line"><span style="color:#6C7834;">create_dirs</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;">{</span></span>
<span class="line"><span style="color:#8E8F8B;">   </span><span style="color:#A0ADA0;"># dirs_name=\`tree -dfi &quot;\${base_dir}&quot; | grep -v &quot;dire*&quot; | sed &quot;s/gif/output/g&quot; \`</span></span>
<span class="line"><span style="color:#8E8F8B;">   </span><span style="color:#A0ADA0;"># mkdir -pv $dirs_name &amp;&amp; echo -e \\n\\n&quot;success&quot; || echo &quot;\\n\\nfailed&quot;</span></span>
<span class="line"><span style="color:#393A34;">   dirs_name=</span><span style="color:#B56959;">\`awk -F, &#39;{print &quot;./&quot;$1}&#39; &quot;</span><span style="color:#8E8F8B;">\${</span><span style="color:#B56959;">path_pic</span><span style="color:#8E8F8B;">}</span><span style="color:#B56959;">&quot; </span><span style="color:#AB5959;">|</span><span style="color:#B56959;"> sed &quot;s@./ @./output/@g&quot;  </span><span style="color:#AB5959;">|</span><span style="color:#B56959;"> uniq\`</span></span>
<span class="line"><span style="color:#393A34;">   mkdir -pv </span><span style="color:#8E8F8B;">$</span><span style="color:#8C862B;">dirs_name</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&amp;&amp;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">echo</span><span style="color:#393A34;"> -e </span><span style="color:#B56959;">&quot;\\033[42;37m CREATE DIRs SUCCESS \\033[0m\\n\\n&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">||</span><span style="color:#393A34;"> </span><span style="color:#B58451;">echo</span><span style="color:#393A34;"> -e </span><span style="color:#B56959;">&quot;\\033[41;37m FAILED \\033[0m&quot;</span></span>
<span class="line"><span style="color:#393A34;">}</span></span>
<span class="line"><span style="color:#393A34;">create_dirs</span></span>
<span class="line"><span style="color:#A0ADA0;"># Sleep 2 seconds to wait create_dirs</span></span>
<span class="line"><span style="color:#393A34;">sleep 1</span></span>
<span class="line"><span style="color:#B58451;">echo</span><span style="color:#393A34;"> -e </span><span style="color:#B56959;">&quot;\\n\\n\\033[47;30m ============================== TASK START ============================== \\033[0m\\n&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;"># Get old filepath and new filepath</span></span>
<span class="line"><span style="color:#393A34;">tree -if </span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">\${</span><span style="color:#B56959;">base_dir</span><span style="color:#8E8F8B;">}</span><span style="color:#B56959;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">|</span><span style="color:#393A34;"> egrep </span><span style="color:#B56959;">&#39;*.gif$|*.png&#39;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">|</span><span style="color:#393A34;"> tr </span><span style="color:#B56959;">&quot;.&quot;</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;_&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">|</span><span style="color:#393A34;"> tr </span><span style="color:#B56959;">&quot; &quot;</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;&lt;&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">|</span><span style="color:#393A34;"> tr </span><span style="color:#B56959;">&quot;-&quot;</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;&gt;&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> ./old_filepath.txt</span></span>
<span class="line"><span style="color:#393A34;">awk -F, </span><span style="color:#B56959;">&#39;{print &quot;./&quot;$1&quot;/&quot;$2}&#39;</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">\${</span><span style="color:#B56959;">path_pic</span><span style="color:#8E8F8B;">}</span><span style="color:#B56959;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">|</span><span style="color:#393A34;"> sed </span><span style="color:#B56959;">&quot;s@./ @./output/@g&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">|</span><span style="color:#393A34;"> tr </span><span style="color:#B56959;">&quot;.&quot;</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;_&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">|</span><span style="color:#393A34;"> tr </span><span style="color:#B56959;">&quot; &quot;</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;&lt;&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">|</span><span style="color:#393A34;"> tr </span><span style="color:#B56959;">&quot;-&quot;</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;&gt;&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> ./new_filepath.txt</span></span>
<span class="line"></span>
<span class="line"><span style="color:#B56959;">\`dos2unix old_filepath.txt\`</span></span>
<span class="line"><span style="color:#B56959;">\`dos2unix new_filepath.txt\`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">sleep 2</span></span>
<span class="line"><span style="color:#A0ADA0;"># old_filepath=\`tree -if &quot;\${base_dir}&quot; | egrep &#39;*.gif$|*.png|*.jpg&#39;\`</span></span>
<span class="line"><span style="color:#A0ADA0;"># new_filepath=\`awk -F, &#39;{print &quot;./&quot;$1&quot;/&quot;$2}&#39; &quot;\${path_pic}&quot; | sed &quot;s@./ @./output/@g&quot;\`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;"># Create dict to store filename(key) and filepath(value)</span></span>
<span class="line"><span style="color:#AB5959;">declare</span><span style="color:#393A34;"> -A old_path_dict</span></span>
<span class="line"><span style="color:#1C6B48;">while</span><span style="color:#393A34;"> </span><span style="color:#B58451;">read</span><span style="color:#393A34;"> line</span><span style="color:#AB5959;">;</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">do</span><span style="color:#393A34;"> </span></span>
<span class="line"><span style="color:#393A34;">  key=</span><span style="color:#B56959;">$(basename </span><span style="color:#8E8F8B;">$</span><span style="color:#B56959;">line)</span></span>
<span class="line"><span style="color:#393A34;">  data=</span><span style="color:#B56959;">$(dirname </span><span style="color:#8E8F8B;">$</span><span style="color:#B56959;">line)</span></span>
<span class="line"><span style="color:#393A34;">  old_path_dict</span><span style="color:#8E8F8B;">[$</span><span style="color:#8C862B;">key</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">=</span><span style="color:#8E8F8B;">$</span><span style="color:#8C862B;">data</span></span>
<span class="line"><span style="color:#1C6B48;">done</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&lt;</span><span style="color:#393A34;"> old_filepath.txt</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">declare</span><span style="color:#393A34;"> -A new_path_dict</span></span>
<span class="line"><span style="color:#1C6B48;">while</span><span style="color:#393A34;"> </span><span style="color:#B58451;">read</span><span style="color:#393A34;"> line</span><span style="color:#AB5959;">;</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">do</span><span style="color:#393A34;"> </span></span>
<span class="line"><span style="color:#393A34;">  key=</span><span style="color:#B56959;">$(basename </span><span style="color:#8E8F8B;">$</span><span style="color:#B56959;">line)</span></span>
<span class="line"><span style="color:#393A34;">  data=</span><span style="color:#B56959;">$(dirname </span><span style="color:#8E8F8B;">$</span><span style="color:#B56959;">line)</span></span>
<span class="line"><span style="color:#393A34;">  new_path_dict</span><span style="color:#8E8F8B;">[$</span><span style="color:#8C862B;">key</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">=</span><span style="color:#8E8F8B;">$</span><span style="color:#8C862B;">data</span></span>
<span class="line"><span style="color:#1C6B48;">done</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&lt;</span><span style="color:#393A34;"> new_filepath.txt</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;"># Empty file content</span></span>
<span class="line"><span style="color:#B58451;">:</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> ./match_result.txt</span></span>
<span class="line"><span style="color:#B58451;">:</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> ./final_result.txt</span></span>
<span class="line"><span style="color:#B58451;">:</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> ./final_result2.txt</span></span>
<span class="line"><span style="color:#B58451;">:</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> ./final_result3.txt</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">in</span><span style="color:#393A34;"> </span><span style="color:#B56959;">$(echo </span><span style="color:#8E8F8B;">\${</span><span style="color:#AB5959;">!</span><span style="color:#B56959;">new_path_dict</span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">*</span><span style="color:#8E8F8B;">]}</span><span style="color:#B56959;">)</span><span style="color:#AB5959;">;</span><span style="color:#1C6B48;">do</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;"># echo &quot;$i : \${new_path_dict[$i]}&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">j</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">in</span><span style="color:#393A34;"> </span><span style="color:#B56959;">$(echo </span><span style="color:#8E8F8B;">\${</span><span style="color:#AB5959;">!</span><span style="color:#B56959;">old_path_dict</span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">*</span><span style="color:#8E8F8B;">]}</span><span style="color:#B56959;">)</span><span style="color:#AB5959;">;</span><span style="color:#1C6B48;">do</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">$</span><span style="color:#B56959;">i&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">==</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">$</span><span style="color:#B56959;">j&quot;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">]</span><span style="color:#AB5959;">;</span><span style="color:#1C6B48;">then</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B58451;">echo</span><span style="color:#393A34;"> -e </span><span style="color:#B56959;">&quot;\u3010MATCHED\u3011 </span><span style="color:#8E8F8B;">$</span><span style="color:#B56959;">i\\t==\\t</span><span style="color:#8E8F8B;">$</span><span style="color:#B56959;">j \\t\\t\u3010</span><span style="color:#8E8F8B;">\${</span><span style="color:#B56959;">new_path_dict</span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">$i</span><span style="color:#8E8F8B;">]}</span><span style="color:#B56959;">\\t&lt;==&gt;\\t</span><span style="color:#8E8F8B;">\${</span><span style="color:#B56959;">old_path_dict</span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">$j</span><span style="color:#8E8F8B;">]}</span><span style="color:#B56959;">\u3011&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&gt;&gt;</span><span style="color:#393A34;"> ./match_result.txt</span></span>
<span class="line"><span style="color:#A0ADA0;"># ---------------- IMPORTANT STEP --------------------</span></span>
<span class="line"><span style="color:#393A34;">            old_absolute_path=</span><span style="color:#B56959;">\`echo -e &quot;</span><span style="color:#8E8F8B;">\${</span><span style="color:#B56959;">old_path_dict</span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">$j</span><span style="color:#8E8F8B;">]}</span><span style="color:#B56959;">/</span><span style="color:#8E8F8B;">$</span><span style="color:#B56959;">j&quot; </span><span style="color:#AB5959;">|</span><span style="color:#B56959;"> tr &quot;_&quot; &quot;.&quot; </span><span style="color:#AB5959;">|</span><span style="color:#B56959;"> tr &quot;&lt;&quot; &quot; &quot;  </span><span style="color:#AB5959;">|</span><span style="color:#B56959;"> tr &quot;&gt;&quot; &quot;-&quot;\`</span></span>
<span class="line"><span style="color:#393A34;">            new_absolute_path=</span><span style="color:#B56959;">\`echo -e &quot;</span><span style="color:#8E8F8B;">\${</span><span style="color:#B56959;">new_path_dict</span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">$j</span><span style="color:#8E8F8B;">]}</span><span style="color:#B56959;">/</span><span style="color:#8E8F8B;">$</span><span style="color:#B56959;">j&quot; </span><span style="color:#AB5959;">|</span><span style="color:#B56959;"> tr &quot;_&quot; &quot;.&quot; </span><span style="color:#AB5959;">|</span><span style="color:#B56959;"> tr &quot;&lt;&quot; &quot; &quot;  </span><span style="color:#AB5959;">|</span><span style="color:#B56959;"> tr &quot;&gt;&quot; &quot;-&quot;\`</span></span>
<span class="line"><span style="color:#8E8F8B;">            </span><span style="color:#A0ADA0;"># test=\`echo -e \${old_path_dict[$j]}/\\t$j | tr &quot;_&quot; &quot;.&quot; | tr &quot;&lt;&quot; &quot; &quot;  | tr &quot;&gt;&quot; &quot;-&quot;&quot;\`</span></span>
<span class="line"><span style="color:#393A34;">            test1=</span><span style="color:#B56959;">\`echo -e &quot;</span><span style="color:#8E8F8B;">\${</span><span style="color:#B56959;">old_path_dict</span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">$j</span><span style="color:#8E8F8B;">]}</span><span style="color:#B56959;">/\\t</span><span style="color:#8E8F8B;">$</span><span style="color:#B56959;">j&quot; </span><span style="color:#AB5959;">|</span><span style="color:#B56959;"> tr &quot;_&quot; &quot;.&quot; </span><span style="color:#AB5959;">|</span><span style="color:#B56959;"> tr &quot;&lt;&quot; &quot; &quot;  </span><span style="color:#AB5959;">|</span><span style="color:#B56959;"> tr &quot;&gt;&quot; &quot;-&quot;\`</span></span>
<span class="line"><span style="color:#393A34;">            test2=</span><span style="color:#B56959;">\`echo -e &quot;</span><span style="color:#8E8F8B;">\${</span><span style="color:#B56959;">new_path_dict</span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">$j</span><span style="color:#8E8F8B;">]}</span><span style="color:#B56959;">/\\t</span><span style="color:#8E8F8B;">$</span><span style="color:#B56959;">j&quot; </span><span style="color:#AB5959;">|</span><span style="color:#B56959;"> tr &quot;_&quot; &quot;.&quot; </span><span style="color:#AB5959;">|</span><span style="color:#B56959;"> tr &quot;&lt;&quot; &quot; &quot;  </span><span style="color:#AB5959;">|</span><span style="color:#B56959;"> tr &quot;&gt;&quot; &quot;-&quot;\`</span></span>
<span class="line"><span style="color:#393A34;">            dest_path=</span><span style="color:#B56959;">\`echo -e &quot;</span><span style="color:#8E8F8B;">\${</span><span style="color:#B56959;">new_path_dict</span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">$j</span><span style="color:#8E8F8B;">]}</span><span style="color:#B56959;">/&quot; </span><span style="color:#AB5959;">|</span><span style="color:#B56959;"> tr &quot;_&quot; &quot;.&quot; </span><span style="color:#AB5959;">|</span><span style="color:#B56959;"> tr &quot;&lt;&quot; &quot; &quot;  </span><span style="color:#AB5959;">|</span><span style="color:#B56959;"> tr &quot;&gt;&quot; &quot;-&quot;\`</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B58451;">echo</span><span style="color:#393A34;"> -e </span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">$</span><span style="color:#B56959;">old_absolute_path\\t==&gt;\\t</span><span style="color:#8E8F8B;">$</span><span style="color:#B56959;">new_absolute_path&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&gt;&gt;</span><span style="color:#393A34;"> ./final_result.txt</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">$</span><span style="color:#8C862B;">test1</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&gt;&gt;</span><span style="color:#393A34;"> ./final_result2.txt</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">$</span><span style="color:#8C862B;">test2</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&gt;&gt;</span><span style="color:#393A34;"> ./final_result3.txt</span></span>
<span class="line"><span style="color:#393A34;">            mv --verbose </span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">$</span><span style="color:#B56959;">old_absolute_path&quot;</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">$</span><span style="color:#B56959;">dest_path&quot;</span><span style="color:#393A34;">  </span><span style="color:#AB5959;">&amp;&amp;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">echo</span><span style="color:#393A34;"> -e </span><span style="color:#B56959;">&quot;\\033[42;37m SUCCESS \\033[0m&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">||</span><span style="color:#393A34;"> </span><span style="color:#B58451;">echo</span><span style="color:#393A34;"> -e </span><span style="color:#B56959;">&quot;\\033[41;37m FAILED \\033[0m&quot;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1C6B48;">fi</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">done</span></span>
<span class="line"><span style="color:#1C6B48;">done</span></span>
<span class="line"><span style="color:#A0ADA0;"># test dict</span></span>
<span class="line"><span style="color:#A0ADA0;"># echo &quot;\${new_path_dict[&quot;\u8FDB\u9879\u53D1\u7968_png&quot;]}&quot;</span></span>
<span class="line"><span style="color:#A0ADA0;"># echo &quot;\${old_path_dict[&quot;\u8FDB\u9879\u53D1\u7968_png&quot;]}&quot;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;"># old_filepath_2_dict=\`\`</span></span>
<span class="line"><span style="color:#A0ADA0;"># new_filepath_2_dict=\`\`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;"># for i in &quot;$all_filepath&quot;;do</span></span>
<span class="line"><span style="color:#A0ADA0;">#     # path1=\`dirname &quot;$i&quot;\`</span></span>
<span class="line"><span style="color:#A0ADA0;">#     # filename1=\`basename &quot;$i&quot;\`</span></span>
<span class="line"><span style="color:#A0ADA0;">#     # echo -e &quot;$path1\\t---\\t$filename1&quot;</span></span>
<span class="line"><span style="color:#A0ADA0;">#     # break</span></span>
<span class="line"><span style="color:#A0ADA0;">#     for j in &quot;$new_filepath&quot;;do</span></span>
<span class="line"><span style="color:#A0ADA0;">#         filename1=\`basename &quot;$i&quot;\`</span></span>
<span class="line"><span style="color:#A0ADA0;">#         path2=\`dirname &quot;$j&quot;\`</span></span>
<span class="line"><span style="color:#A0ADA0;">#         filename2=\`basename &quot;$j&quot;\`</span></span>
<span class="line"><span style="color:#A0ADA0;">#         # echo -e &quot;$path2\\t---\\t$filename2&quot;</span></span>
<span class="line"><span style="color:#A0ADA0;">#     done</span></span>
<span class="line"><span style="color:#A0ADA0;"># done</span></span>
<span class="line"><span style="color:#A0ADA0;"># get_filename=$(basename $all_filepath)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#B58451;">echo</span><span style="color:#393A34;"> -e </span><span style="color:#B56959;">&quot;\\n\\n\\033[47;30m ============================== TASK END ============================== \\033[0m\\n&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;"># Clean useless files</span></span>
<span class="line"><span style="color:#B56959;">\`rm ./new_filepath.txt ./old_filepath.txt\`</span></span>
<span class="line"></span></code></pre></div>`,4),t=[o];function e(c,r,y,A,i,u){return n(),a("div",null,t)}var q=s(p,[["render",e]]);export{D as __pageData,q as default};
