import{_ as s,o as n,c as a,a as l}from"./app.1e6146c3.js";const C=JSON.parse('{"title":"Golang \u9519\u8BEF\u53CA\u9519\u8BEF\u5904\u7406","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u9519\u8BEF\u6355\u83B7","slug":"\u9519\u8BEF\u6355\u83B7"},{"level":2,"title":"\u9519\u8BEF\u5904\u7406","slug":"\u9519\u8BEF\u5904\u7406"},{"level":2,"title":"\u53C2\u8003\u94FE\u63A5","slug":"\u53C2\u8003\u94FE\u63A5"}],"relativePath":"ProgramLang/Golang/Golang Errors - handler.md","lastUpdated":1657272051000}'),p={name:"ProgramLang/Golang/Golang Errors - handler.md"},o=l(`<h1 id="golang-\u9519\u8BEF\u53CA\u9519\u8BEF\u5904\u7406" tabindex="-1">Golang \u9519\u8BEF\u53CA\u9519\u8BEF\u5904\u7406 <a class="header-anchor" href="#golang-\u9519\u8BEF\u53CA\u9519\u8BEF\u5904\u7406" aria-hidden="true">#</a></h1><h2 id="\u9519\u8BEF\u6355\u83B7" tabindex="-1">\u9519\u8BEF\u6355\u83B7 <a class="header-anchor" href="#\u9519\u8BEF\u6355\u83B7" aria-hidden="true">#</a></h2><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">package</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">import</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">errors</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&quot;</span><span style="color:#A1B567;">fmt</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">f1</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">arg </span><span style="color:#CB7676;">int</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#CB7676;">int</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">error</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> arg </span><span style="color:#CB7676;">==</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">42</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">-</span><span style="color:#6394BF;">1</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> errors</span><span style="color:#858585;">.</span><span style="color:#E0A569;">New</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;can&#39;t work with 42&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> arg </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">3</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">type</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">argError</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">struct</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    arg  </span><span style="color:#CB7676;">int</span></span>
<span class="line"><span style="color:#DBD7CA;">    prob </span><span style="color:#CB7676;">string</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">e </span><span style="color:#CB7676;">*</span><span style="color:#DBD7CA;">argError</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">Error</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">string</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Sprintf</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;</span><span style="color:#D4976C;">%d</span><span style="color:#C98A7D;"> - </span><span style="color:#D4976C;">%s</span><span style="color:#C98A7D;">&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> e</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">arg</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> e</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">prob</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">f2</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">arg </span><span style="color:#CB7676;">int</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">(</span><span style="color:#CB7676;">int</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">error</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> arg </span><span style="color:#CB7676;">==</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">42</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">-</span><span style="color:#6394BF;">1</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&amp;</span><span style="color:#DBD7CA;">argError</span><span style="color:#858585;">{</span><span style="color:#DBD7CA;">arg</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;can&#39;t work with it&quot;</span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">return</span><span style="color:#DBD7CA;"> arg </span><span style="color:#CB7676;">+</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">3</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">for</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">_</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">i</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">range</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[]</span><span style="color:#CB7676;">int</span><span style="color:#858585;">{</span><span style="color:#6394BF;">7</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">42</span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">r</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">e</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">f1</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">i</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> e </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">            fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;f1 failed:&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> e</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">            fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;f1 worked:&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> r</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">for</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">_</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">i</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">range</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[]</span><span style="color:#CB7676;">int</span><span style="color:#858585;">{</span><span style="color:#6394BF;">7</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">42</span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">r</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">e</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">f2</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">i</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> e </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">            fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;f2 failed:&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> e</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">else</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">            fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;f2 worked:&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> r</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#B8A965;">_</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">e</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">f2</span><span style="color:#858585;">(</span><span style="color:#6394BF;">42</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">ae</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">ok</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> e</span><span style="color:#858585;">.(</span><span style="color:#CB7676;">*</span><span style="color:#DBD7CA;">argError</span><span style="color:#858585;">);</span><span style="color:#DBD7CA;"> ok </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">ae</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">arg</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">        fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">ae</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">prob</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">package</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">import</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">errors</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&quot;</span><span style="color:#6C7834;">fmt</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">f1</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">arg </span><span style="color:#AB5959;">int</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">int</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">error</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> arg </span><span style="color:#AB5959;">==</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">42</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> errors</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">New</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;can&#39;t work with 42&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> arg </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">3</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">type</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">argError</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">struct</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    arg  </span><span style="color:#AB5959;">int</span></span>
<span class="line"><span style="color:#393A34;">    prob </span><span style="color:#AB5959;">string</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">e </span><span style="color:#AB5959;">*</span><span style="color:#393A34;">argError</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">Error</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">string</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Sprintf</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;</span><span style="color:#A65E2B;">%d</span><span style="color:#B56959;"> - </span><span style="color:#A65E2B;">%s</span><span style="color:#B56959;">&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> e</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">arg</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> e</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">prob</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">f2</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">arg </span><span style="color:#AB5959;">int</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">(</span><span style="color:#AB5959;">int</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">error</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> arg </span><span style="color:#AB5959;">==</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">42</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-</span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&amp;</span><span style="color:#393A34;">argError</span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;">arg</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;can&#39;t work with it&quot;</span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">return</span><span style="color:#393A34;"> arg </span><span style="color:#AB5959;">+</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">3</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">_</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">range</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[]</span><span style="color:#AB5959;">int</span><span style="color:#8E8F8B;">{</span><span style="color:#296AA3;">7</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">42</span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">r</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">e</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> </span><span style="color:#B58451;">f1</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">i</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> e </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;f1 failed:&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> e</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">else</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;f1 worked:&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> r</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">_</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">i</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">range</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[]</span><span style="color:#AB5959;">int</span><span style="color:#8E8F8B;">{</span><span style="color:#296AA3;">7</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">42</span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">r</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">e</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> </span><span style="color:#B58451;">f2</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">i</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> e </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;f2 failed:&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> e</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">else</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">            fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;f2 worked:&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> r</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8C862B;">_</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">e</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> </span><span style="color:#B58451;">f2</span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">42</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">ae</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">ok</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> e</span><span style="color:#8E8F8B;">.(</span><span style="color:#AB5959;">*</span><span style="color:#393A34;">argError</span><span style="color:#8E8F8B;">);</span><span style="color:#393A34;"> ok </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">ae</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">arg</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">        fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">ae</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">prob</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><p>\u8FD0\u884C\uFF1A</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">$ go run errors.go</span></span>
<span class="line"><span style="color:#DBD7CA;">f1 worked: 10</span></span>
<span class="line"><span style="color:#DBD7CA;">f1 failed: can</span><span style="color:#C98A7D;">&#39;t work with 42</span></span>
<span class="line"><span style="color:#C98A7D;">f2 worked: 10</span></span>
<span class="line"><span style="color:#C98A7D;">f2 failed: 42 - can&#39;</span><span style="color:#DBD7CA;">t work with it</span></span>
<span class="line"><span style="color:#DBD7CA;">42</span></span>
<span class="line"><span style="color:#DBD7CA;">can</span><span style="color:#C98A7D;">&#39;t work with it</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">$ go run errors.go</span></span>
<span class="line"><span style="color:#393A34;">f1 worked: 10</span></span>
<span class="line"><span style="color:#393A34;">f1 failed: can</span><span style="color:#B56959;">&#39;t work with 42</span></span>
<span class="line"><span style="color:#B56959;">f2 worked: 10</span></span>
<span class="line"><span style="color:#B56959;">f2 failed: 42 - can&#39;</span><span style="color:#393A34;">t work with it</span></span>
<span class="line"><span style="color:#393A34;">42</span></span>
<span class="line"><span style="color:#393A34;">can</span><span style="color:#B56959;">&#39;t work with it</span></span>
<span class="line"></span></code></pre></div><h2 id="\u9519\u8BEF\u5904\u7406" tabindex="-1">\u9519\u8BEF\u5904\u7406 <a class="header-anchor" href="#\u9519\u8BEF\u5904\u7406" aria-hidden="true">#</a></h2><p>\u521B\u5EFA<code>error</code>\uFF1A</p><div class="language-go"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">func</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">main</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#4D9375;">defer</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">func</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">		</span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#B8A965;">err</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">:=</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">recover</span><span style="color:#858585;">();</span><span style="color:#DBD7CA;"> err </span><span style="color:#CB7676;">!=</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">nil</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">			fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">err</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">		</span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#858585;">}()</span></span>
<span class="line"><span style="color:#DBD7CA;">	fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;main() started&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#E0A569;">panic</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;error here.&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">	fmt</span><span style="color:#858585;">.</span><span style="color:#E0A569;">Println</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;END main()&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">func</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">main</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#1C6B48;">defer</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">func</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#8C862B;">err</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">:=</span><span style="color:#393A34;"> </span><span style="color:#B58451;">recover</span><span style="color:#8E8F8B;">();</span><span style="color:#393A34;"> err </span><span style="color:#AB5959;">!=</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">nil</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">			fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">err</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#8E8F8B;">}()</span></span>
<span class="line"><span style="color:#393A34;">	fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;main() started&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#B58451;">panic</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;error here.&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">	fmt</span><span style="color:#8E8F8B;">.</span><span style="color:#B58451;">Println</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;END main()&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><h2 id="\u53C2\u8003\u94FE\u63A5" tabindex="-1">\u53C2\u8003\u94FE\u63A5 <a class="header-anchor" href="#\u53C2\u8003\u94FE\u63A5" aria-hidden="true">#</a></h2><ul><li>err handling go blog: <a href="https://go.dev/blog/error-handling-and-go" target="_blank" rel="noopener noreferrer">https://go.dev/blog/error-handling-and-go</a></li></ul>`,10),e=[o];function r(c,t,y,B,A,D){return n(),a("div",null,e)}var E=s(p,[["render",r]]);export{C as __pageData,E as default};
