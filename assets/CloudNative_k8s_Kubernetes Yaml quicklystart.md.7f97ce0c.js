import{_ as s,o as n,c as a,a as l}from"./app.1e6146c3.js";const C=JSON.parse('{"title":"Kubernetes YAML file quicklystart","description":"","frontmatter":{},"headers":[{"level":2,"title":"1.\u96C6\u7FA4\u7EA7\u522B\u8D44\u6E90","slug":"_1-\u96C6\u7FA4\u7EA7\u522B\u8D44\u6E90"},{"level":3,"title":"1.1.namespace\u8D44\u6E90\u6E05\u5355\u6587\u4EF6","slug":"_1-1-namespace\u8D44\u6E90\u6E05\u5355\u6587\u4EF6"},{"level":2,"title":"2.pod\u8D44\u6E90","slug":"_2-pod\u8D44\u6E90"},{"level":3,"title":"2.1.pod\u8D44\u6E90\u6E05\u5355\u6587\u4EF6-\u6DB5\u76D6\u5168\u90E8\u53C2\u6570","slug":"_2-1-pod\u8D44\u6E90\u6E05\u5355\u6587\u4EF6-\u6DB5\u76D6\u5168\u90E8\u53C2\u6570"},{"level":3,"title":"2.2.pod\u8D44\u6E90\u57FA\u672C\u914D\u7F6E\u6E05\u5355\u6587\u4EF6","slug":"_2-2-pod\u8D44\u6E90\u57FA\u672C\u914D\u7F6E\u6E05\u5355\u6587\u4EF6"},{"level":3,"title":"2.3.pod\u8D44\u6E90\u5065\u5EB7\u68C0\u67E5\u8D44\u6E90\u6E05\u5355\u6587\u4EF6","slug":"_2-3-pod\u8D44\u6E90\u5065\u5EB7\u68C0\u67E5\u8D44\u6E90\u6E05\u5355\u6587\u4EF6"},{"level":3,"title":"2.2.pod\u8D44\u6E90\u4E00\u7EA7\u53EF\u914D\u7F6E\u5C5E\u6027","slug":"_2-2-pod\u8D44\u6E90\u4E00\u7EA7\u53EF\u914D\u7F6E\u5C5E\u6027"},{"level":3,"title":"2.4.pod\u521D\u59CB\u5316\u5BB9\u5668\u914D\u7F6E\u53C2\u6570","slug":"_2-4-pod\u521D\u59CB\u5316\u5BB9\u5668\u914D\u7F6E\u53C2\u6570"},{"level":3,"title":"2.5.pod\u8D44\u6E90\u94A9\u5B50\u51FD\u6570\u914D\u7F6E\u53C2\u6570","slug":"_2-5-pod\u8D44\u6E90\u94A9\u5B50\u51FD\u6570\u914D\u7F6E\u53C2\u6570"},{"level":3,"title":"2.6.Pod\u8D44\u6E90node\u8C03\u5EA6\u7B56\u7565\u914D\u7F6E\u53C2\u6570","slug":"_2-6-pod\u8D44\u6E90node\u8C03\u5EA6\u7B56\u7565\u914D\u7F6E\u53C2\u6570"},{"level":3,"title":"2.7.Pode\u4EB2\u548C\u6027\u8C03\u5EA6\u914D\u7F6E\u53C2\u6570","slug":"_2-7-pode\u4EB2\u548C\u6027\u8C03\u5EA6\u914D\u7F6E\u53C2\u6570"},{"level":2,"title":"3.pod\u8D44\u6E90\u63A7\u5236\u5668\u8D44\u6E90","slug":"_3-pod\u8D44\u6E90\u63A7\u5236\u5668\u8D44\u6E90"},{"level":3,"title":"3.1.ReplicaSet\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6","slug":"_3-1-replicaset\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6"},{"level":3,"title":"3.2.Deployment\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6","slug":"_3-2-deployment\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6"},{"level":3,"title":"3.3.HPA\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6","slug":"_3-3-hpa\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6"},{"level":3,"title":"3.4.DaemonSet\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6","slug":"_3-4-daemonset\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6"},{"level":3,"title":"3.5.Job\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6","slug":"_3-5-job\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6"},{"level":3,"title":"3.6.CronJob\u8D44\u6E90\u6E05\u5355\u6587\u4EF6","slug":"_3-6-cronjob\u8D44\u6E90\u6E05\u5355\u6587\u4EF6"},{"level":3,"title":"3.7.StatefulSet\u8D44\u6E90\u6E05\u5355\u6587\u4EF6","slug":"_3-7-statefulset\u8D44\u6E90\u6E05\u5355\u6587\u4EF6"},{"level":2,"title":"4.\u670D\u52A1\u53D1\u73B0\u8D44\u6E90","slug":"_4-\u670D\u52A1\u53D1\u73B0\u8D44\u6E90"},{"level":3,"title":"4.1.service\u8D44\u6E90\u6E05\u5355\u6587\u4EF6","slug":"_4-1-service\u8D44\u6E90\u6E05\u5355\u6587\u4EF6"},{"level":3,"title":"4.2.ingress\u8D44\u6E90\u6E05\u5355\u6587\u4EF6","slug":"_4-2-ingress\u8D44\u6E90\u6E05\u5355\u6587\u4EF6"},{"level":2,"title":"5.\u6570\u636E\u5B58\u50A8\u8D44\u6E90","slug":"_5-\u6570\u636E\u5B58\u50A8\u8D44\u6E90"},{"level":3,"title":"5.1.EmptyDir\u8D44\u6E90\u6E05\u5355\u6587\u4EF6","slug":"_5-1-emptydir\u8D44\u6E90\u6E05\u5355\u6587\u4EF6"},{"level":3,"title":"5.2.HostPath\u8D44\u6E90\u6E05\u5355\u6587\u4EF6","slug":"_5-2-hostpath\u8D44\u6E90\u6E05\u5355\u6587\u4EF6"},{"level":3,"title":"5.3.NFS\u7C7B\u578B\u7684\u8D44\u6E90\u6E05\u5355\u6587\u4EF6","slug":"_5-3-nfs\u7C7B\u578B\u7684\u8D44\u6E90\u6E05\u5355\u6587\u4EF6"},{"level":3,"title":"5.4.PV\u8D44\u6E90\u6E05\u5355\u6587\u4EF6","slug":"_5-4-pv\u8D44\u6E90\u6E05\u5355\u6587\u4EF6"},{"level":3,"title":"5.5.PVC\u8D44\u6E90\u6E05\u5355\u6587\u4EF6","slug":"_5-5-pvc\u8D44\u6E90\u6E05\u5355\u6587\u4EF6"},{"level":2,"title":"6.\u914D\u7F6E\u8D44\u6E90","slug":"_6-\u914D\u7F6E\u8D44\u6E90"},{"level":3,"title":"6.1.configmap\u8D44\u6E90\u6E05\u5355\u6587\u4EF6","slug":"_6-1-configmap\u8D44\u6E90\u6E05\u5355\u6587\u4EF6"},{"level":3,"title":"6.2.secret\u8D44\u6E90\u6E05\u5355\u6587\u4EF6","slug":"_6-2-secret\u8D44\u6E90\u6E05\u5355\u6587\u4EF6"},{"level":2,"title":"7.RBAC\u8BBF\u95EE\u6388\u6743\u8D44\u6E90","slug":"_7-rbac\u8BBF\u95EE\u6388\u6743\u8D44\u6E90"},{"level":3,"title":"7.1.Role\u8D44\u6E90\u6E05\u5355\u6587\u4EF6","slug":"_7-1-role\u8D44\u6E90\u6E05\u5355\u6587\u4EF6"},{"level":3,"title":"7.2.ClusterRole\u8D44\u6E90\u6E05\u5355\u6587\u4EF6","slug":"_7-2-clusterrole\u8D44\u6E90\u6E05\u5355\u6587\u4EF6"},{"level":3,"title":"7.3.RoleBinding\u8D44\u6E90\u6E05\u5355\u6587\u4EF6","slug":"_7-3-rolebinding\u8D44\u6E90\u6E05\u5355\u6587\u4EF6"},{"level":3,"title":"7.4.CLusterRoleBinding\u8D44\u6E90\u6E05\u5355\u6587\u4EF6","slug":"_7-4-clusterrolebinding\u8D44\u6E90\u6E05\u5355\u6587\u4EF6"},{"level":2,"title":"8. LimitRange/ResourceQuota\u8D44\u6E90\u9650\u5236","slug":"_8-limitrange-resourcequota\u8D44\u6E90\u9650\u5236"},{"level":3,"title":"8.1 LimitRange\u8D44\u6E90\u6E05\u5355\u6587\u4EF6","slug":"_8-1-limitrange\u8D44\u6E90\u6E05\u5355\u6587\u4EF6"},{"level":3,"title":"8.2 ResourceQuota\u8D44\u6E90\u6E05\u5355\u6587\u4EF6","slug":"_8-2-resourcequota\u8D44\u6E90\u6E05\u5355\u6587\u4EF6"},{"level":2,"title":"9. \u7EFC\u5408\u793A\u4F8B","slug":"_9-\u7EFC\u5408\u793A\u4F8B"}],"relativePath":"CloudNative/k8s/Kubernetes Yaml quicklystart.md","lastUpdated":1657272051000}'),p={name:"CloudNative/k8s/Kubernetes Yaml quicklystart.md"},o=l(`<h1 id="kubernetes-yaml-file-quicklystart" tabindex="-1">Kubernetes YAML file quicklystart <a class="header-anchor" href="#kubernetes-yaml-file-quicklystart" aria-hidden="true">#</a></h1><nav class="table-of-contents"><ul><li><a href="#_1-\u96C6\u7FA4\u7EA7\u522B\u8D44\u6E90">1.\u96C6\u7FA4\u7EA7\u522B\u8D44\u6E90</a><ul><li><a href="#_1-1-namespace\u8D44\u6E90\u6E05\u5355\u6587\u4EF6">1.1.namespace\u8D44\u6E90\u6E05\u5355\u6587\u4EF6</a></li></ul></li><li><a href="#_2-pod\u8D44\u6E90">2.pod\u8D44\u6E90</a><ul><li><a href="#_2-1-pod\u8D44\u6E90\u6E05\u5355\u6587\u4EF6-\u6DB5\u76D6\u5168\u90E8\u53C2\u6570">2.1.pod\u8D44\u6E90\u6E05\u5355\u6587\u4EF6-\u6DB5\u76D6\u5168\u90E8\u53C2\u6570</a></li><li><a href="#_2-2-pod\u8D44\u6E90\u57FA\u672C\u914D\u7F6E\u6E05\u5355\u6587\u4EF6">2.2.pod\u8D44\u6E90\u57FA\u672C\u914D\u7F6E\u6E05\u5355\u6587\u4EF6</a></li><li><a href="#_2-3-pod\u8D44\u6E90\u5065\u5EB7\u68C0\u67E5\u8D44\u6E90\u6E05\u5355\u6587\u4EF6">2.3.pod\u8D44\u6E90\u5065\u5EB7\u68C0\u67E5\u8D44\u6E90\u6E05\u5355\u6587\u4EF6</a></li><li><a href="#_2-2-pod\u8D44\u6E90\u4E00\u7EA7\u53EF\u914D\u7F6E\u5C5E\u6027">2.2.pod\u8D44\u6E90\u4E00\u7EA7\u53EF\u914D\u7F6E\u5C5E\u6027</a></li><li><a href="#_2-4-pod\u521D\u59CB\u5316\u5BB9\u5668\u914D\u7F6E\u53C2\u6570">2.4.pod\u521D\u59CB\u5316\u5BB9\u5668\u914D\u7F6E\u53C2\u6570</a></li><li><a href="#_2-5-pod\u8D44\u6E90\u94A9\u5B50\u51FD\u6570\u914D\u7F6E\u53C2\u6570">2.5.pod\u8D44\u6E90\u94A9\u5B50\u51FD\u6570\u914D\u7F6E\u53C2\u6570</a></li><li><a href="#_2-6-pod\u8D44\u6E90node\u8C03\u5EA6\u7B56\u7565\u914D\u7F6E\u53C2\u6570">2.6.Pod\u8D44\u6E90node\u8C03\u5EA6\u7B56\u7565\u914D\u7F6E\u53C2\u6570</a></li><li><a href="#_2-7-pode\u4EB2\u548C\u6027\u8C03\u5EA6\u914D\u7F6E\u53C2\u6570">2.7.Pode\u4EB2\u548C\u6027\u8C03\u5EA6\u914D\u7F6E\u53C2\u6570</a></li></ul></li><li><a href="#_3-pod\u8D44\u6E90\u63A7\u5236\u5668\u8D44\u6E90">3.pod\u8D44\u6E90\u63A7\u5236\u5668\u8D44\u6E90</a><ul><li><a href="#_3-1-replicaset\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6">3.1.ReplicaSet\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6</a></li><li><a href="#_3-2-deployment\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6">3.2.Deployment\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6</a></li><li><a href="#_3-3-hpa\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6">3.3.HPA\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6</a></li><li><a href="#_3-4-daemonset\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6">3.4.DaemonSet\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6</a></li><li><a href="#_3-5-job\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6">3.5.Job\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6</a></li><li><a href="#_3-6-cronjob\u8D44\u6E90\u6E05\u5355\u6587\u4EF6">3.6.CronJob\u8D44\u6E90\u6E05\u5355\u6587\u4EF6</a></li><li><a href="#_3-7-statefulset\u8D44\u6E90\u6E05\u5355\u6587\u4EF6">3.7.StatefulSet\u8D44\u6E90\u6E05\u5355\u6587\u4EF6</a></li></ul></li><li><a href="#_4-\u670D\u52A1\u53D1\u73B0\u8D44\u6E90">4.\u670D\u52A1\u53D1\u73B0\u8D44\u6E90</a><ul><li><a href="#_4-1-service\u8D44\u6E90\u6E05\u5355\u6587\u4EF6">4.1.service\u8D44\u6E90\u6E05\u5355\u6587\u4EF6</a></li><li><a href="#_4-2-ingress\u8D44\u6E90\u6E05\u5355\u6587\u4EF6">4.2.ingress\u8D44\u6E90\u6E05\u5355\u6587\u4EF6</a></li></ul></li><li><a href="#_5-\u6570\u636E\u5B58\u50A8\u8D44\u6E90">5.\u6570\u636E\u5B58\u50A8\u8D44\u6E90</a><ul><li><a href="#_5-1-emptydir\u8D44\u6E90\u6E05\u5355\u6587\u4EF6">5.1.EmptyDir\u8D44\u6E90\u6E05\u5355\u6587\u4EF6</a></li><li><a href="#_5-2-hostpath\u8D44\u6E90\u6E05\u5355\u6587\u4EF6">5.2.HostPath\u8D44\u6E90\u6E05\u5355\u6587\u4EF6</a></li><li><a href="#_5-3-nfs\u7C7B\u578B\u7684\u8D44\u6E90\u6E05\u5355\u6587\u4EF6">5.3.NFS\u7C7B\u578B\u7684\u8D44\u6E90\u6E05\u5355\u6587\u4EF6</a></li><li><a href="#_5-4-pv\u8D44\u6E90\u6E05\u5355\u6587\u4EF6">5.4.PV\u8D44\u6E90\u6E05\u5355\u6587\u4EF6</a></li><li><a href="#_5-5-pvc\u8D44\u6E90\u6E05\u5355\u6587\u4EF6">5.5.PVC\u8D44\u6E90\u6E05\u5355\u6587\u4EF6</a></li></ul></li><li><a href="#_6-\u914D\u7F6E\u8D44\u6E90">6.\u914D\u7F6E\u8D44\u6E90</a><ul><li><a href="#_6-1-configmap\u8D44\u6E90\u6E05\u5355\u6587\u4EF6">6.1.configmap\u8D44\u6E90\u6E05\u5355\u6587\u4EF6</a></li><li><a href="#_6-2-secret\u8D44\u6E90\u6E05\u5355\u6587\u4EF6">6.2.secret\u8D44\u6E90\u6E05\u5355\u6587\u4EF6</a></li></ul></li><li><a href="#_7-rbac\u8BBF\u95EE\u6388\u6743\u8D44\u6E90">7.RBAC\u8BBF\u95EE\u6388\u6743\u8D44\u6E90</a><ul><li><a href="#_7-1-role\u8D44\u6E90\u6E05\u5355\u6587\u4EF6">7.1.Role\u8D44\u6E90\u6E05\u5355\u6587\u4EF6</a></li><li><a href="#_7-2-clusterrole\u8D44\u6E90\u6E05\u5355\u6587\u4EF6">7.2.ClusterRole\u8D44\u6E90\u6E05\u5355\u6587\u4EF6</a></li><li><a href="#_7-3-rolebinding\u8D44\u6E90\u6E05\u5355\u6587\u4EF6">7.3.RoleBinding\u8D44\u6E90\u6E05\u5355\u6587\u4EF6</a></li><li><a href="#_7-4-clusterrolebinding\u8D44\u6E90\u6E05\u5355\u6587\u4EF6">7.4.CLusterRoleBinding\u8D44\u6E90\u6E05\u5355\u6587\u4EF6</a></li></ul></li><li><a href="#_8-limitrange-resourcequota\u8D44\u6E90\u9650\u5236">8. LimitRange/ResourceQuota\u8D44\u6E90\u9650\u5236</a><ul><li><a href="#_8-1-limitrange\u8D44\u6E90\u6E05\u5355\u6587\u4EF6">8.1 LimitRange\u8D44\u6E90\u6E05\u5355\u6587\u4EF6</a></li><li><a href="#_8-2-resourcequota\u8D44\u6E90\u6E05\u5355\u6587\u4EF6">8.2 ResourceQuota\u8D44\u6E90\u6E05\u5355\u6587\u4EF6</a></li></ul></li><li><a href="#_9-\u7EFC\u5408\u793A\u4F8B">9. \u7EFC\u5408\u793A\u4F8B</a></li></ul></nav><h2 id="_1-\u96C6\u7FA4\u7EA7\u522B\u8D44\u6E90" tabindex="-1">1.\u96C6\u7FA4\u7EA7\u522B\u8D44\u6E90 <a class="header-anchor" href="#_1-\u96C6\u7FA4\u7EA7\u522B\u8D44\u6E90" aria-hidden="true">#</a></h2><h3 id="_1-1-namespace\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" tabindex="-1">1.1.namespace\u8D44\u6E90\u6E05\u5355\u6587\u4EF6 <a class="header-anchor" href="#_1-1-namespace\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">v1</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># api\u7248\u672C</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">Namespace</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u8D44\u6E90\u7C7B\u578B</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">dev</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># namespace\u7684\u540D\u79F0</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">v1</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># api\u7248\u672C</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">Namespace</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u8D44\u6E90\u7C7B\u578B</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">dev</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># namespace\u7684\u540D\u79F0</span></span>
<span class="line"></span></code></pre></div><h2 id="_2-pod\u8D44\u6E90" tabindex="-1">2.pod\u8D44\u6E90 <a class="header-anchor" href="#_2-pod\u8D44\u6E90" aria-hidden="true">#</a></h2><h3 id="_2-1-pod\u8D44\u6E90\u6E05\u5355\u6587\u4EF6-\u6DB5\u76D6\u5168\u90E8\u53C2\u6570" tabindex="-1">2.1.pod\u8D44\u6E90\u6E05\u5355\u6587\u4EF6-\u6DB5\u76D6\u5168\u90E8\u53C2\u6570 <a class="header-anchor" href="#_2-1-pod\u8D44\u6E90\u6E05\u5355\u6587\u4EF6-\u6DB5\u76D6\u5168\u90E8\u53C2\u6570" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">v1</span><span style="color:#DBD7CA;">			 </span><span style="color:#758575;"># \u5FC5\u9009,\u7248\u672C\u53F7,\u4F8B\u5982v1</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">Pod</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u5FC5\u9009,\u8D44\u6E90\u7C7B\u578B,\u4F8B\u5982 Pod</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u5FC5\u9009,\u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span><span style="color:#DBD7CA;">			 </span><span style="color:#758575;"># \u5FC5\u9009,Pod\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">namespace</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span><span style="color:#DBD7CA;"> 		</span><span style="color:#758575;"># Pod\u6240\u5C5E\u7684\u547D\u540D\u7A7A\u95F4\uFF0C\u9ED8\u8BA4\u4E3A&quot; default&quot;labels:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">labels</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u81EA\u5B9A\u4E49\u6807\u7B7E\u5217\u8868</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">namd</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span></span>
<span class="line"><span style="color:#429988;">spec</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u5FC5\u9009,Pod\u4E2D\u5BB9\u5668\u7684\u8BE6\u7EC6\u5B9A\u4E49 </span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">containers</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 				</span><span style="color:#758575;"># \u5FC5\u9009,Pod\u4E2D\u5BB9\u5668\u5217\u8868</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span><span style="color:#DBD7CA;">			</span><span style="color:#758575;"># \u5FC5\u9009,\u5BB9\u5668\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">image</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span><span style="color:#DBD7CA;">			</span><span style="color:#758575;"># \u5FC5\u9009,\u5BB9\u5668\u7684\u955C\u50CF\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">imagePullPolicy</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">Always | Never |IfNotPresent</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">		</span><span style="color:#758575;"># \u83B7\u53D6\u955C\u50CF\u7684\u7B56\u7565</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#429988;">command</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#C98A7D;">string</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;"> 				</span><span style="color:#758575;"># \u5BB9\u5668\u7684\u542F\u52A8\u547D\u4EE4\u5217\u8868,\u5982\u4E0D\u6307\u5B9A\uFF0C\u4F7F\u7528\u6253\u5305\u65F6\u4F7F\u7528\u7684\u542F\u52A8\u547D\u4EE4</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">args</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#C98A7D;">string</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u5BB9\u5668\u7684\u542F\u52A8\u547D\u4EE4\u53C2\u6570\u5217\u8868</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">workingDir</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span><span style="color:#DBD7CA;">			     </span><span style="color:#758575;"># \u5BB9\u5668\u7684\u5DE5\u4F5C\u76EE\u5F55</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">volumeMounts</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u6302\u8F7D\u5230\u5BB9\u5668\u5185\u90E8\u7684\u5B58\u50A8\u5377\u914D\u7F6E</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u597D\u7528pod\u5B9A\u4E49\u7684\u5171\u4EAB\u5B58\u50A8\u5377\u7684\u540D\u79F0,\u9700\u7528volumes[ ]\u90E8\u5206\u5B9A\u4E49\u7684\u7684\u5377\u540D</span></span>
<span class="line"><span style="color:#DBD7CA;">	  </span><span style="color:#429988;">mountPath</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u5B58\u50A8\u5377\u5728\u5BB9\u5668\u5185mount\u7684\u7EDD\u5BF9\u8DEF\u5F84\uFF0C\u5E94\u5C11\u4E8E512\u5B57\u7B26</span></span>
<span class="line"><span style="color:#DBD7CA;">	  </span><span style="color:#429988;">readonly</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">boolean</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u662F\u5426\u4E3A\u53EA\u8BFB\u6A21\u5F0F</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">ports</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u9700\u8981\u66B4\u9732\u7684\u7AEF\u53E3\u5E93\u53F7\u5217\u8868</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u7AEF\u53E3\u7684\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">	  </span><span style="color:#429988;">containerPort</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">int</span><span style="color:#DBD7CA;">		 </span><span style="color:#758575;"># \u5BB9\u5668\u9700\u8981\u76D1\u542C\u7684\u7AEF\u53E3\u53F7</span></span>
<span class="line"><span style="color:#DBD7CA;">	  </span><span style="color:#429988;">hostPort</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">int</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u5BB9\u5668\u6240\u5728\u4E3B\u673A\u9700\u8981\u76D1\u542C\u7684\u7AEF\u53E3\u53F7,\u9ED8\u8BA4\u4E0EContainer\u76F8\u540C</span></span>
<span class="line"><span style="color:#DBD7CA;">	  </span><span style="color:#429988;">protocol</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u7AEF\u53E3\u534F\u8BAE,\u652F\u6301TCP\u548CUDP,\u9ED8\u8BA4TCP </span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#429988;">env</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u5BB9\u5668\u8FD0\u884C\u524D\u9700\u8BBE\u7F6E\u7684\u73AF\u5883\u53D8\u91CF\u5217\u8868</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span><span style="color:#DBD7CA;">				 </span><span style="color:#758575;"># \u73AF\u5883\u53D8\u91CF\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;"> 	  </span><span style="color:#429988;">value</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span><span style="color:#DBD7CA;">				 </span><span style="color:#758575;"># \u73AF\u5883\u53D8\u91CF\u7684\u503C</span></span>
<span class="line"><span style="color:#DBD7CA;"> 	</span><span style="color:#429988;">resources</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">					 </span><span style="color:#758575;"># \u8D44\u6E90\u9650\u5236\u548C\u8BF7\u6C42\u7684\u8BBE\u7F6E</span></span>
<span class="line"><span style="color:#DBD7CA;"> 	  </span><span style="color:#429988;">limits</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u8D44\u6E90\u9650\u5236\u7684\u8BBE\u7F6E</span></span>
<span class="line"><span style="color:#DBD7CA;">	  	</span><span style="color:#429988;">cpu</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># cpu\u7684\u9650\u5236,\u5355\u4F4D\u4E3Acore\u6570,\u5C06\u7528\u4E8Edocker run --cpu-shares\u53C2\u6570</span></span>
<span class="line"><span style="color:#DBD7CA;">		</span><span style="color:#429988;">memory</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u5185\u5B58\u9650\u5236\uFF0C\u5355\u4F4D\u53EF\u4EE5\u4E3AMib/Gib,\u5C06\u7528\u4E8Edocker run --memory\u53C2\u6570</span></span>
<span class="line"><span style="color:#DBD7CA;">	  </span><span style="color:#429988;">requests</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u8D44\u6E90\u8BF7\u6C42\u7684\u8BBE\u7F6E</span></span>
<span class="line"><span style="color:#DBD7CA;">	    </span><span style="color:#429988;">cpu</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># cpu\u8BF7\u6C42,\u5BB9\u5668\u542F\u52A8\u7684\u521D\u59CB\u53EF\u7528\u6570\u91CF</span></span>
<span class="line"><span style="color:#DBD7CA;">	    </span><span style="color:#429988;">memory</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span><span style="color:#DBD7CA;"> 				</span><span style="color:#758575;"># \u5185\u5B58\u8BF7\u6C42\uFF0C\u5BB9\u5668\u542F\u52A8\u7684\u521D\u59CB\u53EF\u7528\u6570\u91CF</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">lifecycle</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u751F\u547D\u5468\u671F\u94A9\u5B50</span></span>
<span class="line"><span style="color:#DBD7CA;">	  </span><span style="color:#429988;">postStart</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 					</span><span style="color:#758575;"># \u5BB9\u5668\u542F\u52A8\u540E\u7ACB\u5373\u6267\u884C\u6B64\u94A9\u5B50,\u5982\u679C\u6267\u884C\u5931\u8D25,\u4F1A\u6839\u636E\u91CD\u542F\u7B56\u7565\u8FDB\u884C\u91CD\u542F</span></span>
<span class="line"><span style="color:#DBD7CA;">	  </span><span style="color:#429988;">preStop</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 						</span><span style="color:#758575;"># \u6EB6\u5BB9\u5668\u7EC8\u6B62\u524D\u6267\u884C\u6B64\u94A9\u5B50,\u65E0\u8BBA\u7ED3\u679C\u5982\u4F55\uFF0C\u5BB9\u5668\u90FD\u4F1A\u7EC8\u6B62</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#429988;">livenessProbe</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 					</span><span style="color:#758575;"># \u5BF9Pod\u5185\u5404\u5BB9\u54ED\u5065\u5510\u68C0\u67E5\u7684\u8BBE\u7F72\uFF0C\u5F53\u63A2\u6D4B\u65E0\u54CD\u5E94\u51E0\u6B21\u540E\u5C06\u81EA\u52A8\u91CD\u542F\u8BE5\u5BB9\u5668</span></span>
<span class="line"><span style="color:#DBD7CA;">	  </span><span style="color:#429988;">exec</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># Pod\u5BB9\u5668\u5185\u68C0\u67E5\u65B9\u5F0F\u8BBE\u7F6E\u4E3Aexec\u65B9\u5F0F</span></span>
<span class="line"><span style="color:#DBD7CA;">	    </span><span style="color:#429988;">command</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#C98A7D;">string</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;"> 				</span><span style="color:#758575;"># exec\u65B9\u5F0F\u9700\u8981\u5236\u5B9A\u7684\u547D\u4EE4\u6216\u811A\u672C</span></span>
<span class="line"><span style="color:#DBD7CA;">	    </span><span style="color:#429988;">httpGet</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u5BF9Pod\u67D0\u4E2A\u5BB9\u5668\u5065\u5EB7\u68C0\u67E5\u65B9\u6CD5\u8BBE\u7F6E\u4E3AHttpGet\uFF0C\u9700\u8981\u5236\u5B9APath\u3001port</span></span>
<span class="line"><span style="color:#DBD7CA;">		  </span><span style="color:#429988;">path</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span></span>
<span class="line"><span style="color:#DBD7CA;">		  </span><span style="color:#429988;">port</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">number</span></span>
<span class="line"><span style="color:#DBD7CA;">		  </span><span style="color:#429988;">host</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span></span>
<span class="line"><span style="color:#DBD7CA;">		  </span><span style="color:#429988;">scheme</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span></span>
<span class="line"><span style="color:#DBD7CA;">		  </span><span style="color:#429988;">HttpHeaders</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">		  </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span></span>
<span class="line"><span style="color:#DBD7CA;">			</span><span style="color:#429988;">value</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span></span>
<span class="line"><span style="color:#DBD7CA;">		</span><span style="color:#429988;">tcpSocket</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 							</span><span style="color:#758575;"># \u5BF9Pod\u5185\u4E2A\u5BB9\u5668\u5065\u5EB7\u68C0\u67E5\u65B9\u5F0F\u8BBE\u7F6E\u4E3AtcpSocket\u65B9\u5F0F</span></span>
<span class="line"><span style="color:#DBD7CA;">		  </span><span style="color:#429988;">port</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">number</span></span>
<span class="line"><span style="color:#DBD7CA;">		</span><span style="color:#429988;">initialDelaySeconds</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u5BB9\u5668\u542F\u52A8\u5B8C\u6210\u540E\u9996\u6B21\u63A2\u6D4B\u7684\u65F6\u95F4,\u5355\u4F4D\u4E3A\u79D2</span></span>
<span class="line"><span style="color:#DBD7CA;">		</span><span style="color:#429988;">timeoutSeconds</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u5BF9\u5BB9\u5668\u5065\u5EB7\u68C0\u67E5\u63A2\u6D4B\u7B49\u5F85\u54CD\u5E94\u7684\u8D85\u65F6\u65F6\u95F4\uFF0C\u5355\u4F4D\u79D2,\u9ED8\u8BA41\u79D2</span></span>
<span class="line"><span style="color:#DBD7CA;">		</span><span style="color:#429988;">periodSeconds</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u5BF9\u5BB9\u5668\u76D1\u63A7\u68C0\u67E5\u7684\u5B9A\u671F\u63A2\u6D4B\u65F6\u95F4\u8BBE\u7F6E,\u5355\u4F4D\u79D2\uFF0C\u9ED1\u8BA418\u79D2\u4E00\u6B21</span></span>
<span class="line"><span style="color:#DBD7CA;">		</span><span style="color:#429988;">successThreshold</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span></span>
<span class="line"><span style="color:#DBD7CA;">		</span><span style="color:#429988;">failureThreshold</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span></span>
<span class="line"><span style="color:#DBD7CA;">		</span><span style="color:#429988;">securityContext</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">		  </span><span style="color:#429988;">privileged</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">false</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#429988;">restartPolicy</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#C98A7D;">Always  Never| OnFailure</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;"> 					</span><span style="color:#758575;"># Pod\u7684\u91CD\u542F\u7B56\u7565</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#429988;">nodeName</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&lt;string&gt;</span><span style="color:#DBD7CA;">									</span><span style="color:#758575;"># \u8BBE\u7F6ENodeName\u8868\u793A\u5C06\u8BE5Pod\u8C03\u5EA6\u5230\u6307\u5B9A\u5230\u540D\u79F0\u7684node\u8282\u70B9\u4E0A</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#429988;">nodeSelector</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">obeject</span><span style="color:#DBD7CA;"> 							</span><span style="color:#758575;"># \u8BBE\u7F6ENodeSelector\u8868\u793A\u5C06\u8BE5Pod\u8C03\u5EA6\u5230\u5305\u542B\u8FD9\u4E2Alabel\u7684node\u8282\u70B9\u4E0A</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#429988;">imagePullSecrets</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># Pull\u955C\u50CF\u65F6\u4F7F\u7528\u7684secret\u540D\u79F0\uFF0C\u4EE5key: secretkey\u683C\u5F0F\u6307\u5B9A</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#429988;">hostNetwork</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">false</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u662F\u5426\u4F7F\u7528\u4E3B\u673A\u7F51\u7EDC\u6A21\u5F0F\uFF0C\u9ED8\u8BA4\u4E3Afalse,\u5982\u679C\u8BBE\u7F6E\u4E3Atrue,\u8868\u793A\u4F7F\u7528\u5BBF\u4E3B\u673A\u7F51\u7EDC</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#429988;">volumes</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 								</span><span style="color:#758575;"># \u5728\u8BE5pod\u4E0A\u5B9A\u4E49\u5171\u4EAB\u5B58\u50A8\u5377\u5217\u8868</span></span>
<span class="line"><span style="color:#DBD7CA;">	 </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u5171\u4EAB\u5B58\u50A8\u5377\u540D\u79F0\uFF08volumes\u7C7B\u578B\u6709\u5F88\u591A\u79CD)</span></span>
<span class="line"><span style="color:#DBD7CA;">	 </span><span style="color:#429988;">emptyDir</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{}</span><span style="color:#DBD7CA;">									</span><span style="color:#758575;"># \u7C7B\u578B\u4E3AemtyDir\u7684\u5B58\u50A8\u5377,\u4E0EPod\u540C\u751F\u547D\u5468\u671F\u7684\u4E00\u4E2A\u4E34\u65F6\u76EE\u5F55,\u4E3A\u7A7A\u503C</span></span>
<span class="line"><span style="color:#DBD7CA;">	 </span><span style="color:#429988;">hostPath</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u7C7B\u578B\u4E3AhostPath\u7684\u5B58\u50A8\u5377,\u8868\u793A\u6302\u8F7DPod\u6240\u5728\u5BBF\u4E3B\u673A\u7684\u76EE\u5F55</span></span>
<span class="line"><span style="color:#DBD7CA;">	   </span><span style="color:#429988;">path</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># Pod\u6240\u5728\u5BBF\u4E3B\u673A\u7684\u76EE\u5F55,\u5C06\u88AB\u7528\u4E8E\u540C\u671F\u4E2Dmount\u7684\u76EE\u5F55</span></span>
<span class="line"><span style="color:#DBD7CA;">	 </span><span style="color:#429988;">secret</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u7C7B\u578B\u4E3Asecret\u7684\u5B58\u50A8\u5377,\u6302\u8F7D\u96C6\u7FA4\u4E0E\u5B9A\u4E49\u7684secret\u5BF9\u8C61\u5230\u5BB9\u5668\u5185\u90E8</span></span>
<span class="line"><span style="color:#DBD7CA;">	   </span><span style="color:#429988;">scretname</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span></span>
<span class="line"><span style="color:#DBD7CA;">	   </span><span style="color:#429988;">items</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">	   </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">key</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span></span>
<span class="line"><span style="color:#DBD7CA;">	     </span><span style="color:#429988;">path</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span></span>
<span class="line"><span style="color:#DBD7CA;">	   </span><span style="color:#429988;">configMap</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u7C7B\u578B\u4E3AconfigMap\u7684\u5B58\u50A8\u5377\uFF0C\u6302\u8F7D\u9884\u5B9A\u4E49\u7684configMap\u5BF9\u8C61\u5230\u5BB9\u5668\u5185\u90E8</span></span>
<span class="line"><span style="color:#DBD7CA;">	     </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span></span>
<span class="line"><span style="color:#DBD7CA;">	     </span><span style="color:#429988;">items</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">	     </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">key</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span></span>
<span class="line"><span style="color:#DBD7CA;">	       </span><span style="color:#429988;">path</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">string</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">v1</span><span style="color:#393A34;">			 </span><span style="color:#A0ADA0;"># \u5FC5\u9009,\u7248\u672C\u53F7,\u4F8B\u5982v1</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">Pod</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u5FC5\u9009,\u8D44\u6E90\u7C7B\u578B,\u4F8B\u5982 Pod</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u5FC5\u9009,\u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span><span style="color:#393A34;">			 </span><span style="color:#A0ADA0;"># \u5FC5\u9009,Pod\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">namespace</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span><span style="color:#393A34;"> 		</span><span style="color:#A0ADA0;"># Pod\u6240\u5C5E\u7684\u547D\u540D\u7A7A\u95F4\uFF0C\u9ED8\u8BA4\u4E3A&quot; default&quot;labels:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">labels</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u81EA\u5B9A\u4E49\u6807\u7B7E\u5217\u8868</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">namd</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span></span>
<span class="line"><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u5FC5\u9009,Pod\u4E2D\u5BB9\u5668\u7684\u8BE6\u7EC6\u5B9A\u4E49 </span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">containers</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 				</span><span style="color:#A0ADA0;"># \u5FC5\u9009,Pod\u4E2D\u5BB9\u5668\u5217\u8868</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span><span style="color:#393A34;">			</span><span style="color:#A0ADA0;"># \u5FC5\u9009,\u5BB9\u5668\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">image</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span><span style="color:#393A34;">			</span><span style="color:#A0ADA0;"># \u5FC5\u9009,\u5BB9\u5668\u7684\u955C\u50CF\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">imagePullPolicy</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#393A34;"> </span><span style="color:#B56959;">Always | Never |IfNotPresent</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">		</span><span style="color:#A0ADA0;"># \u83B7\u53D6\u955C\u50CF\u7684\u7B56\u7565</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#2F8A89;">command</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">string</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;"> 				</span><span style="color:#A0ADA0;"># \u5BB9\u5668\u7684\u542F\u52A8\u547D\u4EE4\u5217\u8868,\u5982\u4E0D\u6307\u5B9A\uFF0C\u4F7F\u7528\u6253\u5305\u65F6\u4F7F\u7528\u7684\u542F\u52A8\u547D\u4EE4</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">args</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">string</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u5BB9\u5668\u7684\u542F\u52A8\u547D\u4EE4\u53C2\u6570\u5217\u8868</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">workingDir</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span><span style="color:#393A34;">			     </span><span style="color:#A0ADA0;"># \u5BB9\u5668\u7684\u5DE5\u4F5C\u76EE\u5F55</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">volumeMounts</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u6302\u8F7D\u5230\u5BB9\u5668\u5185\u90E8\u7684\u5B58\u50A8\u5377\u914D\u7F6E</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u597D\u7528pod\u5B9A\u4E49\u7684\u5171\u4EAB\u5B58\u50A8\u5377\u7684\u540D\u79F0,\u9700\u7528volumes[ ]\u90E8\u5206\u5B9A\u4E49\u7684\u7684\u5377\u540D</span></span>
<span class="line"><span style="color:#393A34;">	  </span><span style="color:#2F8A89;">mountPath</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u5B58\u50A8\u5377\u5728\u5BB9\u5668\u5185mount\u7684\u7EDD\u5BF9\u8DEF\u5F84\uFF0C\u5E94\u5C11\u4E8E512\u5B57\u7B26</span></span>
<span class="line"><span style="color:#393A34;">	  </span><span style="color:#2F8A89;">readonly</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">boolean</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u662F\u5426\u4E3A\u53EA\u8BFB\u6A21\u5F0F</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">ports</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u9700\u8981\u66B4\u9732\u7684\u7AEF\u53E3\u5E93\u53F7\u5217\u8868</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u7AEF\u53E3\u7684\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">	  </span><span style="color:#2F8A89;">containerPort</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">int</span><span style="color:#393A34;">		 </span><span style="color:#A0ADA0;"># \u5BB9\u5668\u9700\u8981\u76D1\u542C\u7684\u7AEF\u53E3\u53F7</span></span>
<span class="line"><span style="color:#393A34;">	  </span><span style="color:#2F8A89;">hostPort</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">int</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u5BB9\u5668\u6240\u5728\u4E3B\u673A\u9700\u8981\u76D1\u542C\u7684\u7AEF\u53E3\u53F7,\u9ED8\u8BA4\u4E0EContainer\u76F8\u540C</span></span>
<span class="line"><span style="color:#393A34;">	  </span><span style="color:#2F8A89;">protocol</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u7AEF\u53E3\u534F\u8BAE,\u652F\u6301TCP\u548CUDP,\u9ED8\u8BA4TCP </span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#2F8A89;">env</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u5BB9\u5668\u8FD0\u884C\u524D\u9700\u8BBE\u7F6E\u7684\u73AF\u5883\u53D8\u91CF\u5217\u8868</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span><span style="color:#393A34;">				 </span><span style="color:#A0ADA0;"># \u73AF\u5883\u53D8\u91CF\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;"> 	  </span><span style="color:#2F8A89;">value</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span><span style="color:#393A34;">				 </span><span style="color:#A0ADA0;"># \u73AF\u5883\u53D8\u91CF\u7684\u503C</span></span>
<span class="line"><span style="color:#393A34;"> 	</span><span style="color:#2F8A89;">resources</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">					 </span><span style="color:#A0ADA0;"># \u8D44\u6E90\u9650\u5236\u548C\u8BF7\u6C42\u7684\u8BBE\u7F6E</span></span>
<span class="line"><span style="color:#393A34;"> 	  </span><span style="color:#2F8A89;">limits</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u8D44\u6E90\u9650\u5236\u7684\u8BBE\u7F6E</span></span>
<span class="line"><span style="color:#393A34;">	  	</span><span style="color:#2F8A89;">cpu</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># cpu\u7684\u9650\u5236,\u5355\u4F4D\u4E3Acore\u6570,\u5C06\u7528\u4E8Edocker run --cpu-shares\u53C2\u6570</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#2F8A89;">memory</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u5185\u5B58\u9650\u5236\uFF0C\u5355\u4F4D\u53EF\u4EE5\u4E3AMib/Gib,\u5C06\u7528\u4E8Edocker run --memory\u53C2\u6570</span></span>
<span class="line"><span style="color:#393A34;">	  </span><span style="color:#2F8A89;">requests</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u8D44\u6E90\u8BF7\u6C42\u7684\u8BBE\u7F6E</span></span>
<span class="line"><span style="color:#393A34;">	    </span><span style="color:#2F8A89;">cpu</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># cpu\u8BF7\u6C42,\u5BB9\u5668\u542F\u52A8\u7684\u521D\u59CB\u53EF\u7528\u6570\u91CF</span></span>
<span class="line"><span style="color:#393A34;">	    </span><span style="color:#2F8A89;">memory</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span><span style="color:#393A34;"> 				</span><span style="color:#A0ADA0;"># \u5185\u5B58\u8BF7\u6C42\uFF0C\u5BB9\u5668\u542F\u52A8\u7684\u521D\u59CB\u53EF\u7528\u6570\u91CF</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">lifecycle</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u751F\u547D\u5468\u671F\u94A9\u5B50</span></span>
<span class="line"><span style="color:#393A34;">	  </span><span style="color:#2F8A89;">postStart</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 					</span><span style="color:#A0ADA0;"># \u5BB9\u5668\u542F\u52A8\u540E\u7ACB\u5373\u6267\u884C\u6B64\u94A9\u5B50,\u5982\u679C\u6267\u884C\u5931\u8D25,\u4F1A\u6839\u636E\u91CD\u542F\u7B56\u7565\u8FDB\u884C\u91CD\u542F</span></span>
<span class="line"><span style="color:#393A34;">	  </span><span style="color:#2F8A89;">preStop</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 						</span><span style="color:#A0ADA0;"># \u6EB6\u5BB9\u5668\u7EC8\u6B62\u524D\u6267\u884C\u6B64\u94A9\u5B50,\u65E0\u8BBA\u7ED3\u679C\u5982\u4F55\uFF0C\u5BB9\u5668\u90FD\u4F1A\u7EC8\u6B62</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#2F8A89;">livenessProbe</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 					</span><span style="color:#A0ADA0;"># \u5BF9Pod\u5185\u5404\u5BB9\u54ED\u5065\u5510\u68C0\u67E5\u7684\u8BBE\u7F72\uFF0C\u5F53\u63A2\u6D4B\u65E0\u54CD\u5E94\u51E0\u6B21\u540E\u5C06\u81EA\u52A8\u91CD\u542F\u8BE5\u5BB9\u5668</span></span>
<span class="line"><span style="color:#393A34;">	  </span><span style="color:#2F8A89;">exec</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># Pod\u5BB9\u5668\u5185\u68C0\u67E5\u65B9\u5F0F\u8BBE\u7F6E\u4E3Aexec\u65B9\u5F0F</span></span>
<span class="line"><span style="color:#393A34;">	    </span><span style="color:#2F8A89;">command</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">string</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;"> 				</span><span style="color:#A0ADA0;"># exec\u65B9\u5F0F\u9700\u8981\u5236\u5B9A\u7684\u547D\u4EE4\u6216\u811A\u672C</span></span>
<span class="line"><span style="color:#393A34;">	    </span><span style="color:#2F8A89;">httpGet</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u5BF9Pod\u67D0\u4E2A\u5BB9\u5668\u5065\u5EB7\u68C0\u67E5\u65B9\u6CD5\u8BBE\u7F6E\u4E3AHttpGet\uFF0C\u9700\u8981\u5236\u5B9APath\u3001port</span></span>
<span class="line"><span style="color:#393A34;">		  </span><span style="color:#2F8A89;">path</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span></span>
<span class="line"><span style="color:#393A34;">		  </span><span style="color:#2F8A89;">port</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">number</span></span>
<span class="line"><span style="color:#393A34;">		  </span><span style="color:#2F8A89;">host</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span></span>
<span class="line"><span style="color:#393A34;">		  </span><span style="color:#2F8A89;">scheme</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span></span>
<span class="line"><span style="color:#393A34;">		  </span><span style="color:#2F8A89;">HttpHeaders</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">		  </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#2F8A89;">value</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#2F8A89;">tcpSocket</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 							</span><span style="color:#A0ADA0;"># \u5BF9Pod\u5185\u4E2A\u5BB9\u5668\u5065\u5EB7\u68C0\u67E5\u65B9\u5F0F\u8BBE\u7F6E\u4E3AtcpSocket\u65B9\u5F0F</span></span>
<span class="line"><span style="color:#393A34;">		  </span><span style="color:#2F8A89;">port</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">number</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#2F8A89;">initialDelaySeconds</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u5BB9\u5668\u542F\u52A8\u5B8C\u6210\u540E\u9996\u6B21\u63A2\u6D4B\u7684\u65F6\u95F4,\u5355\u4F4D\u4E3A\u79D2</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#2F8A89;">timeoutSeconds</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u5BF9\u5BB9\u5668\u5065\u5EB7\u68C0\u67E5\u63A2\u6D4B\u7B49\u5F85\u54CD\u5E94\u7684\u8D85\u65F6\u65F6\u95F4\uFF0C\u5355\u4F4D\u79D2,\u9ED8\u8BA41\u79D2</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#2F8A89;">periodSeconds</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u5BF9\u5BB9\u5668\u76D1\u63A7\u68C0\u67E5\u7684\u5B9A\u671F\u63A2\u6D4B\u65F6\u95F4\u8BBE\u7F6E,\u5355\u4F4D\u79D2\uFF0C\u9ED1\u8BA418\u79D2\u4E00\u6B21</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#2F8A89;">successThreshold</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#2F8A89;">failureThreshold</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#2F8A89;">securityContext</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">		  </span><span style="color:#2F8A89;">privileged</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">false</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#2F8A89;">restartPolicy</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">Always  Never| OnFailure</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;"> 					</span><span style="color:#A0ADA0;"># Pod\u7684\u91CD\u542F\u7B56\u7565</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#2F8A89;">nodeName</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&lt;string&gt;</span><span style="color:#393A34;">									</span><span style="color:#A0ADA0;"># \u8BBE\u7F6ENodeName\u8868\u793A\u5C06\u8BE5Pod\u8C03\u5EA6\u5230\u6307\u5B9A\u5230\u540D\u79F0\u7684node\u8282\u70B9\u4E0A</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#2F8A89;">nodeSelector</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">obeject</span><span style="color:#393A34;"> 							</span><span style="color:#A0ADA0;"># \u8BBE\u7F6ENodeSelector\u8868\u793A\u5C06\u8BE5Pod\u8C03\u5EA6\u5230\u5305\u542B\u8FD9\u4E2Alabel\u7684node\u8282\u70B9\u4E0A</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#2F8A89;">imagePullSecrets</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># Pull\u955C\u50CF\u65F6\u4F7F\u7528\u7684secret\u540D\u79F0\uFF0C\u4EE5key: secretkey\u683C\u5F0F\u6307\u5B9A</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#2F8A89;">hostNetwork</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">false</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u662F\u5426\u4F7F\u7528\u4E3B\u673A\u7F51\u7EDC\u6A21\u5F0F\uFF0C\u9ED8\u8BA4\u4E3Afalse,\u5982\u679C\u8BBE\u7F6E\u4E3Atrue,\u8868\u793A\u4F7F\u7528\u5BBF\u4E3B\u673A\u7F51\u7EDC</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#2F8A89;">volumes</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 								</span><span style="color:#A0ADA0;"># \u5728\u8BE5pod\u4E0A\u5B9A\u4E49\u5171\u4EAB\u5B58\u50A8\u5377\u5217\u8868</span></span>
<span class="line"><span style="color:#393A34;">	 </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u5171\u4EAB\u5B58\u50A8\u5377\u540D\u79F0\uFF08volumes\u7C7B\u578B\u6709\u5F88\u591A\u79CD)</span></span>
<span class="line"><span style="color:#393A34;">	 </span><span style="color:#2F8A89;">emptyDir</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{}</span><span style="color:#393A34;">									</span><span style="color:#A0ADA0;"># \u7C7B\u578B\u4E3AemtyDir\u7684\u5B58\u50A8\u5377,\u4E0EPod\u540C\u751F\u547D\u5468\u671F\u7684\u4E00\u4E2A\u4E34\u65F6\u76EE\u5F55,\u4E3A\u7A7A\u503C</span></span>
<span class="line"><span style="color:#393A34;">	 </span><span style="color:#2F8A89;">hostPath</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u7C7B\u578B\u4E3AhostPath\u7684\u5B58\u50A8\u5377,\u8868\u793A\u6302\u8F7DPod\u6240\u5728\u5BBF\u4E3B\u673A\u7684\u76EE\u5F55</span></span>
<span class="line"><span style="color:#393A34;">	   </span><span style="color:#2F8A89;">path</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># Pod\u6240\u5728\u5BBF\u4E3B\u673A\u7684\u76EE\u5F55,\u5C06\u88AB\u7528\u4E8E\u540C\u671F\u4E2Dmount\u7684\u76EE\u5F55</span></span>
<span class="line"><span style="color:#393A34;">	 </span><span style="color:#2F8A89;">secret</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u7C7B\u578B\u4E3Asecret\u7684\u5B58\u50A8\u5377,\u6302\u8F7D\u96C6\u7FA4\u4E0E\u5B9A\u4E49\u7684secret\u5BF9\u8C61\u5230\u5BB9\u5668\u5185\u90E8</span></span>
<span class="line"><span style="color:#393A34;">	   </span><span style="color:#2F8A89;">scretname</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span></span>
<span class="line"><span style="color:#393A34;">	   </span><span style="color:#2F8A89;">items</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">	   </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">key</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span></span>
<span class="line"><span style="color:#393A34;">	     </span><span style="color:#2F8A89;">path</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span></span>
<span class="line"><span style="color:#393A34;">	   </span><span style="color:#2F8A89;">configMap</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u7C7B\u578B\u4E3AconfigMap\u7684\u5B58\u50A8\u5377\uFF0C\u6302\u8F7D\u9884\u5B9A\u4E49\u7684configMap\u5BF9\u8C61\u5230\u5BB9\u5668\u5185\u90E8</span></span>
<span class="line"><span style="color:#393A34;">	     </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span></span>
<span class="line"><span style="color:#393A34;">	     </span><span style="color:#2F8A89;">items</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">	     </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">key</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span></span>
<span class="line"><span style="color:#393A34;">	       </span><span style="color:#2F8A89;">path</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">string</span></span>
<span class="line"></span></code></pre></div><h3 id="_2-2-pod\u8D44\u6E90\u57FA\u672C\u914D\u7F6E\u6E05\u5355\u6587\u4EF6" tabindex="-1">2.2.pod\u8D44\u6E90\u57FA\u672C\u914D\u7F6E\u6E05\u5355\u6587\u4EF6 <a class="header-anchor" href="#_2-2-pod\u8D44\u6E90\u57FA\u672C\u914D\u7F6E\u6E05\u5355\u6587\u4EF6" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">v1</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># api\u7248\u672C</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">Pod</span><span style="color:#DBD7CA;">								</span><span style="color:#758575;"># \u8D44\u6E90\u7C7B\u578B\u4E3Apod</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">								</span><span style="color:#758575;"># \u5B9A\u4E49\u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">pod-resources</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># pod\u7684\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">namespace</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">dev</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># pod\u6240\u5728\u7684namespace</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">labels</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">								</span><span style="color:#758575;"># \u5B9A\u4E49\u6807\u7B7E</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">app</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">base</span></span>
<span class="line"><span style="color:#429988;">spec</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">containers</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">nginx-port</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u5BB9\u5668\u7684\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">image</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">nginx:1.11</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u955C\u50CF\u7248\u672C</span></span>
<span class="line"><span style="color:#DBD7CA;">  	</span><span style="color:#429988;">imagePullPolicy</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">IfNotPresent</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u955C\u50CF\u62C9\u53D6\u7B56\u7565</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">command</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#C98A7D;">&quot;/bin/sh&quot;</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u5BB9\u5668\u542F\u52A8\u540E\u8981\u6267\u884C\u7684\u547D\u4EE4\uFF0C\u547D\u4EE4\u6709\u5F88\u591A\u5B50\u547D\u4EE4\uFF0C\u4EE5\u9017\u53F7\u5206\u9694</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">args</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#C98A7D;">&quot;-c&quot;</span><span style="color:#858585;">,</span><span style="color:#C98A7D;">&quot;touch/hello.txt;while true;do /bin/echo $(date +%T)&gt;&gt;/tmp/hellow.txt;sleep 3;done;&quot;</span><span style="color:#858585;">]</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">env</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u5B9A\u4E49\u73AF\u5883\u53D8\u91CF</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;username&quot;</span><span style="color:#DBD7CA;">			</span><span style="color:#758575;"># \u5B9A\u4E49\u53D8\u91CF\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">value</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;jiangxl&quot;</span><span style="color:#DBD7CA;">			</span><span style="color:#758575;"># \u5B9A\u4E49\u53D8\u91CF\u503C</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;job&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">value</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;it&quot;</span><span style="color:#DBD7CA;">    </span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">ports</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">							   </span><span style="color:#758575;"># \u5B9A\u4E49\u7AEF\u53E3\uFF0C\u4E00\u4E2A- name\u8868\u793A\u4E00\u4E2A\u7AEF\u53E3\uFF0C\u53EF\u4EE5\u5199\u591A\u4E2A</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">	</span><span style="color:#C98A7D;">nginx-port</span><span style="color:#DBD7CA;">					# </span><span style="color:#C98A7D;">\u5B9A\u4E49\u7AEF\u53E3\u540D\u79F0</span><span style="color:#DBD7CA;">			</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">containerPort</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">80</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u5B9A\u4E49\u5F00\u653E\u7684\u7AEF\u53E3</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">protocol</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">TCP</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u6307\u5B9A\u7AEF\u53E3\u5C5E\u4E8E\u4EC0\u4E48\u534F\u8BAE    </span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">resources</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u5B9A\u4E49\u8D44\u6E90\u914D\u7F6E</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">limits</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u6700\u5927\u8D44\u6E90\u9650\u5236</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">cpu</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;2&quot;</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># cpu\u9650\u5236\u57282\u6838</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">memory</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;10Gi&quot;</span><span style="color:#DBD7CA;">					 </span><span style="color:#758575;"># \u5185\u5B58\u9650\u5236\u572810G</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">requests</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 					</span><span style="color:#758575;"># \u6700\u5C0F\u8D44\u6E90\u9650\u5236</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">cpu</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;1&quot;</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># cpu\u9650\u5236\u57281\u6838</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">memory</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;10Mi&quot;</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u5185\u5B58\u9650\u5236\u572810M</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">v1</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># api\u7248\u672C</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">Pod</span><span style="color:#393A34;">								</span><span style="color:#A0ADA0;"># \u8D44\u6E90\u7C7B\u578B\u4E3Apod</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">								</span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">pod-resources</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># pod\u7684\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">namespace</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">dev</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># pod\u6240\u5728\u7684namespace</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">labels</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">								</span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u6807\u7B7E</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">app</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">base</span></span>
<span class="line"><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">containers</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nginx-port</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u5BB9\u5668\u7684\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">image</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nginx:1.11</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u955C\u50CF\u7248\u672C</span></span>
<span class="line"><span style="color:#393A34;">  	</span><span style="color:#2F8A89;">imagePullPolicy</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">IfNotPresent</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u955C\u50CF\u62C9\u53D6\u7B56\u7565</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">command</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">&quot;/bin/sh&quot;</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u5BB9\u5668\u542F\u52A8\u540E\u8981\u6267\u884C\u7684\u547D\u4EE4\uFF0C\u547D\u4EE4\u6709\u5F88\u591A\u5B50\u547D\u4EE4\uFF0C\u4EE5\u9017\u53F7\u5206\u9694</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">args</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">&quot;-c&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#B56959;">&quot;touch/hello.txt;while true;do /bin/echo $(date +%T)&gt;&gt;/tmp/hellow.txt;sleep 3;done;&quot;</span><span style="color:#8E8F8B;">]</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">env</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u73AF\u5883\u53D8\u91CF</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;username&quot;</span><span style="color:#393A34;">			</span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u53D8\u91CF\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">value</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;jiangxl&quot;</span><span style="color:#393A34;">			</span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u53D8\u91CF\u503C</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;job&quot;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">value</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;it&quot;</span><span style="color:#393A34;">    </span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">ports</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">							   </span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u7AEF\u53E3\uFF0C\u4E00\u4E2A- name\u8868\u793A\u4E00\u4E2A\u7AEF\u53E3\uFF0C\u53EF\u4EE5\u5199\u591A\u4E2A</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">	</span><span style="color:#B56959;">nginx-port</span><span style="color:#393A34;">					# </span><span style="color:#B56959;">\u5B9A\u4E49\u7AEF\u53E3\u540D\u79F0</span><span style="color:#393A34;">			</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">containerPort</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">80</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u5F00\u653E\u7684\u7AEF\u53E3</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">protocol</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">TCP</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u6307\u5B9A\u7AEF\u53E3\u5C5E\u4E8E\u4EC0\u4E48\u534F\u8BAE    </span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">resources</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u8D44\u6E90\u914D\u7F6E</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">limits</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u6700\u5927\u8D44\u6E90\u9650\u5236</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">cpu</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;2&quot;</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># cpu\u9650\u5236\u57282\u6838</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">memory</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;10Gi&quot;</span><span style="color:#393A34;">					 </span><span style="color:#A0ADA0;"># \u5185\u5B58\u9650\u5236\u572810G</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">requests</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 					</span><span style="color:#A0ADA0;"># \u6700\u5C0F\u8D44\u6E90\u9650\u5236</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">cpu</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;1&quot;</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># cpu\u9650\u5236\u57281\u6838</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">memory</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;10Mi&quot;</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u5185\u5B58\u9650\u5236\u572810M</span></span>
<span class="line"></span></code></pre></div><h3 id="_2-3-pod\u8D44\u6E90\u5065\u5EB7\u68C0\u67E5\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" tabindex="-1">2.3.pod\u8D44\u6E90\u5065\u5EB7\u68C0\u67E5\u8D44\u6E90\u6E05\u5355\u6587\u4EF6 <a class="header-anchor" href="#_2-3-pod\u8D44\u6E90\u5065\u5EB7\u68C0\u67E5\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">v1</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">Pod</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">pod-livereadiness</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">namespace</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">dev</span></span>
<span class="line"><span style="color:#429988;">spec</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">containers</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">nginx</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">image</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">nginx:1.15</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">ports</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">nginx-port</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">containerPort</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">80</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">livenessProbe</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">							# </span><span style="color:#C98A7D;">\u5B58\u6D3B\u6027\u63A2\u6D4B</span><span style="color:#DBD7CA;">	</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">tcpSocket</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u4F7F\u7528TCPSocket\u63A2\u6D4B\u65B9\u5F0F</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">port</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">80</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u63A2\u6D4B\u7684\u7AEF\u53E3</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">initialDelaySeconds</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">30</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u5BB9\u5668\u542F\u52A8\u540E30s\u4EE5\u540E\u5F00\u59CB\u63A2\u6D4B</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">timeoutSeconds</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">5</span><span style="color:#DBD7CA;"> 					    </span><span style="color:#758575;"># \u63A2\u6D4B\u8D85\u65F6\u65F6\u95F4</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">readinessProbe</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">							# </span><span style="color:#C98A7D;">\u5C31\u7EEA\u6027\u63A2\u6D4B</span><span style="color:#DBD7CA;">		</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">httpGet</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">							   </span><span style="color:#758575;"># \u4F7F\u7528HTTPGet\u63A2\u6D4B\u65B9\u5F0F</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">scheme</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">HTTP</span><span style="color:#DBD7CA;">					   </span><span style="color:#758575;"># \u534F\u8BAE\u4F7F\u7528http</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">port</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">80</span><span style="color:#DBD7CA;">						  </span><span style="color:#758575;"># \u5E94\u7528\u7AEF\u53E3</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">path</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">/</span><span style="color:#DBD7CA;">	    					  </span><span style="color:#758575;"># url\u8DEF\u5F84</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">v1</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">Pod</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">pod-livereadiness</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">namespace</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">dev</span></span>
<span class="line"><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">containers</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nginx</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">image</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nginx:1.15</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">ports</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nginx-port</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">containerPort</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">80</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">livenessProbe</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">							# </span><span style="color:#B56959;">\u5B58\u6D3B\u6027\u63A2\u6D4B</span><span style="color:#393A34;">	</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">tcpSocket</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u4F7F\u7528TCPSocket\u63A2\u6D4B\u65B9\u5F0F</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">port</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">80</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u63A2\u6D4B\u7684\u7AEF\u53E3</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">initialDelaySeconds</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">30</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u5BB9\u5668\u542F\u52A8\u540E30s\u4EE5\u540E\u5F00\u59CB\u63A2\u6D4B</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">timeoutSeconds</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">5</span><span style="color:#393A34;"> 					    </span><span style="color:#A0ADA0;"># \u63A2\u6D4B\u8D85\u65F6\u65F6\u95F4</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">readinessProbe</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">							# </span><span style="color:#B56959;">\u5C31\u7EEA\u6027\u63A2\u6D4B</span><span style="color:#393A34;">		</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">httpGet</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">							   </span><span style="color:#A0ADA0;"># \u4F7F\u7528HTTPGet\u63A2\u6D4B\u65B9\u5F0F</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">scheme</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">HTTP</span><span style="color:#393A34;">					   </span><span style="color:#A0ADA0;"># \u534F\u8BAE\u4F7F\u7528http</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">port</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">80</span><span style="color:#393A34;">						  </span><span style="color:#A0ADA0;"># \u5E94\u7528\u7AEF\u53E3</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">path</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">/</span><span style="color:#393A34;">	    					  </span><span style="color:#A0ADA0;"># url\u8DEF\u5F84</span></span>
<span class="line"></span></code></pre></div><h3 id="_2-2-pod\u8D44\u6E90\u4E00\u7EA7\u53EF\u914D\u7F6E\u5C5E\u6027" tabindex="-1">2.2.pod\u8D44\u6E90\u4E00\u7EA7\u53EF\u914D\u7F6E\u5C5E\u6027 <a class="header-anchor" href="#_2-2-pod\u8D44\u6E90\u4E00\u7EA7\u53EF\u914D\u7F6E\u5C5E\u6027" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">[</span><span style="color:#C98A7D;">root@k8s-master ~</span><span style="color:#858585;">]</span><span style="color:#C98A7D;">\\# kubectl explain pod</span></span>
<span class="line"><span style="color:#429988;">KIND</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">     </span><span style="color:#C98A7D;">Pod</span></span>
<span class="line"><span style="color:#429988;">VERSION</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">  </span><span style="color:#C98A7D;">v1</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u7F16\u5199yaml\u6587\u4EF6\u65F6\u7B2C\u4E00\u884C\u7684\u7248\u672C\u53F7\u53EF\u4EE5\u4ECE\u8FD9\u91CC\u8FDB\u884C\u67E5\u627E</span></span>
<span class="line"><span style="color:#429988;">FIELDS</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">									</span><span style="color:#758575;"># \u53EF\u914D\u7F6E\u7684\u4E00\u7EA7\u5C5E\u6027\uFF0C\u57FA\u672C\u6240\u6709\u8D44\u6E90\u90FD\u662F\u5982\u4E0B\u4E94\u4E2A\uFF0C\u5982\u679C\u5F53\u524D\u7EA7\u522B\u914D\u7F6E\u53C2\u6570\u540E\u9762&lt;&gt;\u4E2D\u662Fstring\u5C31\u8868\u793A\u6CA1\u6709\u4E0B\u4E00\u7EA7\u914D\u7F6E\u53C2\u6570\uFF0C\u76F4\u63A5\u586B\u5199\u4E00\u4E2A\u5B57\u7B26\u4E32\u5373\u53EF\uFF0C\u5982\u679C&lt;&gt;\u4E3Aobject\u8BF4\u660E\u4ED6\u8FD8\u6709\u4E0B\u4E00\u7EA7\u914D\u7F6E\u53C2\u6570\uFF0C\u53EF\u4EE5\u901A\u8FC7\u8D44\u6E90\u7C7B\u578B.\u5C5E\u6027\u7684\u65B9\u5F0F\u67E5\u627E</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#C98A7D;">apiVersion	&lt;string&gt;</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u5F53\u524D\u8D44\u6E90\u652F\u6301\u7684\u7248\u672C</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#C98A7D;">kind	&lt;string&gt;</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u63A7\u5236\u5668\u7C7B\u578B</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#C98A7D;">metadata	&lt;Object&gt;</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#C98A7D;">spec	&lt;Object&gt;</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u8BBE\u7F6E\u5C5E\u6027</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#C98A7D;">status	&lt;Object&gt;</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u8BB0\u5F55pod\u7684\u72B6\u6001\uFF0C\u5305\u62ECip\u5730\u5740\u3001\u521B\u5EFA\u65F6\u95F4\u7B49\u7B49\uFF0C\u662F\u81EA\u52A8\u589E\u52A0\u7684\uFF0C\u4E0D\u662F\u624B\u52A8\u5199\u5165\u7684</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">root@k8s-master ~</span><span style="color:#8E8F8B;">]</span><span style="color:#B56959;">\\# kubectl explain pod</span></span>
<span class="line"><span style="color:#2F8A89;">KIND</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">     </span><span style="color:#B56959;">Pod</span></span>
<span class="line"><span style="color:#2F8A89;">VERSION</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">  </span><span style="color:#B56959;">v1</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u7F16\u5199yaml\u6587\u4EF6\u65F6\u7B2C\u4E00\u884C\u7684\u7248\u672C\u53F7\u53EF\u4EE5\u4ECE\u8FD9\u91CC\u8FDB\u884C\u67E5\u627E</span></span>
<span class="line"><span style="color:#2F8A89;">FIELDS</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">									</span><span style="color:#A0ADA0;"># \u53EF\u914D\u7F6E\u7684\u4E00\u7EA7\u5C5E\u6027\uFF0C\u57FA\u672C\u6240\u6709\u8D44\u6E90\u90FD\u662F\u5982\u4E0B\u4E94\u4E2A\uFF0C\u5982\u679C\u5F53\u524D\u7EA7\u522B\u914D\u7F6E\u53C2\u6570\u540E\u9762&lt;&gt;\u4E2D\u662Fstring\u5C31\u8868\u793A\u6CA1\u6709\u4E0B\u4E00\u7EA7\u914D\u7F6E\u53C2\u6570\uFF0C\u76F4\u63A5\u586B\u5199\u4E00\u4E2A\u5B57\u7B26\u4E32\u5373\u53EF\uFF0C\u5982\u679C&lt;&gt;\u4E3Aobject\u8BF4\u660E\u4ED6\u8FD8\u6709\u4E0B\u4E00\u7EA7\u914D\u7F6E\u53C2\u6570\uFF0C\u53EF\u4EE5\u901A\u8FC7\u8D44\u6E90\u7C7B\u578B.\u5C5E\u6027\u7684\u65B9\u5F0F\u67E5\u627E</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B56959;">apiVersion	&lt;string&gt;</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u5F53\u524D\u8D44\u6E90\u652F\u6301\u7684\u7248\u672C</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B56959;">kind	&lt;string&gt;</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u63A7\u5236\u5668\u7C7B\u578B</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B56959;">metadata	&lt;Object&gt;</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B56959;">spec	&lt;Object&gt;</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u8BBE\u7F6E\u5C5E\u6027</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B56959;">status	&lt;Object&gt;</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u8BB0\u5F55pod\u7684\u72B6\u6001\uFF0C\u5305\u62ECip\u5730\u5740\u3001\u521B\u5EFA\u65F6\u95F4\u7B49\u7B49\uFF0C\u662F\u81EA\u52A8\u589E\u52A0\u7684\uFF0C\u4E0D\u662F\u624B\u52A8\u5199\u5165\u7684</span></span>
<span class="line"></span></code></pre></div><h3 id="_2-4-pod\u521D\u59CB\u5316\u5BB9\u5668\u914D\u7F6E\u53C2\u6570" tabindex="-1">2.4.pod\u521D\u59CB\u5316\u5BB9\u5668\u914D\u7F6E\u53C2\u6570 <a class="header-anchor" href="#_2-4-pod\u521D\u59CB\u5316\u5BB9\u5668\u914D\u7F6E\u53C2\u6570" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">[</span><span style="color:#C98A7D;">root@k8s-master ~/k8s_1.19_yaml</span><span style="color:#858585;">]</span><span style="color:#C98A7D;">\\# kubectl explain pod.spec.initContainers</span></span>
<span class="line"><span style="color:#429988;">KIND</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">     </span><span style="color:#C98A7D;">Pod</span></span>
<span class="line"><span style="color:#429988;">VERSION</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">  </span><span style="color:#C98A7D;">v1</span></span>
<span class="line"><span style="color:#429988;">RESOURCE</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">initContainers &lt;[]Object&gt;</span></span>
<span class="line"><span style="color:#429988;">DESCRIPTION</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#429988;">FIELDS</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#C98A7D;">args	&lt;[]string&gt;</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u8BBE\u7F6E\u5BB9\u5668\u542F\u52A8\u53C2\u6570</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#C98A7D;">command	&lt;[]string&gt;</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u8BBE\u7F6E\u5BB9\u5668\u542F\u52A8\u547D\u4EE4</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#C98A7D;">env	&lt;[]Object&gt;</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u8BBE\u7F6E\u5BB9\u5668\u7684\u73AF\u5883\u53D8\u91CF</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#C98A7D;">image	&lt;string&gt;</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u5BB9\u5668\u7684\u955C\u50CF</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#C98A7D;">imagePullPolicy	&lt;string&gt;</span><span style="color:#DBD7CA;">			</span><span style="color:#758575;"># \u5BB9\u5668\u955C\u50CF\u7684\u62C9\u53D6\u7B56\u7565</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#C98A7D;">name	&lt;string&gt; -required-</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u521D\u59CB\u5316\u5BB9\u5668\u7684\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#C98A7D;">ports	&lt;[]Object&gt;</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u7AEF\u53E3\u53F7\u8BBE\u7F6E</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">root@k8s-master ~/k8s_1.19_yaml</span><span style="color:#8E8F8B;">]</span><span style="color:#B56959;">\\# kubectl explain pod.spec.initContainers</span></span>
<span class="line"><span style="color:#2F8A89;">KIND</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">     </span><span style="color:#B56959;">Pod</span></span>
<span class="line"><span style="color:#2F8A89;">VERSION</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">  </span><span style="color:#B56959;">v1</span></span>
<span class="line"><span style="color:#2F8A89;">RESOURCE</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">initContainers &lt;[]Object&gt;</span></span>
<span class="line"><span style="color:#2F8A89;">DESCRIPTION</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#2F8A89;">FIELDS</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B56959;">args	&lt;[]string&gt;</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u8BBE\u7F6E\u5BB9\u5668\u542F\u52A8\u53C2\u6570</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B56959;">command	&lt;[]string&gt;</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u8BBE\u7F6E\u5BB9\u5668\u542F\u52A8\u547D\u4EE4</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B56959;">env	&lt;[]Object&gt;</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u8BBE\u7F6E\u5BB9\u5668\u7684\u73AF\u5883\u53D8\u91CF</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B56959;">image	&lt;string&gt;</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u5BB9\u5668\u7684\u955C\u50CF</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B56959;">imagePullPolicy	&lt;string&gt;</span><span style="color:#393A34;">			</span><span style="color:#A0ADA0;"># \u5BB9\u5668\u955C\u50CF\u7684\u62C9\u53D6\u7B56\u7565</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B56959;">name	&lt;string&gt; -required-</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u521D\u59CB\u5316\u5BB9\u5668\u7684\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B56959;">ports	&lt;[]Object&gt;</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u7AEF\u53E3\u53F7\u8BBE\u7F6E</span></span>
<span class="line"></span></code></pre></div><h3 id="_2-5-pod\u8D44\u6E90\u94A9\u5B50\u51FD\u6570\u914D\u7F6E\u53C2\u6570" tabindex="-1">2.5.pod\u8D44\u6E90\u94A9\u5B50\u51FD\u6570\u914D\u7F6E\u53C2\u6570 <a class="header-anchor" href="#_2-5-pod\u8D44\u6E90\u94A9\u5B50\u51FD\u6570\u914D\u7F6E\u53C2\u6570" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#429988;">KIND</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">     </span><span style="color:#C98A7D;">Pod</span></span>
<span class="line"><span style="color:#429988;">VERSION</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">  </span><span style="color:#C98A7D;">v1</span></span>
<span class="line"><span style="color:#429988;">RESOURCE</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">lifecycle &lt;Object&gt;</span></span>
<span class="line"><span style="color:#429988;">FIELDS</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#C98A7D;">postStart	&lt;Object&gt;</span><span style="color:#DBD7CA;">			</span><span style="color:#758575;"># \u5B9A\u4E49\u5BB9\u5668\u542F\u52A8\u540E\u6267\u884C\u7684\u94A9\u5B50\u51FD\u6570</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#C98A7D;">exec	&lt;Object&gt;</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># exec\u547D\u4EE4\u65B9\u5F0F\uFF0C\u5728\u5BB9\u5668\u91CC\u9762\u6267\u884C\u76F8\u5E94\u7684\u547D\u4EE4</span></span>
<span class="line"><span style="color:#DBD7CA;">       </span><span style="color:#C98A7D;">command		&lt;[]string&gt;</span><span style="color:#DBD7CA;">		</span><span style="color:#758575;"># \u6307\u5B9A\u8FD0\u884C\u7684\u547D\u4EE4</span></span>
<span class="line"><span style="color:#DBD7CA;">   	 </span><span style="color:#C98A7D;">httpGet	&lt;Object&gt;</span><span style="color:#DBD7CA;">			</span><span style="color:#758575;"># httpGet\u65B9\u5F0F\uFF0C\u63A2\u6D4B\u5BB9\u5668\u5E94\u7528\u7684url</span></span>
<span class="line"><span style="color:#DBD7CA;">   	   </span><span style="color:#C98A7D;">host	&lt;string&gt;</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u4E3B\u673A\u5730\u5740\uFF0C\u4E00\u822C\u5C31\u662Fpod\u5730\u5740</span></span>
<span class="line"><span style="color:#DBD7CA;">   	   </span><span style="color:#C98A7D;">path	&lt;string&gt;</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u8BF7\u6C42\u7684url\u8DEF\u5F84</span></span>
<span class="line"><span style="color:#DBD7CA;">   	   </span><span style="color:#C98A7D;">port	&lt;string&gt;</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u5E94\u7528\u7AEF\u53E3\u53F7</span></span>
<span class="line"><span style="color:#DBD7CA;">   	   </span><span style="color:#C98A7D;">scheme	&lt;string&gt;</span><span style="color:#DBD7CA;">			</span><span style="color:#758575;"># \u534F\u8BAE</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#C98A7D;">tcpSocket	&lt;Object&gt;</span><span style="color:#DBD7CA;">			</span><span style="color:#758575;"># tcpSocket\u65B9\u5F0F\uFF0C\u8BBF\u95EE\u5BB9\u5668\u6307\u5B9A\u7684socket</span></span>
<span class="line"><span style="color:#DBD7CA;">     	</span><span style="color:#C98A7D;">host	&lt;string&gt;</span><span style="color:#DBD7CA;">			</span><span style="color:#758575;"># pod\u5730\u5740</span></span>
<span class="line"><span style="color:#DBD7CA;">     	</span><span style="color:#C98A7D;">port	&lt;string&gt;</span><span style="color:#DBD7CA;">			</span><span style="color:#758575;"># \u7AEF\u53E3\u53F7</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#C98A7D;">preStop	&lt;Object&gt;</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u5B9A\u671F\u5BB9\u5668\u5173\u95ED\u524D\u6267\u884C\u7684\u94A9\u5B50\u51FD\u6570</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#C98A7D;">exec	&lt;Object&gt;</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># exec\u547D\u4EE4\u65B9\u5F0F\uFF0C\u5728\u5BB9\u5668\u91CC\u9762\u6267\u884C\u76F8\u5E94\u7684\u547D\u4EE4</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#C98A7D;">\xB7\xB7\xB7\xB7\xB7</span></span>
<span class="line"><span style="color:#DBD7CA;">   	 </span><span style="color:#C98A7D;">httpGet	&lt;Object&gt;</span><span style="color:#DBD7CA;">			</span><span style="color:#758575;"># httpGet\u65B9\u5F0F\uFF0C\u63A2\u6D4B\u5BB9\u5668\u5E94\u7528\u7684url</span></span>
<span class="line"><span style="color:#DBD7CA;">   	 </span><span style="color:#C98A7D;">\xB7\xB7\xB7\xB7\xB7</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#C98A7D;">tcpSocket	&lt;Object&gt;</span><span style="color:#DBD7CA;">			</span><span style="color:#758575;"># tcpSocket\u65B9\u5F0F\uFF0C\u8BBF\u95EE\u5BB9\u5668\u6307\u5B9A\u7684socket</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#C98A7D;">\xB7\xB7\xB7\xB7\xB7</span><span style="color:#DBD7CA;">     </span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#2F8A89;">KIND</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">     </span><span style="color:#B56959;">Pod</span></span>
<span class="line"><span style="color:#2F8A89;">VERSION</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">  </span><span style="color:#B56959;">v1</span></span>
<span class="line"><span style="color:#2F8A89;">RESOURCE</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">lifecycle &lt;Object&gt;</span></span>
<span class="line"><span style="color:#2F8A89;">FIELDS</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B56959;">postStart	&lt;Object&gt;</span><span style="color:#393A34;">			</span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u5BB9\u5668\u542F\u52A8\u540E\u6267\u884C\u7684\u94A9\u5B50\u51FD\u6570</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#B56959;">exec	&lt;Object&gt;</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># exec\u547D\u4EE4\u65B9\u5F0F\uFF0C\u5728\u5BB9\u5668\u91CC\u9762\u6267\u884C\u76F8\u5E94\u7684\u547D\u4EE4</span></span>
<span class="line"><span style="color:#393A34;">       </span><span style="color:#B56959;">command		&lt;[]string&gt;</span><span style="color:#393A34;">		</span><span style="color:#A0ADA0;"># \u6307\u5B9A\u8FD0\u884C\u7684\u547D\u4EE4</span></span>
<span class="line"><span style="color:#393A34;">   	 </span><span style="color:#B56959;">httpGet	&lt;Object&gt;</span><span style="color:#393A34;">			</span><span style="color:#A0ADA0;"># httpGet\u65B9\u5F0F\uFF0C\u63A2\u6D4B\u5BB9\u5668\u5E94\u7528\u7684url</span></span>
<span class="line"><span style="color:#393A34;">   	   </span><span style="color:#B56959;">host	&lt;string&gt;</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u4E3B\u673A\u5730\u5740\uFF0C\u4E00\u822C\u5C31\u662Fpod\u5730\u5740</span></span>
<span class="line"><span style="color:#393A34;">   	   </span><span style="color:#B56959;">path	&lt;string&gt;</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u8BF7\u6C42\u7684url\u8DEF\u5F84</span></span>
<span class="line"><span style="color:#393A34;">   	   </span><span style="color:#B56959;">port	&lt;string&gt;</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u5E94\u7528\u7AEF\u53E3\u53F7</span></span>
<span class="line"><span style="color:#393A34;">   	   </span><span style="color:#B56959;">scheme	&lt;string&gt;</span><span style="color:#393A34;">			</span><span style="color:#A0ADA0;"># \u534F\u8BAE</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#B56959;">tcpSocket	&lt;Object&gt;</span><span style="color:#393A34;">			</span><span style="color:#A0ADA0;"># tcpSocket\u65B9\u5F0F\uFF0C\u8BBF\u95EE\u5BB9\u5668\u6307\u5B9A\u7684socket</span></span>
<span class="line"><span style="color:#393A34;">     	</span><span style="color:#B56959;">host	&lt;string&gt;</span><span style="color:#393A34;">			</span><span style="color:#A0ADA0;"># pod\u5730\u5740</span></span>
<span class="line"><span style="color:#393A34;">     	</span><span style="color:#B56959;">port	&lt;string&gt;</span><span style="color:#393A34;">			</span><span style="color:#A0ADA0;"># \u7AEF\u53E3\u53F7</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B56959;">preStop	&lt;Object&gt;</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u5B9A\u671F\u5BB9\u5668\u5173\u95ED\u524D\u6267\u884C\u7684\u94A9\u5B50\u51FD\u6570</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#B56959;">exec	&lt;Object&gt;</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># exec\u547D\u4EE4\u65B9\u5F0F\uFF0C\u5728\u5BB9\u5668\u91CC\u9762\u6267\u884C\u76F8\u5E94\u7684\u547D\u4EE4</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#B56959;">\xB7\xB7\xB7\xB7\xB7</span></span>
<span class="line"><span style="color:#393A34;">   	 </span><span style="color:#B56959;">httpGet	&lt;Object&gt;</span><span style="color:#393A34;">			</span><span style="color:#A0ADA0;"># httpGet\u65B9\u5F0F\uFF0C\u63A2\u6D4B\u5BB9\u5668\u5E94\u7528\u7684url</span></span>
<span class="line"><span style="color:#393A34;">   	 </span><span style="color:#B56959;">\xB7\xB7\xB7\xB7\xB7</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#B56959;">tcpSocket	&lt;Object&gt;</span><span style="color:#393A34;">			</span><span style="color:#A0ADA0;"># tcpSocket\u65B9\u5F0F\uFF0C\u8BBF\u95EE\u5BB9\u5668\u6307\u5B9A\u7684socket</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#B56959;">\xB7\xB7\xB7\xB7\xB7</span><span style="color:#393A34;">     </span></span>
<span class="line"></span></code></pre></div><h3 id="_2-6-pod\u8D44\u6E90node\u8C03\u5EA6\u7B56\u7565\u914D\u7F6E\u53C2\u6570" tabindex="-1">2.6.Pod\u8D44\u6E90node\u8C03\u5EA6\u7B56\u7565\u914D\u7F6E\u53C2\u6570 <a class="header-anchor" href="#_2-6-pod\u8D44\u6E90node\u8C03\u5EA6\u7B56\u7565\u914D\u7F6E\u53C2\u6570" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">v1</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">Pod</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">pod-nodename</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">namespace</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">dev</span></span>
<span class="line"><span style="color:#429988;">spec</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">containers</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">nginx</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">image</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">nginx:1.15</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">nodeName</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">k8s-node1</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u6307\u5B9A\u8981\u8C03\u5EA6\u7684node\u8282\u70B9\u540D\u79F0</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">v1</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">Pod</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">pod-nodename</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">namespace</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">dev</span></span>
<span class="line"><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">containers</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nginx</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">image</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nginx:1.15</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">nodeName</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">k8s-node1</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u6307\u5B9A\u8981\u8C03\u5EA6\u7684node\u8282\u70B9\u540D\u79F0</span></span>
<span class="line"></span></code></pre></div><h3 id="_2-7-pode\u4EB2\u548C\u6027\u8C03\u5EA6\u914D\u7F6E\u53C2\u6570" tabindex="-1">2.7.Pode\u4EB2\u548C\u6027\u8C03\u5EA6\u914D\u7F6E\u53C2\u6570 <a class="header-anchor" href="#_2-7-pode\u4EB2\u548C\u6027\u8C03\u5EA6\u914D\u7F6E\u53C2\u6570" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">[</span><span style="color:#C98A7D;">root@k8s-master ~</span><span style="color:#858585;">]</span><span style="color:#C98A7D;">\\# kubectl explain pod.spec.affinity.nodeAffinity</span></span>
<span class="line"><span style="color:#C98A7D;">requiredDuringSchedulingIgnoredDuringExecution	&lt;Object&gt;</span><span style="color:#DBD7CA;">		</span><span style="color:#758575;"># node\u8282\u70B9\u5FC5\u987B\u6EE1\u8DB3\u6240\u6709\u89C4\u5219\u624D\u53EF\u4EE5\uFF0C\u76F8\u5F53\u4E8E\u786C\u9650\u5236\uFF0C\uFF08\u8FD9\u540D\u5B57\u771F\u662F\u6709\u591F\u957F\u7684\uFF09\uFF0C\u4E0D\u4F1A\u9A71\u9010\u5DF2\u7ECF\u5B58\u5728\u5E76\u8FD0\u884C\u7684pod</span></span>
<span class="line"><span style="color:#C98A7D;">nodeSelectorTerms	&lt;[]Object&gt;</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u5B9A\u4E49\u8282\u70B9\u9009\u62E9\u5217\u8868\uFF0C\u4E5F\u5C31\u662F\u5B9A\u4E49\u5177\u4F53\u5339\u914D\u89C4\u5219</span></span>
<span class="line"><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">matchFields  &lt;Object&gt;</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u6839\u636E\u8282\u70B9\u5B57\u6BB5\u5217\u51FA\u7684\u8282\u70B9\u9009\u62E9\u5668\u8981\u6C42\u9009\u62E9</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#C98A7D;">key</span><span style="color:#DBD7CA;">										</span><span style="color:#758575;"># \u952E</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#C98A7D;">operator</span><span style="color:#DBD7CA;">			</span><span style="color:#758575;"># \u5173\u7CFB\u7B26\uFF0C\u652F\u6301Exists\uFF08\u5B58\u5728\uFF09\u3001DoesNotExist\uFF08\u4E0D\u5B58\u5728\uFF09\u3001In\uFF08\u662F\u8FD9\u4E2A\u8303\u56F4\uFF09\u3001NotIN\uFF08\u4E0D\u662F\u8FD9\u4E2A\u8303\u56F4\uFF09\u3001Gt\uFF08\u5927\u4E8E\uFF09\u3001Lt\uFF08\u5C0F\u4E8E\uFF09</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#C98A7D;">values</span><span style="color:#DBD7CA;">										</span><span style="color:#758575;"># \u503C</span></span>
<span class="line"><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">matchExpressions   &lt;Object&gt;</span><span style="color:#DBD7CA;">			</span><span style="color:#758575;"># \u6839\u636E\u8282\u70B9\u6807\u7B7E\u9009\u62E9\u5668\u8FDB\u884C\u5339\u914D\uFF08\u63A8\u8350\u4F7F\u7528\uFF09</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#C98A7D;">key</span><span style="color:#DBD7CA;">								</span><span style="color:#758575;"># \u952E\uFF0C\u6807\u7B7E\u540D</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#C98A7D;">operator</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u5173\u7CFB\u7B26\uFF0C\u652F\u6301Exists\u3001DoesNotExist\u3001In\u3001NotIN\u3001Gt\u3001Lt</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#C98A7D;">values</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u503C\uFF0C\u6807\u7B7E\u503C</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span></span>
<span class="line"><span style="color:#C98A7D;">preferredDuringSchedulingIgnoredDuringExecution	&lt;[]Object&gt;</span><span style="color:#DBD7CA;">		</span><span style="color:#758575;"># \u4F18\u5148\u8C03\u5EA6\u5230\u6EE1\u8DB3\u6307\u5B9A\u89C4\u5219\u7684Node\uFF0C\u76F8\u5F53\u4E8E\u8F6F\u9650\u5236\uFF0C\uFF08\u8FD9\u540D\u5B57\u771F\u662F\u6709\u591F\u957F\u7684\uFF09\uFF0C\u4E0D\u4F1A\u9A71\u9010\u5DF2\u7ECF\u5B58\u5728\u5E76\u8FD0\u884C\u7684pod</span></span>
<span class="line"><span style="color:#C98A7D;">preference	&lt;Object&gt;</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u8282\u70B9\u9009\u62E9\u5668\uFF0C\u4E0E\u6743\u91CD\u5173\u8054\uFF0C\u53EF\u4EE5\u5B9A\u4E49\u591A\u4E2A\uFF0C\u591A\u4E2Aprefence\u5982\u4F55\u9009\u62E9\u5C31\u8981\u770B\u6743\u91CD\u8BBE\u7F6E\u7684\u5927\u5C0F</span></span>
<span class="line"><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">matchFields  &lt;Object&gt;</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u6839\u636E\u8282\u70B9\u5B57\u6BB5\u8FDB\u884C\u5339\u914D</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#C98A7D;">key</span><span style="color:#DBD7CA;">	</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#C98A7D;">operator</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#C98A7D;">values</span></span>
<span class="line"><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">matchExpressions   &lt;Object&gt;</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u6839\u636E\u8282\u70B9\u6807\u7B7E\u9009\u62E9\u5668\u8FDB\u884C\u5339\u914D\uFF08\u63A8\u8350\u4F7F\u7528\uFF09</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#C98A7D;">key</span><span style="color:#DBD7CA;">									</span><span style="color:#758575;"># \u952E\uFF0C\u6807\u7B7E\u540D</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#C98A7D;">operator</span><span style="color:#DBD7CA;">								# </span><span style="color:#C98A7D;">\u5173\u7CFB\u7B26\uFF0C\u652F\u6301Exists\u3001DoesNotExist\u3001In\u3001NotIN\u3001Gt\u3001Lt</span><span style="color:#DBD7CA;">			</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#C98A7D;">values</span><span style="color:#DBD7CA;">  								</span><span style="color:#758575;"># \u503C\uFF0C\u6807\u7B7E\u503C</span></span>
<span class="line"><span style="color:#C98A7D;">weight</span><span style="color:#DBD7CA;">      									</span><span style="color:#758575;"># \u8BBE\u7F6E\u6743\u91CD\uFF0C\u8303\u56F4\u57281-100</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;"># node\u4EB2\u548C\u793A\u4F8B\u914D\u7F6E\u6E05\u5355\u6587\u4EF6</span></span>
<span class="line"><span style="color:#429988;">spec</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">affinity</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">nodeAffinity</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">requiredDuringSchedulingIgnoredDuringExecution</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">nodeSelectorTerms</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">matchExpressions</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">key</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">disktype</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#429988;">operator</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">In</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#429988;">values</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">ssd</span><span style="color:#DBD7CA;">  </span></span>
<span class="line"><span style="color:#758575;"># pod\u4EB2\u548C\u793A\u4F8B\u914D\u7F6E\u6E05\u5355\u6587\u4EF6</span></span>
<span class="line"><span style="color:#429988;">spec</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">affinity</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">podAffinity</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">    # </span><span style="color:#429988;">podAntiAffinity</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># pod\u53CD\u4EB2\u548C\u6027</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">requiredDuringSchedulingIgnoredDuringExecution</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">labelSelector</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#858585;">      	  </span><span style="color:#758575;"># matchLabels:</span></span>
<span class="line"><span style="color:#858585;">      	  </span><span style="color:#758575;">#  app: fronted</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">matchExpressions</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">key</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">security</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#429988;">operator</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">In</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#429988;">values</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">S1</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">topologyKey</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">topology.kubernetes.io/zone</span><span style="color:#DBD7CA;">		</span><span style="color:#758575;"># \u4E0D\u5728\u540C\u4E00\u533A\u57DF</span></span>
<span class="line"><span style="color:#DBD7CA;">        # </span><span style="color:#429988;">topologyKey</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">kubernetes.io/hostname</span><span style="color:#DBD7CA;">			</span><span style="color:#758575;"># \u4E0D\u5728\u540C\u4E00\u4E3B\u673A</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">containers</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">with-pod-affinity</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">image</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">k8s.gcr.io/pause:2.0</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">root@k8s-master ~</span><span style="color:#8E8F8B;">]</span><span style="color:#B56959;">\\# kubectl explain pod.spec.affinity.nodeAffinity</span></span>
<span class="line"><span style="color:#B56959;">requiredDuringSchedulingIgnoredDuringExecution	&lt;Object&gt;</span><span style="color:#393A34;">		</span><span style="color:#A0ADA0;"># node\u8282\u70B9\u5FC5\u987B\u6EE1\u8DB3\u6240\u6709\u89C4\u5219\u624D\u53EF\u4EE5\uFF0C\u76F8\u5F53\u4E8E\u786C\u9650\u5236\uFF0C\uFF08\u8FD9\u540D\u5B57\u771F\u662F\u6709\u591F\u957F\u7684\uFF09\uFF0C\u4E0D\u4F1A\u9A71\u9010\u5DF2\u7ECF\u5B58\u5728\u5E76\u8FD0\u884C\u7684pod</span></span>
<span class="line"><span style="color:#B56959;">nodeSelectorTerms	&lt;[]Object&gt;</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u8282\u70B9\u9009\u62E9\u5217\u8868\uFF0C\u4E5F\u5C31\u662F\u5B9A\u4E49\u5177\u4F53\u5339\u914D\u89C4\u5219</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#B56959;">matchFields  &lt;Object&gt;</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u6839\u636E\u8282\u70B9\u5B57\u6BB5\u5217\u51FA\u7684\u8282\u70B9\u9009\u62E9\u5668\u8981\u6C42\u9009\u62E9</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B56959;">key</span><span style="color:#393A34;">										</span><span style="color:#A0ADA0;"># \u952E</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B56959;">operator</span><span style="color:#393A34;">			</span><span style="color:#A0ADA0;"># \u5173\u7CFB\u7B26\uFF0C\u652F\u6301Exists\uFF08\u5B58\u5728\uFF09\u3001DoesNotExist\uFF08\u4E0D\u5B58\u5728\uFF09\u3001In\uFF08\u662F\u8FD9\u4E2A\u8303\u56F4\uFF09\u3001NotIN\uFF08\u4E0D\u662F\u8FD9\u4E2A\u8303\u56F4\uFF09\u3001Gt\uFF08\u5927\u4E8E\uFF09\u3001Lt\uFF08\u5C0F\u4E8E\uFF09</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B56959;">values</span><span style="color:#393A34;">										</span><span style="color:#A0ADA0;"># \u503C</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#B56959;">matchExpressions   &lt;Object&gt;</span><span style="color:#393A34;">			</span><span style="color:#A0ADA0;"># \u6839\u636E\u8282\u70B9\u6807\u7B7E\u9009\u62E9\u5668\u8FDB\u884C\u5339\u914D\uFF08\u63A8\u8350\u4F7F\u7528\uFF09</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B56959;">key</span><span style="color:#393A34;">								</span><span style="color:#A0ADA0;"># \u952E\uFF0C\u6807\u7B7E\u540D</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B56959;">operator</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u5173\u7CFB\u7B26\uFF0C\u652F\u6301Exists\u3001DoesNotExist\u3001In\u3001NotIN\u3001Gt\u3001Lt</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B56959;">values</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u503C\uFF0C\u6807\u7B7E\u503C</span></span>
<span class="line"><span style="color:#393A34;">   </span></span>
<span class="line"><span style="color:#B56959;">preferredDuringSchedulingIgnoredDuringExecution	&lt;[]Object&gt;</span><span style="color:#393A34;">		</span><span style="color:#A0ADA0;"># \u4F18\u5148\u8C03\u5EA6\u5230\u6EE1\u8DB3\u6307\u5B9A\u89C4\u5219\u7684Node\uFF0C\u76F8\u5F53\u4E8E\u8F6F\u9650\u5236\uFF0C\uFF08\u8FD9\u540D\u5B57\u771F\u662F\u6709\u591F\u957F\u7684\uFF09\uFF0C\u4E0D\u4F1A\u9A71\u9010\u5DF2\u7ECF\u5B58\u5728\u5E76\u8FD0\u884C\u7684pod</span></span>
<span class="line"><span style="color:#B56959;">preference	&lt;Object&gt;</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u8282\u70B9\u9009\u62E9\u5668\uFF0C\u4E0E\u6743\u91CD\u5173\u8054\uFF0C\u53EF\u4EE5\u5B9A\u4E49\u591A\u4E2A\uFF0C\u591A\u4E2Aprefence\u5982\u4F55\u9009\u62E9\u5C31\u8981\u770B\u6743\u91CD\u8BBE\u7F6E\u7684\u5927\u5C0F</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#B56959;">matchFields  &lt;Object&gt;</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u6839\u636E\u8282\u70B9\u5B57\u6BB5\u8FDB\u884C\u5339\u914D</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B56959;">key</span><span style="color:#393A34;">	</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B56959;">operator</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B56959;">values</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#B56959;">matchExpressions   &lt;Object&gt;</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u6839\u636E\u8282\u70B9\u6807\u7B7E\u9009\u62E9\u5668\u8FDB\u884C\u5339\u914D\uFF08\u63A8\u8350\u4F7F\u7528\uFF09</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B56959;">key</span><span style="color:#393A34;">									</span><span style="color:#A0ADA0;"># \u952E\uFF0C\u6807\u7B7E\u540D</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B56959;">operator</span><span style="color:#393A34;">								# </span><span style="color:#B56959;">\u5173\u7CFB\u7B26\uFF0C\u652F\u6301Exists\u3001DoesNotExist\u3001In\u3001NotIN\u3001Gt\u3001Lt</span><span style="color:#393A34;">			</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#B56959;">values</span><span style="color:#393A34;">  								</span><span style="color:#A0ADA0;"># \u503C\uFF0C\u6807\u7B7E\u503C</span></span>
<span class="line"><span style="color:#B56959;">weight</span><span style="color:#393A34;">      									</span><span style="color:#A0ADA0;"># \u8BBE\u7F6E\u6743\u91CD\uFF0C\u8303\u56F4\u57281-100</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;"># node\u4EB2\u548C\u793A\u4F8B\u914D\u7F6E\u6E05\u5355\u6587\u4EF6</span></span>
<span class="line"><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">affinity</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">nodeAffinity</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">requiredDuringSchedulingIgnoredDuringExecution</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">nodeSelectorTerms</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">matchExpressions</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">key</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">disktype</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#2F8A89;">operator</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">In</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#2F8A89;">values</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#B56959;">ssd</span><span style="color:#393A34;">  </span></span>
<span class="line"><span style="color:#A0ADA0;"># pod\u4EB2\u548C\u793A\u4F8B\u914D\u7F6E\u6E05\u5355\u6587\u4EF6</span></span>
<span class="line"><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">affinity</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">podAffinity</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">    # </span><span style="color:#2F8A89;">podAntiAffinity</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># pod\u53CD\u4EB2\u548C\u6027</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">requiredDuringSchedulingIgnoredDuringExecution</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">labelSelector</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#8E8F8B;">      	  </span><span style="color:#A0ADA0;"># matchLabels:</span></span>
<span class="line"><span style="color:#8E8F8B;">      	  </span><span style="color:#A0ADA0;">#  app: fronted</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">matchExpressions</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">key</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">security</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#2F8A89;">operator</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">In</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#2F8A89;">values</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#B56959;">S1</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">topologyKey</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">topology.kubernetes.io/zone</span><span style="color:#393A34;">		</span><span style="color:#A0ADA0;"># \u4E0D\u5728\u540C\u4E00\u533A\u57DF</span></span>
<span class="line"><span style="color:#393A34;">        # </span><span style="color:#2F8A89;">topologyKey</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">kubernetes.io/hostname</span><span style="color:#393A34;">			</span><span style="color:#A0ADA0;"># \u4E0D\u5728\u540C\u4E00\u4E3B\u673A</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">containers</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">with-pod-affinity</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">image</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">k8s.gcr.io/pause:2.0</span></span>
<span class="line"></span></code></pre></div><h2 id="_3-pod\u8D44\u6E90\u63A7\u5236\u5668\u8D44\u6E90" tabindex="-1">3.pod\u8D44\u6E90\u63A7\u5236\u5668\u8D44\u6E90 <a class="header-anchor" href="#_3-pod\u8D44\u6E90\u63A7\u5236\u5668\u8D44\u6E90" aria-hidden="true">#</a></h2><h3 id="_3-1-replicaset\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" tabindex="-1">3.1.ReplicaSet\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6 <a class="header-anchor" href="#_3-1-replicaset\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">apps/v1</span><span style="color:#DBD7CA;"> 					</span><span style="color:#758575;"># \u7248\u672C\u53F7</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">ReplicaSet</span><span style="color:#DBD7CA;"> 					    </span><span style="color:#758575;"># \u7C7B\u578B</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">								</span><span style="color:#758575;"># \u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 								</span><span style="color:#758575;"># rs\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">namespace</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 							</span><span style="color:#758575;"># \u6240\u5C5E\u547D\u540D\u7A7A\u95F4</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">labels</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">								</span><span style="color:#758575;"># \u6807\u7B7E</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#429988;">controller</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">rs</span></span>
<span class="line"><span style="color:#429988;">spec</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">									</span><span style="color:#758575;"># \u8BE6\u60C5\u63CF\u8FF0</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">replicas</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">3</span><span style="color:#DBD7CA;"> 							</span><span style="color:#758575;"># \u526F\u672C\u6570\u91CF</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">selector</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 							</span><span style="color:#758575;"># \u9009\u62E9\u5668\uFF0C\u901A\u8FC7\u5B83\u6307\u5B9A\u8BE5\u63A7\u5236\u5668\u7BA1\u7406\u54EA\u4E9Bpod</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">matchLabels</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># Labels\u5339\u914D\u914D\u89C4\u5219</span></span>
<span class="line"><span style="color:#DBD7CA;">	  </span><span style="color:#429988;">app</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">nginx-pod</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u5339\u914D\u6807\u7B7Eapp\u503C\u4E3Anginx-pod\u7684pod</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">matchExpressions</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 					</span><span style="color:#758575;"># Expressions\u5339\u914D\u89C4\u5219</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#429988;">key</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">app</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">operator</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">In</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">values</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#C98A7D;">nginx-pod</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">]</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;">		</span><span style="color:#758575;"># \u6307\u5B9A\u4E00\u4E2A\u5C31\u53EF\u4EE5\u4E86</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">template</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 							</span><span style="color:#758575;"># \u6A21\u677F\uFF0C\u4E5F\u5C31\u662F\u5B9A\u4E49pod\u7684\u4FE1\u606F\uFF0C\u5F53\u526F\u672C\u6570\u91CF\u4E0D\u8DB3\u65F6\uFF0C\u4F1A\u6839\u636E\u4E0B\u9762\u7684\u6A21\u677F\u521B\u5EFApod\u526F\u672C</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">metadata</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CA;">	  </span><span style="color:#429988;">labels</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u5B9A\u4E49\u6807\u7B7E\u4E0Ers\u8FDB\u884C\u5173\u8054</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">app</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">nginx-pod</span><span style="color:#DBD7CA;">				</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#429988;">spec</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">								</span><span style="color:#758575;"># pod\u5C5E\u6027</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">containers</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">						# </span><span style="color:#C98A7D;">\u5B9A\u4E49\u5BB9\u5668</span><span style="color:#DBD7CA;">	</span></span>
<span class="line"><span style="color:#DBD7CA;">	  </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">nginx</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u5BB9\u5668\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">image</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">nginx :1.17.1</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u955C\u50CF</span></span>
<span class="line"><span style="color:#DBD7CA;">	    </span><span style="color:#429988;">ports</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">								</span><span style="color:#758575;"># \u7AEF\u53E3\u53F7</span></span>
<span class="line"><span style="color:#DBD7CA;">		</span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">containerPort</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">80</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">apps/v1</span><span style="color:#393A34;"> 					</span><span style="color:#A0ADA0;"># \u7248\u672C\u53F7</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">ReplicaSet</span><span style="color:#393A34;"> 					    </span><span style="color:#A0ADA0;"># \u7C7B\u578B</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">								</span><span style="color:#A0ADA0;"># \u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 								</span><span style="color:#A0ADA0;"># rs\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">namespace</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 							</span><span style="color:#A0ADA0;"># \u6240\u5C5E\u547D\u540D\u7A7A\u95F4</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">labels</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">								</span><span style="color:#A0ADA0;"># \u6807\u7B7E</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#2F8A89;">controller</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">rs</span></span>
<span class="line"><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">									</span><span style="color:#A0ADA0;"># \u8BE6\u60C5\u63CF\u8FF0</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">replicas</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">3</span><span style="color:#393A34;"> 							</span><span style="color:#A0ADA0;"># \u526F\u672C\u6570\u91CF</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">selector</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 							</span><span style="color:#A0ADA0;"># \u9009\u62E9\u5668\uFF0C\u901A\u8FC7\u5B83\u6307\u5B9A\u8BE5\u63A7\u5236\u5668\u7BA1\u7406\u54EA\u4E9Bpod</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">matchLabels</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># Labels\u5339\u914D\u914D\u89C4\u5219</span></span>
<span class="line"><span style="color:#393A34;">	  </span><span style="color:#2F8A89;">app</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nginx-pod</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u5339\u914D\u6807\u7B7Eapp\u503C\u4E3Anginx-pod\u7684pod</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">matchExpressions</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 					</span><span style="color:#A0ADA0;"># Expressions\u5339\u914D\u89C4\u5219</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#2F8A89;">key</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">app</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">operator</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">In</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">values</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">nginx-pod</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;">		</span><span style="color:#A0ADA0;"># \u6307\u5B9A\u4E00\u4E2A\u5C31\u53EF\u4EE5\u4E86</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">template</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 							</span><span style="color:#A0ADA0;"># \u6A21\u677F\uFF0C\u4E5F\u5C31\u662F\u5B9A\u4E49pod\u7684\u4FE1\u606F\uFF0C\u5F53\u526F\u672C\u6570\u91CF\u4E0D\u8DB3\u65F6\uFF0C\u4F1A\u6839\u636E\u4E0B\u9762\u7684\u6A21\u677F\u521B\u5EFApod\u526F\u672C</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">metadata</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">	  </span><span style="color:#2F8A89;">labels</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u6807\u7B7E\u4E0Ers\u8FDB\u884C\u5173\u8054</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">app</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nginx-pod</span><span style="color:#393A34;">				</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">								</span><span style="color:#A0ADA0;"># pod\u5C5E\u6027</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">containers</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">						# </span><span style="color:#B56959;">\u5B9A\u4E49\u5BB9\u5668</span><span style="color:#393A34;">	</span></span>
<span class="line"><span style="color:#393A34;">	  </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nginx</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u5BB9\u5668\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">image</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nginx :1.17.1</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u955C\u50CF</span></span>
<span class="line"><span style="color:#393A34;">	    </span><span style="color:#2F8A89;">ports</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">								</span><span style="color:#A0ADA0;"># \u7AEF\u53E3\u53F7</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">containerPort</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">80</span></span>
<span class="line"></span></code></pre></div><h3 id="_3-2-deployment\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" tabindex="-1">3.2.Deployment\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6 <a class="header-anchor" href="#_3-2-deployment\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">apps/v1</span><span style="color:#DBD7CA;">		 </span><span style="color:#758575;"># \u7248\u672C\u53F7</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">Deployment</span><span style="color:#DBD7CA;"> 		</span><span style="color:#758575;"># \u63A7\u5236\u5668\u7C7B\u578B</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 				</span><span style="color:#758575;"># \u5B9A\u4E49\u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 					</span><span style="color:#758575;"># deployment\u8D44\u6E90\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">namespace</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 					</span><span style="color:#758575;"># \u6240\u5C5E\u547D\u540D\u7A7A\u95F4</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">labels</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u5B9A\u4E49\u6807\u7B7E</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">controller</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">deploy</span></span>
<span class="line"><span style="color:#429988;">spec</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 						    </span><span style="color:#758575;"># \u5B9A\u4E49\u8D44\u6E90\u5C5E\u6027</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">replicas</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">3</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u526F\u672C\u6570\u91CF</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">revisionHistoryLimit</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">3</span><span style="color:#DBD7CA;">		 </span><span style="color:#758575;"># \u4FDD\u7559\u5386\u53F2\u7248\u672C\uFF0C\u9ED8\u8BA4\u662F1\u65E5</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">paused</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">false</span><span style="color:#DBD7CA;"> 				</span><span style="color:#758575;"># \u6682\u505C\u90E8\u7F72\uFF0C\u9ED8\u8BA4\u662Ffalse\uFF0C\u4E5F\u5C31\u662Fdeployment\u8D44\u6E90\u521B\u5EFA\u597D\u4E4B\u540E\uFF0C\u662F\u5426\u7ACB\u523B\u8FD0\u884Cpod\uFF0C\u5982\u679C\u8BBE\u7F6Etrue\uFF0Cdeployment\u8D44\u6E90\u521B\u5EFA\u597D\u4E0D\u4F1A\u7ACB\u5373\u8FD0\u884Cpod</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">progressDeadlineSeconds</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">688</span><span style="color:#DBD7CA;">			 </span><span style="color:#758575;"># \u90E8\u7F72\u8D85\u65F6\u65F6\u95F4(s\uFF09\uFF0C\u9ED8\u8BA4\u662F68\u65E5</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">tolerations</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u5BB9\u5FCD\u5EA6</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">key</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;key1&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">operator</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;Equal&quot;</span><span style="color:#DBD7CA;">			</span><span style="color:#758575;"># \u64CD\u4F5C\u7B26\u4E3AExists\u65F6\uFF0C\u4E0D\u80FD\u6307\u5B9Avalue\u503C</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">value</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;value1&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">effect</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;NoSchedule&quot;</span><span style="color:#DBD7CA;">			</span><span style="color:#758575;"># \u6B64\u5916\u8FD8\u6709NoExecute(\u9A71\u9010\u5F71\u54CD\u76EE\u524D\u8FD0\u884C\u7740\u7684pod)\u548CPreferNoschedule(\u5C3D\u91CF\u963B\u6B62pod\u8C03\u5EA6\u5230\u8BE5\u8282\u70B9\uFF0C\u9664\u975E\u6CA1\u6709\u5176\u4ED6\u8282\u70B9\u53EF\u8C03\u7528\uFF0C\u8BF4\u767D\u4E86\u5C31\u662F\u5907\u80CExd.)</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">tolerationSeconds</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">6000</span><span style="color:#DBD7CA;">			</span><span style="color:#758575;"># \u7528\u4E8E\u5F53\u67D0\u4E2Apod\u8FD0\u884C\u6240\u5728\u7684\u8282\u70B9\u53D8\u6210unready\u6216\u8005unreachable\u72B6\u6001\u65F6\uFF0Ck8s\u53EF\u4EE5\u7B49\u5F85\u8BE5pod\u88AB\u8C03\u5EA6\u5230\u5176\u4ED6\u8282\u70B9\u7684\u6700\u957F\u7B49\u5F85\u65F6\u95F4\uFF0C\u4E00\u822C\u4E0Eeffect\u7684NoExecute\u5171\u540C\u4F7F\u7528</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">strategy</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 				</span><span style="color:#758575;"># \u7B56\u7565</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">type</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">RollingUpdate</span><span style="color:#DBD7CA;"> 		</span><span style="color:#758575;"># \u6EDA\u52A8\u66F4\u65B0\u7B56\u7565</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">rollingUpdate</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 				</span><span style="color:#758575;"># \u6EDA\u52A8\u66F4\u65B0</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">maxSurge</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">30%</span><span style="color:#DBD7CA;"> 				</span><span style="color:#758575;"># \u6700\u5927\u989D\u5916\u53EF\u4EE5\u5B58\u5728\u7684\u526F\u672C\u6570\uFF0C\u53EF\u4EE5\u4E3A\u767E\u5206\u6BD4\uFF0C\u4E5F\u53EF\u4EE5\u4E3A\u6574\u6570</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">maxUn available</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">30%</span><span style="color:#DBD7CA;">			 </span><span style="color:#758575;"># \u6700\u5927\u4E0D\u53EF\u7528\u72B6\u6001\u7684 Pod \u7684\u6700\u5927\u503C\uFF0C\u53EF\u4EE5\u4E3A\u767E\u5206\u6BD4\uFF0C\u4E5F\u53EF\u4EE5\u4E3A\u6574\u6570</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">selector</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u9009\u62E9\u5668\uFF0C\u901A\u8FC7\u5B83\u6307\u5B9A\u8BE5\u63A7\u5236\u5668\u7BA1\u7406\u54EA\u4E9Bpod</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">matchLabels</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># Labels\u5339\u914D\u89C4\u5219</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">app</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">nginx-pod</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">matchExpressions</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 					</span><span style="color:#758575;">#  Expressions\u5339\u914D\u89C4\u5219</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#429988;">key</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">app</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">operator</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">In</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">values</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#C98A7D;">nginx-pod</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">template</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u6A21\u677F\uFF0C\u5F53\u526F\u672C\u6570\u91CF\u4E0D\u8DB3\u65F6\uFF0C\u4F1A\u6839\u636E\u4E0B\u9762\u7684\u6A21\u677F\u521B\u5EFApod\u526F\u672C</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">labels</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">app</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">nginx-podspec</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">containers</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">nginx</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">image</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">nginx:1.17.1ports</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">ports</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">containerPort</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">80</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">apps/v1</span><span style="color:#393A34;">		 </span><span style="color:#A0ADA0;"># \u7248\u672C\u53F7</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">Deployment</span><span style="color:#393A34;"> 		</span><span style="color:#A0ADA0;"># \u63A7\u5236\u5668\u7C7B\u578B</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 				</span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 					</span><span style="color:#A0ADA0;"># deployment\u8D44\u6E90\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">namespace</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 					</span><span style="color:#A0ADA0;"># \u6240\u5C5E\u547D\u540D\u7A7A\u95F4</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">labels</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u6807\u7B7E</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">controller</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">deploy</span></span>
<span class="line"><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 						    </span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u8D44\u6E90\u5C5E\u6027</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">replicas</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">3</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u526F\u672C\u6570\u91CF</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">revisionHistoryLimit</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">3</span><span style="color:#393A34;">		 </span><span style="color:#A0ADA0;"># \u4FDD\u7559\u5386\u53F2\u7248\u672C\uFF0C\u9ED8\u8BA4\u662F1\u65E5</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">paused</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">false</span><span style="color:#393A34;"> 				</span><span style="color:#A0ADA0;"># \u6682\u505C\u90E8\u7F72\uFF0C\u9ED8\u8BA4\u662Ffalse\uFF0C\u4E5F\u5C31\u662Fdeployment\u8D44\u6E90\u521B\u5EFA\u597D\u4E4B\u540E\uFF0C\u662F\u5426\u7ACB\u523B\u8FD0\u884Cpod\uFF0C\u5982\u679C\u8BBE\u7F6Etrue\uFF0Cdeployment\u8D44\u6E90\u521B\u5EFA\u597D\u4E0D\u4F1A\u7ACB\u5373\u8FD0\u884Cpod</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">progressDeadlineSeconds</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">688</span><span style="color:#393A34;">			 </span><span style="color:#A0ADA0;"># \u90E8\u7F72\u8D85\u65F6\u65F6\u95F4(s\uFF09\uFF0C\u9ED8\u8BA4\u662F68\u65E5</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">tolerations</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u5BB9\u5FCD\u5EA6</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">key</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;key1&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">operator</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;Equal&quot;</span><span style="color:#393A34;">			</span><span style="color:#A0ADA0;"># \u64CD\u4F5C\u7B26\u4E3AExists\u65F6\uFF0C\u4E0D\u80FD\u6307\u5B9Avalue\u503C</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">value</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;value1&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">effect</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;NoSchedule&quot;</span><span style="color:#393A34;">			</span><span style="color:#A0ADA0;"># \u6B64\u5916\u8FD8\u6709NoExecute(\u9A71\u9010\u5F71\u54CD\u76EE\u524D\u8FD0\u884C\u7740\u7684pod)\u548CPreferNoschedule(\u5C3D\u91CF\u963B\u6B62pod\u8C03\u5EA6\u5230\u8BE5\u8282\u70B9\uFF0C\u9664\u975E\u6CA1\u6709\u5176\u4ED6\u8282\u70B9\u53EF\u8C03\u7528\uFF0C\u8BF4\u767D\u4E86\u5C31\u662F\u5907\u80CExd.)</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">tolerationSeconds</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">6000</span><span style="color:#393A34;">			</span><span style="color:#A0ADA0;"># \u7528\u4E8E\u5F53\u67D0\u4E2Apod\u8FD0\u884C\u6240\u5728\u7684\u8282\u70B9\u53D8\u6210unready\u6216\u8005unreachable\u72B6\u6001\u65F6\uFF0Ck8s\u53EF\u4EE5\u7B49\u5F85\u8BE5pod\u88AB\u8C03\u5EA6\u5230\u5176\u4ED6\u8282\u70B9\u7684\u6700\u957F\u7B49\u5F85\u65F6\u95F4\uFF0C\u4E00\u822C\u4E0Eeffect\u7684NoExecute\u5171\u540C\u4F7F\u7528</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">strategy</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 				</span><span style="color:#A0ADA0;"># \u7B56\u7565</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">type</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">RollingUpdate</span><span style="color:#393A34;"> 		</span><span style="color:#A0ADA0;"># \u6EDA\u52A8\u66F4\u65B0\u7B56\u7565</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">rollingUpdate</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 				</span><span style="color:#A0ADA0;"># \u6EDA\u52A8\u66F4\u65B0</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">maxSurge</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">30%</span><span style="color:#393A34;"> 				</span><span style="color:#A0ADA0;"># \u6700\u5927\u989D\u5916\u53EF\u4EE5\u5B58\u5728\u7684\u526F\u672C\u6570\uFF0C\u53EF\u4EE5\u4E3A\u767E\u5206\u6BD4\uFF0C\u4E5F\u53EF\u4EE5\u4E3A\u6574\u6570</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">maxUn available</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">30%</span><span style="color:#393A34;">			 </span><span style="color:#A0ADA0;"># \u6700\u5927\u4E0D\u53EF\u7528\u72B6\u6001\u7684 Pod \u7684\u6700\u5927\u503C\uFF0C\u53EF\u4EE5\u4E3A\u767E\u5206\u6BD4\uFF0C\u4E5F\u53EF\u4EE5\u4E3A\u6574\u6570</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">selector</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u9009\u62E9\u5668\uFF0C\u901A\u8FC7\u5B83\u6307\u5B9A\u8BE5\u63A7\u5236\u5668\u7BA1\u7406\u54EA\u4E9Bpod</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">matchLabels</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># Labels\u5339\u914D\u89C4\u5219</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">app</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nginx-pod</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">matchExpressions</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 					</span><span style="color:#A0ADA0;">#  Expressions\u5339\u914D\u89C4\u5219</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#2F8A89;">key</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">app</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">operator</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">In</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">values</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">nginx-pod</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">template</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u6A21\u677F\uFF0C\u5F53\u526F\u672C\u6570\u91CF\u4E0D\u8DB3\u65F6\uFF0C\u4F1A\u6839\u636E\u4E0B\u9762\u7684\u6A21\u677F\u521B\u5EFApod\u526F\u672C</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">labels</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">app</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">nginx-podspec</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">containers</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nginx</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">image</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">nginx:1.17.1ports</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">ports</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">containerPort</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">80</span></span>
<span class="line"></span></code></pre></div><h3 id="_3-3-hpa\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" tabindex="-1">3.3.HPA\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6 <a class="header-anchor" href="#_3-3-hpa\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">autoscaling/v1</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># hpa\u652F\u6301\u7684\u7248\u672C\u53F7</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">HorizontalPodAutoscaler</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u7C7B\u578B\u4E3Ahpa</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">									</span><span style="color:#758575;"># \u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">hpa-nginx</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># hpa\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">namespace</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">dev</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u6240\u5728\u7684\u547D\u540D\u7A7A\u95F4</span></span>
<span class="line"><span style="color:#429988;">spec</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">										</span><span style="color:#758575;"># \u5C5E\u6027</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">minReplicas</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#DBD7CA;">								</span><span style="color:#758575;"># \u6700\u5C11\u5B58\u6D3B\u7684pod\u6570\u91CF</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">maxReplicas</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">10</span><span style="color:#DBD7CA;">								</span><span style="color:#758575;"># \u6700\u591A\u5B58\u6D3B\u7684pod\u6570\u91CF</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">targetCPUUtilizationPercentage</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">85</span><span style="color:#DBD7CA;">	</span><span style="color:#758575;"># \u5F53CPU\u4F7F\u7528\u7387\u8FBE\u5230\u591A\u5C11\u6307\u6807\u65F6\u89E6\u53D1\u89C4\u5219\uFF0C\u8FD9\u91CC\u768485\u8868\u793A85%\uFF0C\u65B9\u4FBF\u6D4B\u8BD5\uFF0C\u5B9E\u9645\u751F\u4EA7\u4E2D\u91C7\u752880-85%</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">scaleTargetRef</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">								</span><span style="color:#758575;"># \u58F0\u660E\u5BF9\u90A3\u4E2A\u8D44\u6E90\u8FDB\u884C\u63A7\u5236</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">apps/v1</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u8D44\u6E90\u7684api\u7248\u672C</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">Deployment</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u8D44\u6E90\u7C7B\u578B</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">deployment-nginx</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u8D44\u6E90\u540D\u79F0</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">autoscaling/v1</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># hpa\u652F\u6301\u7684\u7248\u672C\u53F7</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">HorizontalPodAutoscaler</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u7C7B\u578B\u4E3Ahpa</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">									</span><span style="color:#A0ADA0;"># \u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">hpa-nginx</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># hpa\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">namespace</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">dev</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u6240\u5728\u7684\u547D\u540D\u7A7A\u95F4</span></span>
<span class="line"><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">										</span><span style="color:#A0ADA0;"># \u5C5E\u6027</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">minReplicas</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#393A34;">								</span><span style="color:#A0ADA0;"># \u6700\u5C11\u5B58\u6D3B\u7684pod\u6570\u91CF</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">maxReplicas</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">10</span><span style="color:#393A34;">								</span><span style="color:#A0ADA0;"># \u6700\u591A\u5B58\u6D3B\u7684pod\u6570\u91CF</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">targetCPUUtilizationPercentage</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">85</span><span style="color:#393A34;">	</span><span style="color:#A0ADA0;"># \u5F53CPU\u4F7F\u7528\u7387\u8FBE\u5230\u591A\u5C11\u6307\u6807\u65F6\u89E6\u53D1\u89C4\u5219\uFF0C\u8FD9\u91CC\u768485\u8868\u793A85%\uFF0C\u65B9\u4FBF\u6D4B\u8BD5\uFF0C\u5B9E\u9645\u751F\u4EA7\u4E2D\u91C7\u752880-85%</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">scaleTargetRef</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">								</span><span style="color:#A0ADA0;"># \u58F0\u660E\u5BF9\u90A3\u4E2A\u8D44\u6E90\u8FDB\u884C\u63A7\u5236</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">apps/v1</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u8D44\u6E90\u7684api\u7248\u672C</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">Deployment</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u8D44\u6E90\u7C7B\u578B</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">deployment-nginx</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u8D44\u6E90\u540D\u79F0</span></span>
<span class="line"></span></code></pre></div><h3 id="_3-4-daemonset\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" tabindex="-1">3.4.DaemonSet\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6 <a class="header-anchor" href="#_3-4-daemonset\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#429988;">apiversion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">apps/v1</span><span style="color:#DBD7CA;"> 				 </span><span style="color:#758575;"># \u7248\u672C\u53F7</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">DaemonSet</span><span style="color:#DBD7CA;"> 					</span><span style="color:#758575;"># \u7C7B\u578B</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 						    </span><span style="color:#758575;"># \u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 						    </span><span style="color:#758575;"># \u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">namespace</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u6240\u5C5E\u547D\u540D\u7A7A\u95F4</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">labels</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 							</span><span style="color:#758575;"># \u6807\u7B7E</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">controller</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">daemonset</span></span>
<span class="line"><span style="color:#429988;">spec</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">								</span><span style="color:#758575;"># \u5C5E\u6027</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">revisionHistoryLimit</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">3</span><span style="color:#DBD7CA;">		      </span><span style="color:#758575;"># \u4FDD\u7559\u5386\u53F2\u7248\u672C</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">updateStrategy</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">					 </span><span style="color:#758575;"># \u66F4\u65B0\u7B56\u7565</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">type</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">RollingUpdate</span><span style="color:#DBD7CA;"> 			  </span><span style="color:#758575;"># \u6EDA\u52A8\u66F4\u65B0</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">rollingUpdate</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 					  </span><span style="color:#758575;"># \u6EDA\u52A8\u66F4\u65B0\u7B56\u7565</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">maxUnavailable</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#DBD7CA;"> 			   </span><span style="color:#758575;"># \u6700\u5927\u4E0D\u53EF\u7528\u72B6\u6001\u7684 Pod\u7684\u6700\u5927\u503C\uFF0C\u53EF\u4EE5\u4E3A\u767E\u5206\u6BD4\uFF0C\u4E5F\u53EF\u4EE5\u4E3A\u6574\u6570</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">selector</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">						  </span><span style="color:#758575;"># \u9009\u62E9\u5668,\u901A\u8FC7\u5B83\u6307\u5B9A\u8BE5\u63A7\u5236\u5668\u7BA1\u7406\u54EA\u4E9Bpod</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">matchLabels</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">					   </span><span style="color:#758575;"># Labels\u5339\u914D\u89C4\u5219</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">app</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">nginx-pod</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">matchExpressions</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 					</span><span style="color:#758575;"># Expressions\u5339\u914D\u89C4\u5219</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#429988;">key</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">app</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">operator</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">In</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">values</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#C98A7D;">nginx-pod</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">]}</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">template</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 							</span><span style="color:#758575;"># \u6A21\u677F\uFF0C\u5F53\u526F\u672C\u6570\u91CF\u4E0D\u8DB3\u65F6\uFF0C\u4F1A\u6839\u636E\u4E0B\u9762\u7684\u6A21\u677F\u521B\u5EFApod\u526F\u672C</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">	  </span><span style="color:#429988;">labels</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">		</span><span style="color:#429988;">app</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">nginx-pod</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">spec</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">	  </span><span style="color:#429988;">containers</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">	  </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">nginx</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">image</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">nginx:1.17.1</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">ports</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">containerPort</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">80</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#2F8A89;">apiversion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">apps/v1</span><span style="color:#393A34;"> 				 </span><span style="color:#A0ADA0;"># \u7248\u672C\u53F7</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">DaemonSet</span><span style="color:#393A34;"> 					</span><span style="color:#A0ADA0;"># \u7C7B\u578B</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 						    </span><span style="color:#A0ADA0;"># \u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 						    </span><span style="color:#A0ADA0;"># \u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">namespace</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u6240\u5C5E\u547D\u540D\u7A7A\u95F4</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">labels</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 							</span><span style="color:#A0ADA0;"># \u6807\u7B7E</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">controller</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">daemonset</span></span>
<span class="line"><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">								</span><span style="color:#A0ADA0;"># \u5C5E\u6027</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">revisionHistoryLimit</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">3</span><span style="color:#393A34;">		      </span><span style="color:#A0ADA0;"># \u4FDD\u7559\u5386\u53F2\u7248\u672C</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">updateStrategy</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">					 </span><span style="color:#A0ADA0;"># \u66F4\u65B0\u7B56\u7565</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">type</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">RollingUpdate</span><span style="color:#393A34;"> 			  </span><span style="color:#A0ADA0;"># \u6EDA\u52A8\u66F4\u65B0</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">rollingUpdate</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 					  </span><span style="color:#A0ADA0;"># \u6EDA\u52A8\u66F4\u65B0\u7B56\u7565</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">maxUnavailable</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#393A34;"> 			   </span><span style="color:#A0ADA0;"># \u6700\u5927\u4E0D\u53EF\u7528\u72B6\u6001\u7684 Pod\u7684\u6700\u5927\u503C\uFF0C\u53EF\u4EE5\u4E3A\u767E\u5206\u6BD4\uFF0C\u4E5F\u53EF\u4EE5\u4E3A\u6574\u6570</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">selector</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">						  </span><span style="color:#A0ADA0;"># \u9009\u62E9\u5668,\u901A\u8FC7\u5B83\u6307\u5B9A\u8BE5\u63A7\u5236\u5668\u7BA1\u7406\u54EA\u4E9Bpod</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">matchLabels</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">					   </span><span style="color:#A0ADA0;"># Labels\u5339\u914D\u89C4\u5219</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">app</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nginx-pod</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">matchExpressions</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 					</span><span style="color:#A0ADA0;"># Expressions\u5339\u914D\u89C4\u5219</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#2F8A89;">key</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">app</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">operator</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">In</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">values</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">nginx-pod</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">]}</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">template</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 							</span><span style="color:#A0ADA0;"># \u6A21\u677F\uFF0C\u5F53\u526F\u672C\u6570\u91CF\u4E0D\u8DB3\u65F6\uFF0C\u4F1A\u6839\u636E\u4E0B\u9762\u7684\u6A21\u677F\u521B\u5EFApod\u526F\u672C</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">	  </span><span style="color:#2F8A89;">labels</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#2F8A89;">app</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nginx-pod</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">	  </span><span style="color:#2F8A89;">containers</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">	  </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nginx</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">image</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nginx:1.17.1</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">ports</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">containerPort</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">80</span></span>
<span class="line"></span></code></pre></div><h3 id="_3-5-job\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" tabindex="-1">3.5.Job\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6 <a class="header-anchor" href="#_3-5-job\u63A7\u5236\u5668\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">batch/v1</span><span style="color:#DBD7CA;"> 				 </span><span style="color:#758575;"># \u7248\u672C\u53F7</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">Job</span><span style="color:#DBD7CA;"> 							</span><span style="color:#758575;"># \u7C7B\u578B</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 							</span><span style="color:#758575;"># \u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 							</span><span style="color:#758575;"># \u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">namespace</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 						</span><span style="color:#758575;"># \u6240\u5C5E\u547D\u540D\u7A7A\u95F4</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">labels</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u6807\u7B7E</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">controller</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">job</span></span>
<span class="line"><span style="color:#429988;">spec</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 							    </span><span style="color:#758575;"># \u8BE6\u60C5\u63CF\u8FF0</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">completions</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u6307\u5B9Ajob\u6210\u529F\u8FD0\u884C\u9700\u8981Pods\u7684\u6B21\u6570\uFF0C\u9ED8\u8BA4\u503C:1</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">parallelism</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u6307\u5B9Ajob\u5728\u4EFB\u4E00\u65F6\u523B\u5E94\u8BE5\u5E76\u53D1\u8FD0\u884CPods\u7684\u6570\u91CF\uFF0C\u9ED8\u8BA4\u503C:1</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">activeDeadlineSeconds</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">30</span><span style="color:#DBD7CA;"> 		 </span><span style="color:#758575;"># \u6307\u5B9Ajob\u53EF\u8FD0\u884C\u7684\u65F6\u95F4\u671F\u9650\uFF0C\u8D85\u8FC7\u65F6\u95F4\u8FD8\u672A\u7ED3\u675F\uFF0C\u7CFB\u7EDF\u5C06\u4F1A\u5C1D\u8BD5\u8FDB\u884C\u7EC8\u6B62\u3002</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">backoffLimit</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">6</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u6307\u5B9Ajob\u5931\u8D25\u540E\u8FDB\u884C\u91CD\u8BD5\u7684\u6B21\u6570\uFF0C\u9ED8\u8BA4\u662F6</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">manualSelector</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">true</span><span style="color:#DBD7CA;"> 				</span><span style="color:#758575;"># \u662F\u5426\u53EF\u4EE5\u4F7F\u7528selector\u9009\u62E9\u5668\u9009\u62E9pod\uFF0C\u9ED8\u8BA4\u662Ffalse</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">selector</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 						</span><span style="color:#758575;"># \u9009\u62E9\u5668,\u901A\u8FC7\u5B83\u6307\u5B9A\u8BE5\u63A7\u5236\u5668\u7BA1\u7406\u54EA\u4E9Bpod</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">matchLabels</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># Labels\u5339\u914D\u89C4\u5219</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">app</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">counter-pod</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">matchExpressions</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 				</span><span style="color:#758575;"># Expressions[\u5339\u914D\u89C4\u5219</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#429988;">key</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">app</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">operator</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">In</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">values</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">counter-pod</span><span style="color:#858585;">]}</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">template</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 						</span><span style="color:#758575;"># \u6A21\u677F,\u5F53\u526F\u672C\u6570\u91CF\u4E0D\u8DB3\u65F6,\u4F1A\u6839\u636E\u4E0B\u9762\u7684\u6A21\u677F\u521B\u5EFApod\u526F\u672C</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">	  </span><span style="color:#429988;">labels</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">		</span><span style="color:#429988;">app</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">counter-pod</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">spec</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">restartPolicy</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">Never</span><span style="color:#DBD7CA;"> 			</span><span style="color:#758575;"># \u91CD\u542F\u7B56\u7565\u53EA\u80FD\u8BBE\u7F6E\u4E3ANever\u6216\u8005OnFailure</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">containers</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">	  </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">counter</span></span>
<span class="line"><span style="color:#DBD7CA;">	    </span><span style="color:#429988;">image</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">busybox</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1.30</span></span>
<span class="line"><span style="color:#DBD7CA;">	    </span><span style="color:#429988;">command</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;bin/sh&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;-c&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;for i in 9 8 7 654 3 2 1; do echo $i;sleep 2;done&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">]</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">batch/v1</span><span style="color:#393A34;"> 				 </span><span style="color:#A0ADA0;"># \u7248\u672C\u53F7</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">Job</span><span style="color:#393A34;"> 							</span><span style="color:#A0ADA0;"># \u7C7B\u578B</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 							</span><span style="color:#A0ADA0;"># \u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 							</span><span style="color:#A0ADA0;"># \u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">namespace</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 						</span><span style="color:#A0ADA0;"># \u6240\u5C5E\u547D\u540D\u7A7A\u95F4</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">labels</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u6807\u7B7E</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">controller</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">job</span></span>
<span class="line"><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 							    </span><span style="color:#A0ADA0;"># \u8BE6\u60C5\u63CF\u8FF0</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">completions</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u6307\u5B9Ajob\u6210\u529F\u8FD0\u884C\u9700\u8981Pods\u7684\u6B21\u6570\uFF0C\u9ED8\u8BA4\u503C:1</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">parallelism</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u6307\u5B9Ajob\u5728\u4EFB\u4E00\u65F6\u523B\u5E94\u8BE5\u5E76\u53D1\u8FD0\u884CPods\u7684\u6570\u91CF\uFF0C\u9ED8\u8BA4\u503C:1</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">activeDeadlineSeconds</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">30</span><span style="color:#393A34;"> 		 </span><span style="color:#A0ADA0;"># \u6307\u5B9Ajob\u53EF\u8FD0\u884C\u7684\u65F6\u95F4\u671F\u9650\uFF0C\u8D85\u8FC7\u65F6\u95F4\u8FD8\u672A\u7ED3\u675F\uFF0C\u7CFB\u7EDF\u5C06\u4F1A\u5C1D\u8BD5\u8FDB\u884C\u7EC8\u6B62\u3002</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">backoffLimit</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">6</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u6307\u5B9Ajob\u5931\u8D25\u540E\u8FDB\u884C\u91CD\u8BD5\u7684\u6B21\u6570\uFF0C\u9ED8\u8BA4\u662F6</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">manualSelector</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">true</span><span style="color:#393A34;"> 				</span><span style="color:#A0ADA0;"># \u662F\u5426\u53EF\u4EE5\u4F7F\u7528selector\u9009\u62E9\u5668\u9009\u62E9pod\uFF0C\u9ED8\u8BA4\u662Ffalse</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">selector</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 						</span><span style="color:#A0ADA0;"># \u9009\u62E9\u5668,\u901A\u8FC7\u5B83\u6307\u5B9A\u8BE5\u63A7\u5236\u5668\u7BA1\u7406\u54EA\u4E9Bpod</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">matchLabels</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># Labels\u5339\u914D\u89C4\u5219</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">app</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">counter-pod</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">matchExpressions</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 				</span><span style="color:#A0ADA0;"># Expressions[\u5339\u914D\u89C4\u5219</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#2F8A89;">key</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">app</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">operator</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">In</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">values</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#393A34;"> </span><span style="color:#B56959;">counter-pod</span><span style="color:#8E8F8B;">]}</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">template</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 						</span><span style="color:#A0ADA0;"># \u6A21\u677F,\u5F53\u526F\u672C\u6570\u91CF\u4E0D\u8DB3\u65F6,\u4F1A\u6839\u636E\u4E0B\u9762\u7684\u6A21\u677F\u521B\u5EFApod\u526F\u672C</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">	  </span><span style="color:#2F8A89;">labels</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#2F8A89;">app</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">counter-pod</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">restartPolicy</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">Never</span><span style="color:#393A34;"> 			</span><span style="color:#A0ADA0;"># \u91CD\u542F\u7B56\u7565\u53EA\u80FD\u8BBE\u7F6E\u4E3ANever\u6216\u8005OnFailure</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">containers</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">	  </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">counter</span></span>
<span class="line"><span style="color:#393A34;">	    </span><span style="color:#2F8A89;">image</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">busybox</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1.30</span></span>
<span class="line"><span style="color:#393A34;">	    </span><span style="color:#2F8A89;">command</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;bin/sh&quot;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;-c&quot;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;for i in 9 8 7 654 3 2 1; do echo $i;sleep 2;done&quot;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">]</span></span>
<span class="line"></span></code></pre></div><h3 id="_3-6-cronjob\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" tabindex="-1">3.6.CronJob\u8D44\u6E90\u6E05\u5355\u6587\u4EF6 <a class="header-anchor" href="#_3-6-cronjob\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">batch/v1beta1</span><span style="color:#DBD7CA;"> 			 </span><span style="color:#758575;"># \u7248\u672C\u53F7</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">CronJob</span><span style="color:#DBD7CA;"> 						</span><span style="color:#758575;"># \u7C7B\u578B</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 						    </span><span style="color:#758575;"># \u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 							</span><span style="color:#758575;"># \u540D\u79F0</span></span>
<span class="line"><span style="color:#429988;">namespace</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 						</span><span style="color:#758575;"># \u6240\u5C5E\u547D\u540D\u7A7A\u95F4</span></span>
<span class="line"><span style="color:#429988;">labels</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u6807\u7B7E</span></span>
<span class="line"><span style="color:#DBD7CA;"> </span><span style="color:#429988;">controller</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">cronjob</span></span>
<span class="line"><span style="color:#429988;">spec</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">								</span><span style="color:#758575;"># \u5C5E\u6027</span></span>
<span class="line"><span style="color:#429988;">schedule</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 						</span><span style="color:#758575;"># cron\u683C\u5F0F\u7684\u4F5C\u4E1A\u8C03\u5EA6\u8FD0\u884C\u65F6\u95F4\u70B9,\u7528\u4E8E\u63A7\u5236\u4EFB\u52A1\u5728\u4EC0\u4E48\u65F6\u95F4\u6267\u884C</span></span>
<span class="line"><span style="color:#429988;">concurrencyPolicy</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 				</span><span style="color:#758575;"># \u5E76\u53D1\u6267\u884C\u7B56\u7565\uFF0C\u7528\u4E8E\u5B9A\u4E49\u524D\u4E00\u6B21\u4F5C\u4E1A\u8FD0\u884C\u5C1A\u672A\u5B8C\u6210\u65F6\u662F\u5426\u8FD0\u884C\u4E0B\u4E00\u6B21\u7684\u4F5C\u4E1A</span></span>
<span class="line"><span style="color:#429988;">failedJobHistoryLimit</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 			</span><span style="color:#758575;"># \u4E3A\u5931\u8D25\u7684\u4EFB\u52A1\u6267\u884C\u4FDD\u7559\u7684\u5386\u53F2\u8BB0\u5F55\u6570\uFF0C\u9ED8\u8BA4\u4E3A1</span></span>
<span class="line"><span style="color:#429988;">successfulJobHistoryLimit</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 		</span><span style="color:#758575;"># \u4E3A\u6210\u529F\u7684\u4EFB\u52A1\u6267\u884C\u4FDD\u7559\u7684\u5386\u53F2\u8BB0\u5F55\u6570\uFF0C\u9ED8\u8BA4\u4E3A3</span></span>
<span class="line"><span style="color:#429988;">startingDeadlineSeconds</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 			</span><span style="color:#758575;"># \u542F\u52A8\u4F5C\u4E1A\u9519\u8BEF\u7684\u8D85\u65F6\u65F6\u957F</span></span>
<span class="line"><span style="color:#429988;">jobTemplate</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 						</span><span style="color:#758575;"># job\u63A7\u5236\u5668\u6A21\u677F\uFF0C\u7528\u4E8E\u4E3Acronjob\u63A7\u5236\u5668\u751F\u6210job\u5BF9\u8C61\uFF0C\u4E0B\u9762\u5176\u5B9E\u5C31\u662Fjob\u7684\u5B9A\u4E49</span></span>
<span class="line"><span style="color:#DBD7CA;"> </span><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;"> </span><span style="color:#429988;">spec</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#429988;">completions</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#429988;">parallelism</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#429988;">activeDeadlineSeconds</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">30</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#429988;">backoffLimit</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">6</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#429988;">manualSelector</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">true</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#429988;">selector</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#429988;">matchLabels</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">       </span><span style="color:#429988;">app</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">counter-pod</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#429988;">matchExpressions</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u89C4\u5219</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">key</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">app</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">operator</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">In</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">values</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#C98A7D;">counter-pod</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">]</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">	  </span><span style="color:#429988;">template</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">		</span><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">		  </span><span style="color:#429988;">labels</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">			</span><span style="color:#429988;">app</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">counter-pod</span></span>
<span class="line"><span style="color:#DBD7CA;">		</span><span style="color:#429988;">spec</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">		  </span><span style="color:#429988;">restartPolicy</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">Never</span></span>
<span class="line"><span style="color:#DBD7CA;">		  </span><span style="color:#429988;">containers</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">		  </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">counter</span></span>
<span class="line"><span style="color:#DBD7CA;">		    </span><span style="color:#429988;">image</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">busybox</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1.30</span></span>
<span class="line"><span style="color:#DBD7CA;">		    </span><span style="color:#429988;">command</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;bin/sh&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;-c&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot; for i in 98 7 654 3 2 1; do echo $i;sleep 2 ;done&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">]</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">batch/v1beta1</span><span style="color:#393A34;"> 			 </span><span style="color:#A0ADA0;"># \u7248\u672C\u53F7</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">CronJob</span><span style="color:#393A34;"> 						</span><span style="color:#A0ADA0;"># \u7C7B\u578B</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 						    </span><span style="color:#A0ADA0;"># \u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 							</span><span style="color:#A0ADA0;"># \u540D\u79F0</span></span>
<span class="line"><span style="color:#2F8A89;">namespace</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 						</span><span style="color:#A0ADA0;"># \u6240\u5C5E\u547D\u540D\u7A7A\u95F4</span></span>
<span class="line"><span style="color:#2F8A89;">labels</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u6807\u7B7E</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#2F8A89;">controller</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">cronjob</span></span>
<span class="line"><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">								</span><span style="color:#A0ADA0;"># \u5C5E\u6027</span></span>
<span class="line"><span style="color:#2F8A89;">schedule</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 						</span><span style="color:#A0ADA0;"># cron\u683C\u5F0F\u7684\u4F5C\u4E1A\u8C03\u5EA6\u8FD0\u884C\u65F6\u95F4\u70B9,\u7528\u4E8E\u63A7\u5236\u4EFB\u52A1\u5728\u4EC0\u4E48\u65F6\u95F4\u6267\u884C</span></span>
<span class="line"><span style="color:#2F8A89;">concurrencyPolicy</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 				</span><span style="color:#A0ADA0;"># \u5E76\u53D1\u6267\u884C\u7B56\u7565\uFF0C\u7528\u4E8E\u5B9A\u4E49\u524D\u4E00\u6B21\u4F5C\u4E1A\u8FD0\u884C\u5C1A\u672A\u5B8C\u6210\u65F6\u662F\u5426\u8FD0\u884C\u4E0B\u4E00\u6B21\u7684\u4F5C\u4E1A</span></span>
<span class="line"><span style="color:#2F8A89;">failedJobHistoryLimit</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 			</span><span style="color:#A0ADA0;"># \u4E3A\u5931\u8D25\u7684\u4EFB\u52A1\u6267\u884C\u4FDD\u7559\u7684\u5386\u53F2\u8BB0\u5F55\u6570\uFF0C\u9ED8\u8BA4\u4E3A1</span></span>
<span class="line"><span style="color:#2F8A89;">successfulJobHistoryLimit</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 		</span><span style="color:#A0ADA0;"># \u4E3A\u6210\u529F\u7684\u4EFB\u52A1\u6267\u884C\u4FDD\u7559\u7684\u5386\u53F2\u8BB0\u5F55\u6570\uFF0C\u9ED8\u8BA4\u4E3A3</span></span>
<span class="line"><span style="color:#2F8A89;">startingDeadlineSeconds</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 			</span><span style="color:#A0ADA0;"># \u542F\u52A8\u4F5C\u4E1A\u9519\u8BEF\u7684\u8D85\u65F6\u65F6\u957F</span></span>
<span class="line"><span style="color:#2F8A89;">jobTemplate</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 						</span><span style="color:#A0ADA0;"># job\u63A7\u5236\u5668\u6A21\u677F\uFF0C\u7528\u4E8E\u4E3Acronjob\u63A7\u5236\u5668\u751F\u6210job\u5BF9\u8C61\uFF0C\u4E0B\u9762\u5176\u5B9E\u5C31\u662Fjob\u7684\u5B9A\u4E49</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;"> </span><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#2F8A89;">completions</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#2F8A89;">parallelism</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#2F8A89;">activeDeadlineSeconds</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">30</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#2F8A89;">backoffLimit</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">6</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#2F8A89;">manualSelector</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">true</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#2F8A89;">selector</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#2F8A89;">matchLabels</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">       </span><span style="color:#2F8A89;">app</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">counter-pod</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#2F8A89;">matchExpressions</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u89C4\u5219</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">key</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">app</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">operator</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">In</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">values</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">counter-pod</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">	  </span><span style="color:#2F8A89;">template</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">		  </span><span style="color:#2F8A89;">labels</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">			</span><span style="color:#2F8A89;">app</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">counter-pod</span></span>
<span class="line"><span style="color:#393A34;">		</span><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">		  </span><span style="color:#2F8A89;">restartPolicy</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">Never</span></span>
<span class="line"><span style="color:#393A34;">		  </span><span style="color:#2F8A89;">containers</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">		  </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">counter</span></span>
<span class="line"><span style="color:#393A34;">		    </span><span style="color:#2F8A89;">image</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">busybox</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1.30</span></span>
<span class="line"><span style="color:#393A34;">		    </span><span style="color:#2F8A89;">command</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;bin/sh&quot;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;-c&quot;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot; for i in 98 7 654 3 2 1; do echo $i;sleep 2 ;done&quot;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">]</span></span>
<span class="line"></span></code></pre></div><h3 id="_3-7-statefulset\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" tabindex="-1">3.7.StatefulSet\u8D44\u6E90\u6E05\u5355\u6587\u4EF6 <a class="header-anchor" href="#_3-7-statefulset\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">apps/v1</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># api\u7248\u672C</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">StatefulSet</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u8D44\u6E90\u7C7B\u578B</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">									</span><span style="color:#758575;"># \u5B9A\u4E49\u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">remote-storage</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u8D44\u6E90\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">namespace</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">kube-system</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u6240\u5728\u7684namespace</span></span>
<span class="line"><span style="color:#429988;">spec</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">									</span><span style="color:#758575;"># \u5B9A\u4E49\u5C5E\u6027</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">selector</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">								</span><span style="color:#758575;"># \u5B9A\u4E49\u6807\u7B7E\u9009\u62E9\u5668\uFF0C\u5173\u8054pod\u7684\u6807\u7B7E</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">matchLabels</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">					</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">app</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">remote</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">serviceName</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;remote-storage&quot;</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u5B9A\u4E49serviceName\uFF0C\u8FD9\u4E2AserviceName\u5C06\u4F1A\u6210\u4E3A\u4E3B\u673A\u540D</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">replicas</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#DBD7CA;">								</span><span style="color:#758575;"># \u526F\u672C\u6570</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">template</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">									</span><span style="color:#758575;"># pod\u6A21\u677F\u4FE1\u606F</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">labels</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">app</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">remote</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">spec</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">containers</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">remote-storage</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">image</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">remote_storage_adapter:v2</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">ports</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">containerPort</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">9201</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">remote</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">apps/v1</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># api\u7248\u672C</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">StatefulSet</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u8D44\u6E90\u7C7B\u578B</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">									</span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">remote-storage</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u8D44\u6E90\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">namespace</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">kube-system</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u6240\u5728\u7684namespace</span></span>
<span class="line"><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">									</span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u5C5E\u6027</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">selector</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">								</span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u6807\u7B7E\u9009\u62E9\u5668\uFF0C\u5173\u8054pod\u7684\u6807\u7B7E</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">matchLabels</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">					</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">app</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">remote</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">serviceName</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;remote-storage&quot;</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u5B9A\u4E49serviceName\uFF0C\u8FD9\u4E2AserviceName\u5C06\u4F1A\u6210\u4E3A\u4E3B\u673A\u540D</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">replicas</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#393A34;">								</span><span style="color:#A0ADA0;"># \u526F\u672C\u6570</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">template</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">									</span><span style="color:#A0ADA0;"># pod\u6A21\u677F\u4FE1\u606F</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">labels</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">app</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">remote</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">containers</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">remote-storage</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">image</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">remote_storage_adapter:v2</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">ports</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">containerPort</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">9201</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">remote</span></span>
<span class="line"></span></code></pre></div><h2 id="_4-\u670D\u52A1\u53D1\u73B0\u8D44\u6E90" tabindex="-1">4.\u670D\u52A1\u53D1\u73B0\u8D44\u6E90 <a class="header-anchor" href="#_4-\u670D\u52A1\u53D1\u73B0\u8D44\u6E90" aria-hidden="true">#</a></h2><h3 id="_4-1-service\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" tabindex="-1">4.1.service\u8D44\u6E90\u6E05\u5355\u6587\u4EF6 <a class="header-anchor" href="#_4-1-service\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">Service</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u8D44\u6E90\u7C7B\u578B</span></span>
<span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">v1</span><span style="color:#DBD7CA;"> 							</span><span style="color:#758575;"># \u8D44\u6E90\u7248\u672C</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 								</span><span style="color:#758575;"># \u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">service</span><span style="color:#DBD7CA;"> 						</span><span style="color:#758575;"># \u8D44\u6E90\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">namespace</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">dev</span><span style="color:#DBD7CA;"> 						</span><span style="color:#758575;"># \u6240\u5728\u7684\u547D\u540D\u7A7A\u95F4</span></span>
<span class="line"><span style="color:#429988;">spec</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 									</span><span style="color:#758575;"># \u5C5E\u6027</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">selector</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 							</span><span style="color:#758575;"># \u6807\u7B7E\u9009\u62E9\u5668\uFF0C\u7528\u4E8E\u786E\u5B9A\u5F53\u524Dservice\u4EE3\u7406\u54EA\u4E9Bpod</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">app</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">nginx</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># pod\u7684\u6807\u7B7E</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">type</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 								</span><span style="color:#758575;"># Service\u7C7B\u578B\uFF0C \u6307\u5B9Aservice\u7684\u8BBF\u95EE\u65B9\u5F0F</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">clusterIP</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u865A\u62DF\u670D\u52A1\u7684ip\u5730\u5740\uFF0C\u5373service\u5730\u5740</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">sessionAffinity</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 						</span><span style="color:#758575;"># session\u4EB2\u548C\u6027\uFF0C\u652F\u6301ClientIP\u3001 None\u4E24\u4E2A\u9009\u9879</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">ports</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> 								</span><span style="color:#758575;"># \u7AEF\u53E3\u4FE1\u606F </span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">protocol</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">TCP</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">port</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">3017</span><span style="color:#DBD7CA;"> 							</span><span style="color:#758575;"># service\u7AEF\u53E3</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">targetPort</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">5003</span><span style="color:#DBD7CA;">					 </span><span style="color:#758575;"># pod\u7AEF\u53E3</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">nodePort</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">31122</span><span style="color:#DBD7CA;"> 					</span><span style="color:#758575;"># \u6620\u5C04\u7684\u4E3B\u673A\u7AEF\u53E3</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">Service</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u8D44\u6E90\u7C7B\u578B</span></span>
<span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">v1</span><span style="color:#393A34;"> 							</span><span style="color:#A0ADA0;"># \u8D44\u6E90\u7248\u672C</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 								</span><span style="color:#A0ADA0;"># \u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">service</span><span style="color:#393A34;"> 						</span><span style="color:#A0ADA0;"># \u8D44\u6E90\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">namespace</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">dev</span><span style="color:#393A34;"> 						</span><span style="color:#A0ADA0;"># \u6240\u5728\u7684\u547D\u540D\u7A7A\u95F4</span></span>
<span class="line"><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 									</span><span style="color:#A0ADA0;"># \u5C5E\u6027</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">selector</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 							</span><span style="color:#A0ADA0;"># \u6807\u7B7E\u9009\u62E9\u5668\uFF0C\u7528\u4E8E\u786E\u5B9A\u5F53\u524Dservice\u4EE3\u7406\u54EA\u4E9Bpod</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">app</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nginx</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># pod\u7684\u6807\u7B7E</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">type</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 								</span><span style="color:#A0ADA0;"># Service\u7C7B\u578B\uFF0C \u6307\u5B9Aservice\u7684\u8BBF\u95EE\u65B9\u5F0F</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">clusterIP</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u865A\u62DF\u670D\u52A1\u7684ip\u5730\u5740\uFF0C\u5373service\u5730\u5740</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">sessionAffinity</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 						</span><span style="color:#A0ADA0;"># session\u4EB2\u548C\u6027\uFF0C\u652F\u6301ClientIP\u3001 None\u4E24\u4E2A\u9009\u9879</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">ports</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> 								</span><span style="color:#A0ADA0;"># \u7AEF\u53E3\u4FE1\u606F </span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">protocol</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">TCP</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">port</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">3017</span><span style="color:#393A34;"> 							</span><span style="color:#A0ADA0;"># service\u7AEF\u53E3</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">targetPort</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">5003</span><span style="color:#393A34;">					 </span><span style="color:#A0ADA0;"># pod\u7AEF\u53E3</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">nodePort</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">31122</span><span style="color:#393A34;"> 					</span><span style="color:#A0ADA0;"># \u6620\u5C04\u7684\u4E3B\u673A\u7AEF\u53E3</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h3 id="_4-2-ingress\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" tabindex="-1">4.2.ingress\u8D44\u6E90\u6E05\u5355\u6587\u4EF6 <a class="header-anchor" href="#_4-2-ingress\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">extensions/v1beta1</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">Ingress</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">ingress-https</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">namespace</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">dev</span></span>
<span class="line"><span style="color:#429988;">spec</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">ingressClassName</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">	</span><span style="color:#C98A7D;">&lt;string&gt;</span><span style="color:#DBD7CA;">			</span><span style="color:#758575;"># \u5B9A\u4E49\u4F7F\u7528\u54EA\u79CD\u7C7B\u578B\u7684ingress controllers</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">tls</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">								</span><span style="color:#758575;"># \u5B9A\u4E49\u57DF\u540D\u7ED1\u5B9A\u8BC1\u4E66\u914D\u7F6E\uFF0C\u53EA\u6709\u901A\u8FC7https\u8BBF\u95EE\u7684\u65B9\u5F0F\u624D\u9700\u8981\u914D\u7F6E</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">hosts</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u5B9A\u4E49\u7A0B\u5E8F\u7684\u57DF\u540D\u5217\u8868</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">nginx.jiangxl.com</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">tomcat.jiangxl.com</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">secretName</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">tls-secret</span><span style="color:#DBD7CA;">		</span><span style="color:#758575;"># \u5173\u8054\u5BF9\u5E94\u8BC1\u4E66\u7684secret\u8D44\u6E90</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">rules</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u5B9A\u4E49ingress\u89C4\u5219\uFF0C\u7528\u4E8E\u5173\u8054\u5BF9\u5E94\u7684service\u8D44\u6E90</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">host</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">nginx.jiangxl.com</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u5E94\u7528\u57DF\u540D</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">http</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">								</span><span style="color:#758575;"># http\u65B9\u5F0F</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">paths</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u5B9A\u4E49\u8981\u8BBF\u95EE\u7684\u8DEF\u5F84</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">path</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">/</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u5B9A\u4E49\u8BBF\u95EE\u8DEF\u5F84</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">backend</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u5173\u8054\u5BF9\u5E94\u7684service\u8D44\u6E90</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">serviceName</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">nginx-service</span><span style="color:#DBD7CA;">		</span><span style="color:#758575;"># \u5BF9\u5E94\u7684service\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">servicePort</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">80</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u5BF9\u5E94\u7684service\u7AEF\u53E3</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">extensions/v1beta1</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">Ingress</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">ingress-https</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">namespace</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">dev</span></span>
<span class="line"><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">ingressClassName</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">	</span><span style="color:#B56959;">&lt;string&gt;</span><span style="color:#393A34;">			</span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u4F7F\u7528\u54EA\u79CD\u7C7B\u578B\u7684ingress controllers</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">tls</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">								</span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u57DF\u540D\u7ED1\u5B9A\u8BC1\u4E66\u914D\u7F6E\uFF0C\u53EA\u6709\u901A\u8FC7https\u8BBF\u95EE\u7684\u65B9\u5F0F\u624D\u9700\u8981\u914D\u7F6E</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">hosts</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u7A0B\u5E8F\u7684\u57DF\u540D\u5217\u8868</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nginx.jiangxl.com</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#B56959;">tomcat.jiangxl.com</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">secretName</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">tls-secret</span><span style="color:#393A34;">		</span><span style="color:#A0ADA0;"># \u5173\u8054\u5BF9\u5E94\u8BC1\u4E66\u7684secret\u8D44\u6E90</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">rules</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u5B9A\u4E49ingress\u89C4\u5219\uFF0C\u7528\u4E8E\u5173\u8054\u5BF9\u5E94\u7684service\u8D44\u6E90</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">host</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nginx.jiangxl.com</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u5E94\u7528\u57DF\u540D</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">http</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">								</span><span style="color:#A0ADA0;"># http\u65B9\u5F0F</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">paths</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u8981\u8BBF\u95EE\u7684\u8DEF\u5F84</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">path</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">/</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u8BBF\u95EE\u8DEF\u5F84</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">backend</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u5173\u8054\u5BF9\u5E94\u7684service\u8D44\u6E90</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">serviceName</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nginx-service</span><span style="color:#393A34;">		</span><span style="color:#A0ADA0;"># \u5BF9\u5E94\u7684service\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">servicePort</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">80</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u5BF9\u5E94\u7684service\u7AEF\u53E3</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h2 id="_5-\u6570\u636E\u5B58\u50A8\u8D44\u6E90" tabindex="-1">5.\u6570\u636E\u5B58\u50A8\u8D44\u6E90 <a class="header-anchor" href="#_5-\u6570\u636E\u5B58\u50A8\u8D44\u6E90" aria-hidden="true">#</a></h2><h3 id="_5-1-emptydir\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" tabindex="-1">5.1.EmptyDir\u8D44\u6E90\u6E05\u5355\u6587\u4EF6 <a class="header-anchor" href="#_5-1-emptydir\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">v1</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">Pod</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">volume-emptydir</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">namespace</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">dev</span></span>
<span class="line"><span style="color:#429988;">spec</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">containers</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">								</span><span style="color:#758575;"># \u5B9A\u4E49\u5BB9\u5668\u5217\u8868</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">nginx</span><span style="color:#DBD7CA;">								</span><span style="color:#758575;"># \u5BB9\u5668\u7684\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">image</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">nginx:1.17.1</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u5BB9\u5668\u4F7F\u7528\u7684\u955C\u50CF\u7248\u672C</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">ports</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">									</span><span style="color:#758575;"># \u5B9A\u4E49\u7AEF\u53E3\u53F7</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">containerPort</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">80</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">volumeMounts</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u5B9A\u4E49volume\u6302\u8F7D\u4FE1\u606F\uFF0C\u5C06logs-volume\u6302\u8F7D\u5230\u5BB9\u5668\u7684/var/log/nginx\u8DEF\u5F84</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">logs-volume</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># volume\u7684\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">mountPath</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">/var/log/nginx</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u6302\u8F7D\u5230\u5BB9\u5668\u7684\u6307\u5B9A\u8DEF\u5F84</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">busybox</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">image</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">busybox:1.30</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">command</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#C98A7D;">&quot;/bin/sh&quot;</span><span style="color:#858585;">,</span><span style="color:#C98A7D;">&quot;-c&quot;</span><span style="color:#858585;">,</span><span style="color:#C98A7D;">&quot;tail -f /logs/access.log&quot;</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">		</span><span style="color:#758575;"># busybox\u521D\u59CB\u547D\u4EE4\uFF0C\u52A8\u6001\u8BFB\u53D6volume\u6302\u8F7D\u8DEF\u5F84\u4E0B\u7684\u6587\u4EF6\u5185\u5BB9</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">volumeMounts</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u5C06logs-volume\u6302\u8F7D\u5230\u5BB9\u5668\u7684/logs\u8DEF\u5F84</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">logs-volume</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">mountPath</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">/logs</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">volumes</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">								</span><span style="color:#758575;"># \u5B9A\u4E49volume\u4FE1\u606F</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">logs-volume</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># volume\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">emptyDir</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{}</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u4F7F\u7528\u7684volume\u7C7B\u578B\u4E3Aemptydir\uFF0C{}\u4E0D\u53EF\u7701\u7565</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">v1</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">Pod</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">volume-emptydir</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">namespace</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">dev</span></span>
<span class="line"><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">containers</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">								</span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u5BB9\u5668\u5217\u8868</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nginx</span><span style="color:#393A34;">								</span><span style="color:#A0ADA0;"># \u5BB9\u5668\u7684\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">image</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nginx:1.17.1</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u5BB9\u5668\u4F7F\u7528\u7684\u955C\u50CF\u7248\u672C</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">ports</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">									</span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u7AEF\u53E3\u53F7</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">containerPort</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">80</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">volumeMounts</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u5B9A\u4E49volume\u6302\u8F7D\u4FE1\u606F\uFF0C\u5C06logs-volume\u6302\u8F7D\u5230\u5BB9\u5668\u7684/var/log/nginx\u8DEF\u5F84</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">logs-volume</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># volume\u7684\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">mountPath</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">/var/log/nginx</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u6302\u8F7D\u5230\u5BB9\u5668\u7684\u6307\u5B9A\u8DEF\u5F84</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">busybox</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">image</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">busybox:1.30</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">command</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">&quot;/bin/sh&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#B56959;">&quot;-c&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#B56959;">&quot;tail -f /logs/access.log&quot;</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">		</span><span style="color:#A0ADA0;"># busybox\u521D\u59CB\u547D\u4EE4\uFF0C\u52A8\u6001\u8BFB\u53D6volume\u6302\u8F7D\u8DEF\u5F84\u4E0B\u7684\u6587\u4EF6\u5185\u5BB9</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">volumeMounts</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u5C06logs-volume\u6302\u8F7D\u5230\u5BB9\u5668\u7684/logs\u8DEF\u5F84</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">logs-volume</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">mountPath</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">/logs</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">volumes</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">								</span><span style="color:#A0ADA0;"># \u5B9A\u4E49volume\u4FE1\u606F</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">logs-volume</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># volume\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">emptyDir</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{}</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u4F7F\u7528\u7684volume\u7C7B\u578B\u4E3Aemptydir\uFF0C{}\u4E0D\u53EF\u7701\u7565</span></span>
<span class="line"></span></code></pre></div><h3 id="_5-2-hostpath\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" tabindex="-1">5.2.HostPath\u8D44\u6E90\u6E05\u5355\u6587\u4EF6 <a class="header-anchor" href="#_5-2-hostpath\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">[</span><span style="color:#C98A7D;">root@k8s-master ~/k8s_1.19_yaml</span><span style="color:#858585;">]</span><span style="color:#C98A7D;">\\# vim volume-hostpath.yaml</span><span style="color:#DBD7CA;"> </span></span>
<span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">v1</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">Pod</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">volume-hostpath</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">namespace</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">dev</span></span>
<span class="line"><span style="color:#429988;">spec</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">containers</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">nginx</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">image</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">nginx:1.17.1</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">ports</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">containerPort</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">80</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">volumeMounts</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">logs-volume</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">mountPath</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">/var/log/nginx</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">busybox</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">image</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">busybox:1.30</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">command</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#C98A7D;">&quot;/bin/sh&quot;</span><span style="color:#858585;">,</span><span style="color:#C98A7D;">&quot;-c&quot;</span><span style="color:#858585;">,</span><span style="color:#C98A7D;">&quot;tail -f /logs/access.log&quot;</span><span style="color:#858585;">]</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">volumeMounts</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u5B9A\u4E49\u6302\u8F7D\u90A3\u4E9Bvolume\u5377</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">logs-volume</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># volume\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">mountPath</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">/logs</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u6302\u8F7D\u5230\u5BB9\u5668\u7684\u54EA\u4E2A\u8DEF\u5F84</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">volumes</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">logs-volume</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">hostPath</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u6307\u5B9Avolume\u7C7B\u578B\u4E3AhostPath</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">path</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">/root/logs</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u6307\u5B9Anode\u8282\u70B9\u4E0A\u7684\u8DEF\u5F84\uFF0C\u4E3A\u5BB9\u5668\u63D0\u4F9B\u6302\u8F7D\u70B9</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">type</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">DirectoryOrCreate</span><span style="color:#DBD7CA;">			</span><span style="color:#758575;"># \u9488\u5BF9\u8DEF\u5F84\u505A\u5F97\u7C7B\u578B\uFF0CDirectoryOrCreate\u8868\u793A\u5F53\u8DEF\u5F84\u4E0D\u5B58\u5728\u65F6\u5219\u521B\u5EFA</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">root@k8s-master ~/k8s_1.19_yaml</span><span style="color:#8E8F8B;">]</span><span style="color:#B56959;">\\# vim volume-hostpath.yaml</span><span style="color:#393A34;"> </span></span>
<span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">v1</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">Pod</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">volume-hostpath</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">namespace</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">dev</span></span>
<span class="line"><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">containers</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nginx</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">image</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nginx:1.17.1</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">ports</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">containerPort</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">80</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">volumeMounts</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">logs-volume</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">mountPath</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">/var/log/nginx</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">busybox</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">image</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">busybox:1.30</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">command</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">&quot;/bin/sh&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#B56959;">&quot;-c&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#B56959;">&quot;tail -f /logs/access.log&quot;</span><span style="color:#8E8F8B;">]</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">volumeMounts</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u6302\u8F7D\u90A3\u4E9Bvolume\u5377</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">logs-volume</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># volume\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">mountPath</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">/logs</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u6302\u8F7D\u5230\u5BB9\u5668\u7684\u54EA\u4E2A\u8DEF\u5F84</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">volumes</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">logs-volume</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">hostPath</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u6307\u5B9Avolume\u7C7B\u578B\u4E3AhostPath</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">path</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">/root/logs</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u6307\u5B9Anode\u8282\u70B9\u4E0A\u7684\u8DEF\u5F84\uFF0C\u4E3A\u5BB9\u5668\u63D0\u4F9B\u6302\u8F7D\u70B9</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">type</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">DirectoryOrCreate</span><span style="color:#393A34;">			</span><span style="color:#A0ADA0;"># \u9488\u5BF9\u8DEF\u5F84\u505A\u5F97\u7C7B\u578B\uFF0CDirectoryOrCreate\u8868\u793A\u5F53\u8DEF\u5F84\u4E0D\u5B58\u5728\u65F6\u5219\u521B\u5EFA</span></span>
<span class="line"></span></code></pre></div><h3 id="_5-3-nfs\u7C7B\u578B\u7684\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" tabindex="-1">5.3.NFS\u7C7B\u578B\u7684\u8D44\u6E90\u6E05\u5355\u6587\u4EF6 <a class="header-anchor" href="#_5-3-nfs\u7C7B\u578B\u7684\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">v1</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">Pod</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">volume-nfs</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">namespace</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">dev</span></span>
<span class="line"><span style="color:#429988;">spec</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">containers</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">nginx</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">image</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">nginx:1.17.1</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">ports</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">containerPort</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">80</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">volumeMounts</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">logs-volume</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">mountPath</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">/var/log/nginx</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">busybox</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">image</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">busybox:1.30</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">command</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#C98A7D;">&quot;/bin/sh&quot;</span><span style="color:#858585;">,</span><span style="color:#C98A7D;">&quot;-c&quot;</span><span style="color:#858585;">,</span><span style="color:#C98A7D;">&quot;tail -f /logs/access.log&quot;</span><span style="color:#858585;">]</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">volumeMounts</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">logs-volume</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">mountPath</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">/logs</span><span style="color:#DBD7CA;">	</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">volumes</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">								</span><span style="color:#758575;"># \u5B9A\u4E49\u5B58\u50A8\u5377</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">logs-volume</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u6307\u5B9A\u5B58\u50A8\u5377\u7684\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">nfs</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">									</span><span style="color:#758575;"># \u7C7B\u578B\u4E3Anfs</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">server</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">192.168.81.210</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># nfs\u670D\u52A1\u5668\u5730\u5740</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">path</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">/data/k8s_data</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># nfs\u63D0\u4F9B\u7684\u5171\u4EAB\u8DEF\u5F84</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">v1</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">Pod</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">volume-nfs</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">namespace</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">dev</span></span>
<span class="line"><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">containers</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nginx</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">image</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nginx:1.17.1</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">ports</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">containerPort</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">80</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">volumeMounts</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">logs-volume</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">mountPath</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">/var/log/nginx</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">busybox</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">image</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">busybox:1.30</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">command</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">&quot;/bin/sh&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#B56959;">&quot;-c&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#B56959;">&quot;tail -f /logs/access.log&quot;</span><span style="color:#8E8F8B;">]</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">volumeMounts</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">logs-volume</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">mountPath</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">/logs</span><span style="color:#393A34;">	</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">volumes</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">								</span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u5B58\u50A8\u5377</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">logs-volume</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u6307\u5B9A\u5B58\u50A8\u5377\u7684\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">nfs</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">									</span><span style="color:#A0ADA0;"># \u7C7B\u578B\u4E3Anfs</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">server</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">192.168.81.210</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># nfs\u670D\u52A1\u5668\u5730\u5740</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">path</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">/data/k8s_data</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># nfs\u63D0\u4F9B\u7684\u5171\u4EAB\u8DEF\u5F84</span></span>
<span class="line"></span></code></pre></div><h3 id="_5-4-pv\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" tabindex="-1">5.4.PV\u8D44\u6E90\u6E05\u5355\u6587\u4EF6 <a class="header-anchor" href="#_5-4-pv\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">v1</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">PersistentVolume</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">pv1</span></span>
<span class="line"><span style="color:#429988;">spec</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">nfs</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">								</span><span style="color:#758575;"># \u5B58\u50A8\u7C7B\u578B\uFF0C\u4E0D\u540C\u7684\u5B58\u50A8\u7C7B\u578B\u914D\u7F6E\u90FD\u4E0D\u76F8\u540C\uFF0Cnfs\u5219\u586B\u5199nfs</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">capacity</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">								</span><span style="color:#758575;"># \u5B58\u50A8\u80FD\u529B\uFF0C\u76EE\u524D\u53EA\u652F\u6301\u5B58\u50A8\u7A7A\u95F4\u7684\u8BBE\u7F6E</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">storage</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">2Gi</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u5177\u4F53\u7684\u5B58\u50A8\u5927\u5C0F</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">accessModes</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u8BBF\u95EE\u6A21\u5F0F</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">storageClassName</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u5B58\u50A8\u7C7B\u522B</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">persistentVolumeReclaimPolicy</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u56DE\u6536\u7B56\u7565</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">v1</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">PersistentVolume</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">pv1</span></span>
<span class="line"><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">nfs</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">								</span><span style="color:#A0ADA0;"># \u5B58\u50A8\u7C7B\u578B\uFF0C\u4E0D\u540C\u7684\u5B58\u50A8\u7C7B\u578B\u914D\u7F6E\u90FD\u4E0D\u76F8\u540C\uFF0Cnfs\u5219\u586B\u5199nfs</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">capacity</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">								</span><span style="color:#A0ADA0;"># \u5B58\u50A8\u80FD\u529B\uFF0C\u76EE\u524D\u53EA\u652F\u6301\u5B58\u50A8\u7A7A\u95F4\u7684\u8BBE\u7F6E</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">storage</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">2Gi</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u5177\u4F53\u7684\u5B58\u50A8\u5927\u5C0F</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">accessModes</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u8BBF\u95EE\u6A21\u5F0F</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">storageClassName</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u5B58\u50A8\u7C7B\u522B</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">persistentVolumeReclaimPolicy</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u56DE\u6536\u7B56\u7565</span></span>
<span class="line"></span></code></pre></div><h3 id="_5-5-pvc\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" tabindex="-1">5.5.PVC\u8D44\u6E90\u6E05\u5355\u6587\u4EF6 <a class="header-anchor" href="#_5-5-pvc\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">v1</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">PersistentVolumeClaim</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">pvc</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">namespace</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">dev</span></span>
<span class="line"><span style="color:#429988;">spec</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">accessModes</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u8BBF\u95EE\u6A21\u5F0F</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">selector</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u91C7\u7528\u6807\u7B7E\u9009\u62E9\u5177\u4F53\u7684pv</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">storageClassName</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u5B58\u50A8\u7C7B\u522B</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">resources</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u8BF7\u6C42\u7A7A\u95F4</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">requests</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">storage</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">5Gi</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u5177\u4F53\u7684\u8BF7\u6C42\u5927\u5C0F</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">v1</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">PersistentVolumeClaim</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">pvc</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">namespace</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">dev</span></span>
<span class="line"><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">accessModes</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u8BBF\u95EE\u6A21\u5F0F</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">selector</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u91C7\u7528\u6807\u7B7E\u9009\u62E9\u5177\u4F53\u7684pv</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">storageClassName</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u5B58\u50A8\u7C7B\u522B</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">resources</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u8BF7\u6C42\u7A7A\u95F4</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">requests</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">storage</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">5Gi</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u5177\u4F53\u7684\u8BF7\u6C42\u5927\u5C0F</span></span>
<span class="line"></span></code></pre></div><h2 id="_6-\u914D\u7F6E\u8D44\u6E90" tabindex="-1">6.\u914D\u7F6E\u8D44\u6E90 <a class="header-anchor" href="#_6-\u914D\u7F6E\u8D44\u6E90" aria-hidden="true">#</a></h2><h3 id="_6-1-configmap\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" tabindex="-1">6.1.configmap\u8D44\u6E90\u6E05\u5355\u6587\u4EF6 <a class="header-anchor" href="#_6-1-configmap\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">v1</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">ConfigMap</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">configmap</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">namespace</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">dev</span></span>
<span class="line"><span style="color:#429988;">data</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># configmap\u914D\u7F6E\u6587\u4EF6\u91CC\u9762\uFF0C\u4E0D\u518D\u6709spec\uFF0C\u800C\u662Fdata</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">filename1</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">|</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u6587\u4EF6\u548C\u5185\u5BB9\u7684\u5173\u7CFB\u76F8\u5F53\u4E8E\u4E00\u4E2A\u952E\u503C\u5BF9\uFF0Cfilename\u8868\u793A\u6587\u4EF6\u7684\u540D\u79F0 |\u5FC5\u987B\u8981\u6709\uFF0C\u56FA\u5B9A\u5199\u6CD5</span></span>
<span class="line"><span style="color:#C98A7D;">  	neirong1						# \u5177\u4F53\u7684\u5185\u5BB9\uFF0C\u6240\u6709\u5185\u5BB9\u90FD\u8981\u548Cfilename\u4FDD\u6301\u81F3\u5C112\u4E2A\u7A7A\u683C\u7684\u5BF9\u9F50</span></span>
<span class="line"><span style="color:#C98A7D;">  	neirong2</span></span>
<span class="line"><span style="color:#C98A7D;">  filename2: |				# configmap\u53EF\u4EE5\u540C\u65F6\u5B9A\u4E49\u591A\u4E2A\u6587\u4EF6\u7684\u5185\u5BB9\uFF0C\u63A5\u7740\u5F80\u4E0B\u5199\u5373\u53EF\uFF0C\u4E00\u822C\u8FD8\u662F\u4E00\u4E2Acm\u5B9A\u4E49\u4E00\u4E2A\u914D\u7F6E\u6587\u4EF6\uFF0C\u56E0\u4E3Apod\u6302\u8F7D\u662F\u4EE5\u76EE\u5F55\u8FDB\u884C\u6302\u8F7D\u7684\uFF0C\u9664\u975E\u4E24\u4E2A\u6587\u4EF6\u90FD\u5728\u4E00\u4E2A\u8DEF\u5F84</span></span>
<span class="line"><span style="color:#C98A7D;">  	xxxxxxxx</span></span>
<span class="line"><span style="color:#C98A7D;"> </span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">v1</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">ConfigMap</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">configmap</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">namespace</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">dev</span></span>
<span class="line"><span style="color:#2F8A89;">data</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># configmap\u914D\u7F6E\u6587\u4EF6\u91CC\u9762\uFF0C\u4E0D\u518D\u6709spec\uFF0C\u800C\u662Fdata</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">filename1</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">|</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u6587\u4EF6\u548C\u5185\u5BB9\u7684\u5173\u7CFB\u76F8\u5F53\u4E8E\u4E00\u4E2A\u952E\u503C\u5BF9\uFF0Cfilename\u8868\u793A\u6587\u4EF6\u7684\u540D\u79F0 |\u5FC5\u987B\u8981\u6709\uFF0C\u56FA\u5B9A\u5199\u6CD5</span></span>
<span class="line"><span style="color:#B56959;">  	neirong1						# \u5177\u4F53\u7684\u5185\u5BB9\uFF0C\u6240\u6709\u5185\u5BB9\u90FD\u8981\u548Cfilename\u4FDD\u6301\u81F3\u5C112\u4E2A\u7A7A\u683C\u7684\u5BF9\u9F50</span></span>
<span class="line"><span style="color:#B56959;">  	neirong2</span></span>
<span class="line"><span style="color:#B56959;">  filename2: |				# configmap\u53EF\u4EE5\u540C\u65F6\u5B9A\u4E49\u591A\u4E2A\u6587\u4EF6\u7684\u5185\u5BB9\uFF0C\u63A5\u7740\u5F80\u4E0B\u5199\u5373\u53EF\uFF0C\u4E00\u822C\u8FD8\u662F\u4E00\u4E2Acm\u5B9A\u4E49\u4E00\u4E2A\u914D\u7F6E\u6587\u4EF6\uFF0C\u56E0\u4E3Apod\u6302\u8F7D\u662F\u4EE5\u76EE\u5F55\u8FDB\u884C\u6302\u8F7D\u7684\uFF0C\u9664\u975E\u4E24\u4E2A\u6587\u4EF6\u90FD\u5728\u4E00\u4E2A\u8DEF\u5F84</span></span>
<span class="line"><span style="color:#B56959;">  	xxxxxxxx</span></span>
<span class="line"><span style="color:#B56959;"> </span></span>
<span class="line"></span></code></pre></div><h3 id="_6-2-secret\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" tabindex="-1">6.2.secret\u8D44\u6E90\u6E05\u5355\u6587\u4EF6 <a class="header-anchor" href="#_6-2-secret\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">v1</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">Secret</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u8D44\u6E90\u7C7B\u578B\u4E3ASecret</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">admin-secret</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">namespace</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">dev</span></span>
<span class="line"><span style="color:#429988;">type</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">Opaque</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u7C7B\u578B\u4E3AOpaque\uFF0COpaque\u4E3B\u8981\u5B58\u50A8base64\u52A0\u5BC6\u540E\u7684\u5BC6\u7801\u6587\u4EF6</span></span>
<span class="line"><span style="color:#429988;">data</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u5B9A\u4E49\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">username</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">YWRtaW4=</span><span style="color:#DBD7CA;">			</span><span style="color:#758575;"># username\u4E3A\u6587\u4EF6\u540D\u79F0\uFF0CYWRtaW4=\u4E3A\u6587\u4EF6\u5185\u5BB9</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">password</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">MTIzNDU2</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">v1</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">Secret</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u8D44\u6E90\u7C7B\u578B\u4E3ASecret</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">admin-secret</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">namespace</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">dev</span></span>
<span class="line"><span style="color:#2F8A89;">type</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">Opaque</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u7C7B\u578B\u4E3AOpaque\uFF0COpaque\u4E3B\u8981\u5B58\u50A8base64\u52A0\u5BC6\u540E\u7684\u5BC6\u7801\u6587\u4EF6</span></span>
<span class="line"><span style="color:#2F8A89;">data</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">username</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">YWRtaW4=</span><span style="color:#393A34;">			</span><span style="color:#A0ADA0;"># username\u4E3A\u6587\u4EF6\u540D\u79F0\uFF0CYWRtaW4=\u4E3A\u6587\u4EF6\u5185\u5BB9</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">password</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">MTIzNDU2</span></span>
<span class="line"></span></code></pre></div><h2 id="_7-rbac\u8BBF\u95EE\u6388\u6743\u8D44\u6E90" tabindex="-1">7.RBAC\u8BBF\u95EE\u6388\u6743\u8D44\u6E90 <a class="header-anchor" href="#_7-rbac\u8BBF\u95EE\u6388\u6743\u8D44\u6E90" aria-hidden="true">#</a></h2><h3 id="_7-1-role\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" tabindex="-1">7.1.Role\u8D44\u6E90\u6E05\u5355\u6587\u4EF6 <a class="header-anchor" href="#_7-1-role\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;"># Role\u53EA\u80FD\u5BF9\u547D\u540D\u7A7A\u95F4\u5185\u7684\u8D44\u6E90\u8FDB\u884C\u6388\u6743\uFF0C\u9700\u8981\u6307\u5B9Anamespace</span></span>
<span class="line"></span>
<span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">rbac.authorization.k8s.io/v1beta1</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u8D44\u6E90api\u5730\u5740</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">Role</span><span style="color:#DBD7CA;">												</span><span style="color:#758575;"># \u63A7\u5236\u5668\u7C7B\u578B</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">												</span><span style="color:#758575;"># \u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">authorization-role</span><span style="color:#DBD7CA;">								</span><span style="color:#758575;"># \u8D44\u6E90\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">namespace</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">dev</span><span style="color:#DBD7CA;">										</span><span style="color:#758575;"># \u8D44\u6E90\u6240\u5728\u547D\u540D\u7A7A\u95F4</span></span>
<span class="line"><span style="color:#429988;">rules</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">													</span><span style="color:#758575;"># \u5B9A\u4E49\u89D2\u8272</span></span>
<span class="line"><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">apiGroups</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#C98A7D;">&quot;&quot;</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">										</span><span style="color:#758575;"># \u652F\u6301\u7684api\u7EC4\u5217\u8868\uFF0C&quot;&quot;\u7A7A\u5B57\u7B26\u4E32\u8868\u793A\u6838\u5FC3API\u7FA4\uFF0C\u5199\u4EC0\u4E48api\u5C31\u5BF9\u4EC0\u4E48api\u8FDB\u884C\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">resources</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#C98A7D;">&quot;pods&quot;</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">										</span><span style="color:#758575;"># \u652F\u6301\u7684\u8D44\u6E90\u5BF9\u8C61\u5217\u8868\uFF0C\u5BF9\u90A3\u4E9B\u8D44\u6E90\u8FDB\u884C\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">verbs</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#C98A7D;">&quot;get&quot;</span><span style="color:#858585;">,</span><span style="color:#C98A7D;">&quot;watch&quot;</span><span style="color:#858585;">,</span><span style="color:#C98A7D;">&quot;list&quot;</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u5141\u8BB8\u5BF9\u8D44\u6E90\u5BF9\u8C61\u7684\u64CD\u4F5C\u6743\u9650</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;"># Role\u53EA\u80FD\u5BF9\u547D\u540D\u7A7A\u95F4\u5185\u7684\u8D44\u6E90\u8FDB\u884C\u6388\u6743\uFF0C\u9700\u8981\u6307\u5B9Anamespace</span></span>
<span class="line"></span>
<span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">rbac.authorization.k8s.io/v1beta1</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u8D44\u6E90api\u5730\u5740</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">Role</span><span style="color:#393A34;">												</span><span style="color:#A0ADA0;"># \u63A7\u5236\u5668\u7C7B\u578B</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">												</span><span style="color:#A0ADA0;"># \u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">authorization-role</span><span style="color:#393A34;">								</span><span style="color:#A0ADA0;"># \u8D44\u6E90\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">namespace</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">dev</span><span style="color:#393A34;">										</span><span style="color:#A0ADA0;"># \u8D44\u6E90\u6240\u5728\u547D\u540D\u7A7A\u95F4</span></span>
<span class="line"><span style="color:#2F8A89;">rules</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">													</span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u89D2\u8272</span></span>
<span class="line"><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">apiGroups</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">&quot;&quot;</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">										</span><span style="color:#A0ADA0;"># \u652F\u6301\u7684api\u7EC4\u5217\u8868\uFF0C&quot;&quot;\u7A7A\u5B57\u7B26\u4E32\u8868\u793A\u6838\u5FC3API\u7FA4\uFF0C\u5199\u4EC0\u4E48api\u5C31\u5BF9\u4EC0\u4E48api\u8FDB\u884C\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">resources</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">&quot;pods&quot;</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">										</span><span style="color:#A0ADA0;"># \u652F\u6301\u7684\u8D44\u6E90\u5BF9\u8C61\u5217\u8868\uFF0C\u5BF9\u90A3\u4E9B\u8D44\u6E90\u8FDB\u884C\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">verbs</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">&quot;get&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#B56959;">&quot;watch&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#B56959;">&quot;list&quot;</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u5141\u8BB8\u5BF9\u8D44\u6E90\u5BF9\u8C61\u7684\u64CD\u4F5C\u6743\u9650</span></span>
<span class="line"></span></code></pre></div><h3 id="_7-2-clusterrole\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" tabindex="-1">7.2.ClusterRole\u8D44\u6E90\u6E05\u5355\u6587\u4EF6 <a class="header-anchor" href="#_7-2-clusterrole\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;"># ClusterRole\u53EF\u4EE5\u5BF9\u96C6\u7FA4\u5185\u6240\u6709namespace\u4E0B\u7684\u8D44\u6E90\u8FDB\u884C\u6388\u6743\uFF0C\u8DE8namespace\u3001\u975E\u8D44\u6E90\u5BF9\u8C61\u90FD\u53EF\u4EE5\u8FDB\u884C\u6388\u6743</span></span>
<span class="line"></span>
<span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">rbac.authorization.k8s.io/v1beta1</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u8D44\u6E90api\u5730\u5740</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">CLusterRole</span><span style="color:#DBD7CA;">										</span><span style="color:#758575;"># \u63A7\u5236\u5668\u7C7B\u578B</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">												</span><span style="color:#758575;"># \u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">authorization-clusterrole</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u8D44\u6E90\u540D\u79F0</span></span>
<span class="line"><span style="color:#429988;">rules</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">													</span><span style="color:#758575;"># \u5B9A\u4E49\u89D2\u8272</span></span>
<span class="line"><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">apiGroups</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#C98A7D;">&quot;&quot;</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">									</span><span style="color:#758575;"># \u652F\u6301\u7684api\u7EC4\u5217\u8868\uFF0C&quot;&quot;\u7A7A\u5B57\u7B26\u4E32\u8868\u793A\u6838\u5FC3API\u7FA4\uFF0C\u5199\u4EC0\u4E48api\u5C31\u5BF9\u4EC0\u4E48api\u8FDB\u884C\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">resources</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#C98A7D;">&quot;pods&quot;</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">										</span><span style="color:#758575;"># \u652F\u6301\u7684\u8D44\u6E90\u5BF9\u8C61\u5217\u8868\uFF0C\u5BF9\u90A3\u4E9B\u8D44\u6E90\u8FDB\u884C\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">verbs</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#C98A7D;">&quot;get&quot;</span><span style="color:#858585;">,</span><span style="color:#C98A7D;">&quot;watch&quot;</span><span style="color:#858585;">,</span><span style="color:#C98A7D;">&quot;list&quot;</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">							</span><span style="color:#758575;"># \u5141\u8BB8\u5BF9\u8D44\u6E90\u5BF9\u8C61\u7684\u64CD\u4F5C\u6743\u9650</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;"># ClusterRole\u53EF\u4EE5\u5BF9\u96C6\u7FA4\u5185\u6240\u6709namespace\u4E0B\u7684\u8D44\u6E90\u8FDB\u884C\u6388\u6743\uFF0C\u8DE8namespace\u3001\u975E\u8D44\u6E90\u5BF9\u8C61\u90FD\u53EF\u4EE5\u8FDB\u884C\u6388\u6743</span></span>
<span class="line"></span>
<span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">rbac.authorization.k8s.io/v1beta1</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u8D44\u6E90api\u5730\u5740</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">CLusterRole</span><span style="color:#393A34;">										</span><span style="color:#A0ADA0;"># \u63A7\u5236\u5668\u7C7B\u578B</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">												</span><span style="color:#A0ADA0;"># \u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">authorization-clusterrole</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u8D44\u6E90\u540D\u79F0</span></span>
<span class="line"><span style="color:#2F8A89;">rules</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">													</span><span style="color:#A0ADA0;"># \u5B9A\u4E49\u89D2\u8272</span></span>
<span class="line"><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">apiGroups</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">&quot;&quot;</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">									</span><span style="color:#A0ADA0;"># \u652F\u6301\u7684api\u7EC4\u5217\u8868\uFF0C&quot;&quot;\u7A7A\u5B57\u7B26\u4E32\u8868\u793A\u6838\u5FC3API\u7FA4\uFF0C\u5199\u4EC0\u4E48api\u5C31\u5BF9\u4EC0\u4E48api\u8FDB\u884C\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">resources</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">&quot;pods&quot;</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">										</span><span style="color:#A0ADA0;"># \u652F\u6301\u7684\u8D44\u6E90\u5BF9\u8C61\u5217\u8868\uFF0C\u5BF9\u90A3\u4E9B\u8D44\u6E90\u8FDB\u884C\u64CD\u4F5C</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">verbs</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">&quot;get&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#B56959;">&quot;watch&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#B56959;">&quot;list&quot;</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">							</span><span style="color:#A0ADA0;"># \u5141\u8BB8\u5BF9\u8D44\u6E90\u5BF9\u8C61\u7684\u64CD\u4F5C\u6743\u9650</span></span>
<span class="line"></span></code></pre></div><h3 id="_7-3-rolebinding\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" tabindex="-1">7.3.RoleBinding\u8D44\u6E90\u6E05\u5355\u6587\u4EF6 <a class="header-anchor" href="#_7-3-rolebinding\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;"># RoleBinding\u53EF\u4EE5\u5C06subjects\u5B9A\u4E49\u7684\u7528\u6237\u7ED1\u5B9A\u5728\u540C\u4E00namespace\u4E2D\u7684role\u89D2\u8272\u4E0A\uFF0C\u4EC5\u4EC5\u53EA\u80FD\u662F\u540C\u4E00namespace\u79CD\u7684role</span></span>
<span class="line"></span>
<span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">rbac.authorization.k8s.io/v1beta1</span><span style="color:#DBD7CA;">			</span><span style="color:#758575;"># \u8D44\u6E90api\u5730\u5740</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">RoleBinding</span><span style="color:#DBD7CA;">										</span><span style="color:#758575;"># \u63A7\u5236\u5668\u7C7B\u578B</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">												</span><span style="color:#758575;"># \u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">authorization-rolebinding</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u63A7\u5236\u5668\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">namespace</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">dev</span><span style="color:#DBD7CA;">										</span><span style="color:#758575;"># \u6240\u5728\u7684namespace</span></span>
<span class="line"><span style="color:#429988;">subjects</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">												</span><span style="color:#758575;"># \u5173\u8054\u7528\u6237\u4FE1\u606F</span></span>
<span class="line"><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">User</span><span style="color:#DBD7CA;">											</span><span style="color:#758575;"># \u7528\u6237\u7684\u7C7B\u578B\uFF0C\u53EF\u4EE5\u662Fuser\u3001group\u3001serviceaccount</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">jiangxl</span><span style="color:#DBD7CA;">											</span><span style="color:#758575;"># \u5BF9\u5E94\u7684\u7528\u6237\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">apiGroup</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">rbac.authorization.k8s.io</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># api\u7EC4\uFF0C\u6301\u6709\u5F15\u7528\u4E3B\u9898\u7684api\u7EC4\uFF0C\u9ED8\u8BA4\u4E3Arbac.authorization.k8s.io</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">namespace</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">dev</span><span style="color:#DBD7CA;">										</span><span style="color:#758575;"># \u7528\u6237\u80FD\u63A7\u5236\u7684namespace</span></span>
<span class="line"><span style="color:#429988;">roleRef</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">											</span><span style="color:#758575;"># \u5173\u8054\u89D2\u8272\u4FE1\u606F</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">Role</span><span style="color:#DBD7CA;">										</span><span style="color:#758575;"># \u7C7B\u578B\u4E3A\u89D2\u8272</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">authorization-role</span><span style="color:#DBD7CA;">								</span><span style="color:#758575;"># \u5BF9\u5E94\u7684role\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">apiGroup</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">rbac.authorization.k8s.io</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># api\u7EC4\uFF0C\u6301\u6709\u5F15\u7528\u4E3B\u9898\u7684api\u7EC4\uFF0C\u9ED8\u8BA4\u4E3Arbac.authorization.k8s.io</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span></span>
<span class="line"><span style="color:#758575;"># \u6574\u4E2A\u8FDE\u8D77\u6765\u7684\u610F\u601D\u4E3A\u7528\u6237jiangxl\u4E0Eauthorization-role\u89D2\u8272\u8FDB\u884C\u7ED1\u5B9A\uFF0C\u6301\u6709\u5BF9dev\u547D\u540D\u7A7A\u95F4\u4E0Bpod\u8D44\u6E90get\u3001list\u3001watch\u6743\u9650</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;"># RoleBinding\u53EF\u4EE5\u5C06subjects\u5B9A\u4E49\u7684\u7528\u6237\u7ED1\u5B9A\u5728\u540C\u4E00namespace\u4E2D\u7684role\u89D2\u8272\u4E0A\uFF0C\u4EC5\u4EC5\u53EA\u80FD\u662F\u540C\u4E00namespace\u79CD\u7684role</span></span>
<span class="line"></span>
<span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">rbac.authorization.k8s.io/v1beta1</span><span style="color:#393A34;">			</span><span style="color:#A0ADA0;"># \u8D44\u6E90api\u5730\u5740</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">RoleBinding</span><span style="color:#393A34;">										</span><span style="color:#A0ADA0;"># \u63A7\u5236\u5668\u7C7B\u578B</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">												</span><span style="color:#A0ADA0;"># \u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">authorization-rolebinding</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u63A7\u5236\u5668\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">namespace</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">dev</span><span style="color:#393A34;">										</span><span style="color:#A0ADA0;"># \u6240\u5728\u7684namespace</span></span>
<span class="line"><span style="color:#2F8A89;">subjects</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">												</span><span style="color:#A0ADA0;"># \u5173\u8054\u7528\u6237\u4FE1\u606F</span></span>
<span class="line"><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">User</span><span style="color:#393A34;">											</span><span style="color:#A0ADA0;"># \u7528\u6237\u7684\u7C7B\u578B\uFF0C\u53EF\u4EE5\u662Fuser\u3001group\u3001serviceaccount</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">jiangxl</span><span style="color:#393A34;">											</span><span style="color:#A0ADA0;"># \u5BF9\u5E94\u7684\u7528\u6237\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">apiGroup</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">rbac.authorization.k8s.io</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># api\u7EC4\uFF0C\u6301\u6709\u5F15\u7528\u4E3B\u9898\u7684api\u7EC4\uFF0C\u9ED8\u8BA4\u4E3Arbac.authorization.k8s.io</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">namespace</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">dev</span><span style="color:#393A34;">										</span><span style="color:#A0ADA0;"># \u7528\u6237\u80FD\u63A7\u5236\u7684namespace</span></span>
<span class="line"><span style="color:#2F8A89;">roleRef</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">											</span><span style="color:#A0ADA0;"># \u5173\u8054\u89D2\u8272\u4FE1\u606F</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">Role</span><span style="color:#393A34;">										</span><span style="color:#A0ADA0;"># \u7C7B\u578B\u4E3A\u89D2\u8272</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">authorization-role</span><span style="color:#393A34;">								</span><span style="color:#A0ADA0;"># \u5BF9\u5E94\u7684role\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">apiGroup</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">rbac.authorization.k8s.io</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># api\u7EC4\uFF0C\u6301\u6709\u5F15\u7528\u4E3B\u9898\u7684api\u7EC4\uFF0C\u9ED8\u8BA4\u4E3Arbac.authorization.k8s.io</span></span>
<span class="line"><span style="color:#393A34;">  </span></span>
<span class="line"><span style="color:#A0ADA0;"># \u6574\u4E2A\u8FDE\u8D77\u6765\u7684\u610F\u601D\u4E3A\u7528\u6237jiangxl\u4E0Eauthorization-role\u89D2\u8272\u8FDB\u884C\u7ED1\u5B9A\uFF0C\u6301\u6709\u5BF9dev\u547D\u540D\u7A7A\u95F4\u4E0Bpod\u8D44\u6E90get\u3001list\u3001watch\u6743\u9650</span></span>
<span class="line"></span></code></pre></div><h3 id="_7-4-clusterrolebinding\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" tabindex="-1">7.4.CLusterRoleBinding\u8D44\u6E90\u6E05\u5355\u6587\u4EF6 <a class="header-anchor" href="#_7-4-clusterrolebinding\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;"># ClusterRoleBinding\u53EF\u4EE5\u5728\u6574\u4E2A\u96C6\u7FA4\u7EA7\u522B\u548C\u6240\u6709namespace\u4E2D\uFF0C\u5C06\u7279\u5B9A\u7684subject\u4E0EClusterRoleBinding\u8FDB\u884C\u7ED1\u5B9A\u6388\u4E88\u6743\u9650\uFF0C\u8FD9\u6837\u4E00\u6765\u8FD9\u4E2A\u89D2\u8272\u5C31\u62E5\u6709\u5C31\u96C6\u7FA4\u7EA7\u522B\u8D44\u6E90\u7684\u64CD\u4F5C\u6743\u9650</span></span>
<span class="line"></span>
<span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">rbac.authorization.k8s.io/v1beta1</span><span style="color:#DBD7CA;">			</span><span style="color:#758575;"># \u8D44\u6E90api\u5730\u5740</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">RoleBinding</span><span style="color:#DBD7CA;">										</span><span style="color:#758575;"># \u63A7\u5236\u5668\u7C7B\u578B</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">												</span><span style="color:#758575;"># \u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">authorization-rolebinding</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u63A7\u5236\u5668\u540D\u79F0</span></span>
<span class="line"><span style="color:#429988;">subjects</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">												</span><span style="color:#758575;"># \u5173\u8054\u7528\u6237\u4FE1\u606F</span></span>
<span class="line"><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">User</span><span style="color:#DBD7CA;">											</span><span style="color:#758575;"># \u7528\u6237\u7684\u7C7B\u578B\uFF0C\u53EF\u4EE5\u662Fuser\u3001group\u3001serviceaccount</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">jiangxl</span><span style="color:#DBD7CA;">											</span><span style="color:#758575;"># \u5BF9\u5E94\u7684\u7528\u6237\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">apiGroup</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">rbac.authorization.k8s.io</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># api\u7EC4\uFF0C\u6301\u6709\u5F15\u7528\u4E3B\u9898\u7684api\u7EC4\uFF0C\u9ED8\u8BA4\u4E3Arbac.authorization.k8s.io</span></span>
<span class="line"><span style="color:#429988;">roleRef</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">											</span><span style="color:#758575;"># \u5173\u8054\u89D2\u8272\u4FE1\u606F</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">ClusterRole</span><span style="color:#DBD7CA;">										</span><span style="color:#758575;"># \u7C7B\u578B\u4E3A\u96C6\u7FA4\u89D2\u8272</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">authorization-clusterrole</span><span style="color:#DBD7CA;">								</span><span style="color:#758575;"># \u5BF9\u5E94\u7684role\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">apiGroup</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">rbac.authorization.k8s.io</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># api\u7EC4\uFF0C\u6301\u6709\u5F15\u7528\u4E3B\u9898\u7684api\u7EC4\uFF0C\u9ED8\u8BA4\u4E3Arbac.authorization.k8s.io</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;"># \u6574\u4E2A\u8FDE\u8D77\u6765\u7684\u610F\u601D\u4E3A\u7528\u6237jiangxl\u4E0Eauthorization-role\u89D2\u8272\u8FDB\u884C\u7ED1\u5B9A\uFF0C\u6301\u6709\u5BF9\u96C6\u7FA4\u7EA7\u522B\u4EE5\u53CA\u6240\u6709\u547D\u540D\u7A7A\u95F4\u4E0Bpod\u8D44\u6E90get\u3001list\u3001watch\u6743\u9650</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;"># ClusterRoleBinding\u53EF\u4EE5\u5728\u6574\u4E2A\u96C6\u7FA4\u7EA7\u522B\u548C\u6240\u6709namespace\u4E2D\uFF0C\u5C06\u7279\u5B9A\u7684subject\u4E0EClusterRoleBinding\u8FDB\u884C\u7ED1\u5B9A\u6388\u4E88\u6743\u9650\uFF0C\u8FD9\u6837\u4E00\u6765\u8FD9\u4E2A\u89D2\u8272\u5C31\u62E5\u6709\u5C31\u96C6\u7FA4\u7EA7\u522B\u8D44\u6E90\u7684\u64CD\u4F5C\u6743\u9650</span></span>
<span class="line"></span>
<span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">rbac.authorization.k8s.io/v1beta1</span><span style="color:#393A34;">			</span><span style="color:#A0ADA0;"># \u8D44\u6E90api\u5730\u5740</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">RoleBinding</span><span style="color:#393A34;">										</span><span style="color:#A0ADA0;"># \u63A7\u5236\u5668\u7C7B\u578B</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">												</span><span style="color:#A0ADA0;"># \u5143\u6570\u636E</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">authorization-rolebinding</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u63A7\u5236\u5668\u540D\u79F0</span></span>
<span class="line"><span style="color:#2F8A89;">subjects</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">												</span><span style="color:#A0ADA0;"># \u5173\u8054\u7528\u6237\u4FE1\u606F</span></span>
<span class="line"><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">User</span><span style="color:#393A34;">											</span><span style="color:#A0ADA0;"># \u7528\u6237\u7684\u7C7B\u578B\uFF0C\u53EF\u4EE5\u662Fuser\u3001group\u3001serviceaccount</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">jiangxl</span><span style="color:#393A34;">											</span><span style="color:#A0ADA0;"># \u5BF9\u5E94\u7684\u7528\u6237\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">apiGroup</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">rbac.authorization.k8s.io</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># api\u7EC4\uFF0C\u6301\u6709\u5F15\u7528\u4E3B\u9898\u7684api\u7EC4\uFF0C\u9ED8\u8BA4\u4E3Arbac.authorization.k8s.io</span></span>
<span class="line"><span style="color:#2F8A89;">roleRef</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">											</span><span style="color:#A0ADA0;"># \u5173\u8054\u89D2\u8272\u4FE1\u606F</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">ClusterRole</span><span style="color:#393A34;">										</span><span style="color:#A0ADA0;"># \u7C7B\u578B\u4E3A\u96C6\u7FA4\u89D2\u8272</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">authorization-clusterrole</span><span style="color:#393A34;">								</span><span style="color:#A0ADA0;"># \u5BF9\u5E94\u7684role\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">apiGroup</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">rbac.authorization.k8s.io</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># api\u7EC4\uFF0C\u6301\u6709\u5F15\u7528\u4E3B\u9898\u7684api\u7EC4\uFF0C\u9ED8\u8BA4\u4E3Arbac.authorization.k8s.io</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;"># \u6574\u4E2A\u8FDE\u8D77\u6765\u7684\u610F\u601D\u4E3A\u7528\u6237jiangxl\u4E0Eauthorization-role\u89D2\u8272\u8FDB\u884C\u7ED1\u5B9A\uFF0C\u6301\u6709\u5BF9\u96C6\u7FA4\u7EA7\u522B\u4EE5\u53CA\u6240\u6709\u547D\u540D\u7A7A\u95F4\u4E0Bpod\u8D44\u6E90get\u3001list\u3001watch\u6743\u9650</span></span>
<span class="line"></span></code></pre></div><h2 id="_8-limitrange-resourcequota\u8D44\u6E90\u9650\u5236" tabindex="-1">8. LimitRange/ResourceQuota\u8D44\u6E90\u9650\u5236 <a class="header-anchor" href="#_8-limitrange-resourcequota\u8D44\u6E90\u9650\u5236" aria-hidden="true">#</a></h2><p>\u540D\u79F0\u7A7A\u95F4\u7EA7\u522B\u8D44\u6E90\uFF0C\u521B\u5EFA\u8BE5\u8D44\u6E90\u65F6\u9700\u8981\u6307\u5B9A\u547D\u540D\u7A7A\u95F4\uFF0C\u5982\uFF1A<code>kubectl apply -f &lt;/PATH/TO/YOUR_YAML_FILE&gt; --namespace=&lt;YOUR_NAMESPACE&gt;</code></p><h3 id="_8-1-limitrange\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" tabindex="-1">8.1 LimitRange\u8D44\u6E90\u6E05\u5355\u6587\u4EF6 <a class="header-anchor" href="#_8-1-limitrange\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;"># LimitRange\u7528\u4E8E\u9650\u5236\u547D\u4EE4\u7A7A\u95F4\u4E2D\u5355\u4E2Apod\u7684\u8D44\u6E90\u4F7F\u7528\u60C5\u51B5\uFF0C\u5BF9\u8C61\u662F\u4E2A\u4F53</span></span>
<span class="line"></span>
<span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">v1</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">LimitRange</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">mem-limit-range</span></span>
<span class="line"><span style="color:#429988;">spec</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">limits</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">default</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">memory</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">512Mi</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u9ED8\u8BA4\u4E3A\u547D\u540D\u7A7A\u95F4\u4E2Dpod\u6240\u5206\u914D\u7684limits.memory\u5185\u5B58</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">cpu</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u9ED8\u8BA4\u4E3A\u547D\u540D\u7A7A\u95F4\u4E2Dpod\u6240\u5206\u914D\u7684limits.cpu\u5927\u5C0F</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">defaultRequest</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">memory</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">256Mi</span><span style="color:#DBD7CA;">				</span><span style="color:#758575;"># \u9ED8\u8BA4\u4E3A\u547D\u540D\u7A7A\u95F4\u4E2Dpod\u6240\u5206\u914D\u7684requests.memory\u5185\u5B58</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">cpu</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0.5</span><span style="color:#DBD7CA;">					</span><span style="color:#758575;"># \u9ED8\u8BA4\u4E3A\u547D\u540D\u7A7A\u95F4\u4E2Dpod\u6240\u5206\u914D\u7684limits.cpu\u5927\u5C0F</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">max</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u6700\u5927\u8D44\u6E90\u9650\u5236</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">memory</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">1Gi</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">cpu</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;1000m&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">min</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">						</span><span style="color:#758575;"># \u6700\u5C0F\u8D44\u6E90\u9650\u5236</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">memory</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">1000Mi</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">cpu</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;500m&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">type</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">Container</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;"># \u66F4\u65B0limitrange\uFF0C\u4E0D\u4F1A\u5F71\u54CD\u4E4B\u524D\u7684pod</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;"># LimitRange\u7528\u4E8E\u9650\u5236\u547D\u4EE4\u7A7A\u95F4\u4E2D\u5355\u4E2Apod\u7684\u8D44\u6E90\u4F7F\u7528\u60C5\u51B5\uFF0C\u5BF9\u8C61\u662F\u4E2A\u4F53</span></span>
<span class="line"></span>
<span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">v1</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">LimitRange</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">mem-limit-range</span></span>
<span class="line"><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">limits</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">default</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">memory</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">512Mi</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u9ED8\u8BA4\u4E3A\u547D\u540D\u7A7A\u95F4\u4E2Dpod\u6240\u5206\u914D\u7684limits.memory\u5185\u5B58</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">cpu</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u9ED8\u8BA4\u4E3A\u547D\u540D\u7A7A\u95F4\u4E2Dpod\u6240\u5206\u914D\u7684limits.cpu\u5927\u5C0F</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">defaultRequest</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">memory</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">256Mi</span><span style="color:#393A34;">				</span><span style="color:#A0ADA0;"># \u9ED8\u8BA4\u4E3A\u547D\u540D\u7A7A\u95F4\u4E2Dpod\u6240\u5206\u914D\u7684requests.memory\u5185\u5B58</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">cpu</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0.5</span><span style="color:#393A34;">					</span><span style="color:#A0ADA0;"># \u9ED8\u8BA4\u4E3A\u547D\u540D\u7A7A\u95F4\u4E2Dpod\u6240\u5206\u914D\u7684limits.cpu\u5927\u5C0F</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">max</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u6700\u5927\u8D44\u6E90\u9650\u5236</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">memory</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">1Gi</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">cpu</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;1000m&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">min</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">						</span><span style="color:#A0ADA0;"># \u6700\u5C0F\u8D44\u6E90\u9650\u5236</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">memory</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">1000Mi</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">cpu</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;500m&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">type</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">Container</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;"># \u66F4\u65B0limitrange\uFF0C\u4E0D\u4F1A\u5F71\u54CD\u4E4B\u524D\u7684pod</span></span>
<span class="line"></span></code></pre></div><h3 id="_8-2-resourcequota\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" tabindex="-1">8.2 ResourceQuota\u8D44\u6E90\u6E05\u5355\u6587\u4EF6 <a class="header-anchor" href="#_8-2-resourcequota\u8D44\u6E90\u6E05\u5355\u6587\u4EF6" aria-hidden="true">#</a></h3><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;"># ResourceQuota\u7528\u4E8E\u9650\u5236\u6574\u4E2A\u5DE5\u4F5C\u7A7A\u95F4\u7684\u8D44\u6E90\u4F7F\u7528\u60C5\u51B5\uFF0C\u5BF9\u8C61\u662F\u6574\u4E2A\u547D\u540D\u7A7A\u95F4</span></span>
<span class="line"></span>
<span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">v1</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">ResourceQuota</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">mem-cpu-demo</span></span>
<span class="line"><span style="color:#429988;">spec</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">hard</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;">		</span><span style="color:#758575;"># \u5728\u6307\u5B9A\u547D\u540D\u7A7A\u95F4\u4E0B\uFF0C\u9650\u5236\u6BCF\u4E2A\u5BB9\u5668\u5FC5\u987B\u6709\u5185\u5B58\u8BF7\u6C42\u548C\u9650\u5236\uFF0C\u4EE5\u53CAcpu\u8BF7\u6C42\u548C\u9650\u5236\u5927\u5C0F\uFF0C\u5E76\u4E14\u6240\u6709cpu\u8BF7\u6C42\u603B\u548C\u4E0D\u80FD\u591F\u8D85\u8FC72cpu\uFF0C\u5176\u4ED6\u4EE5\u6B64\u7C7B\u63A8</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">requests.cpu</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;1&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">requests.memory</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">1Gi</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">limits.cpu</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;2&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">limits.memory</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">2Gi</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;"># \u4EE5\u4E0B\u662F\u5BF9api\u5BF9\u8C61\u8D44\u6E90\u8FDB\u884C\u7684\u914D\u989D\uFF0C\u6309\u9700\u5206\u914D\uFF0C\u4EE5\u4E0B\u4EC5\u505A\u6F14\u793A</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#429988;">persistentvolumeclaims</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;1&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">services.loadbalancers</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;2&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">services.nodeports</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;0&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">replicationcontrollers</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;1&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#429988;">resourcequotas</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;1&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#429988;">pods</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;10&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">	</span><span style="color:#429988;">secrets</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;2&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">configmaps</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;2&quot;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;"># ResourceQuota\u7528\u4E8E\u9650\u5236\u6574\u4E2A\u5DE5\u4F5C\u7A7A\u95F4\u7684\u8D44\u6E90\u4F7F\u7528\u60C5\u51B5\uFF0C\u5BF9\u8C61\u662F\u6574\u4E2A\u547D\u540D\u7A7A\u95F4</span></span>
<span class="line"></span>
<span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">v1</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">ResourceQuota</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">mem-cpu-demo</span></span>
<span class="line"><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">hard</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;">		</span><span style="color:#A0ADA0;"># \u5728\u6307\u5B9A\u547D\u540D\u7A7A\u95F4\u4E0B\uFF0C\u9650\u5236\u6BCF\u4E2A\u5BB9\u5668\u5FC5\u987B\u6709\u5185\u5B58\u8BF7\u6C42\u548C\u9650\u5236\uFF0C\u4EE5\u53CAcpu\u8BF7\u6C42\u548C\u9650\u5236\u5927\u5C0F\uFF0C\u5E76\u4E14\u6240\u6709cpu\u8BF7\u6C42\u603B\u548C\u4E0D\u80FD\u591F\u8D85\u8FC72cpu\uFF0C\u5176\u4ED6\u4EE5\u6B64\u7C7B\u63A8</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">requests.cpu</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;1&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">requests.memory</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">1Gi</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">limits.cpu</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;2&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">limits.memory</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">2Gi</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;"># \u4EE5\u4E0B\u662F\u5BF9api\u5BF9\u8C61\u8D44\u6E90\u8FDB\u884C\u7684\u914D\u989D\uFF0C\u6309\u9700\u5206\u914D\uFF0C\u4EE5\u4E0B\u4EC5\u505A\u6F14\u793A</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#2F8A89;">persistentvolumeclaims</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;1&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">services.loadbalancers</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;2&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">services.nodeports</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;0&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">replicationcontrollers</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;1&quot;</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#2F8A89;">resourcequotas</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;1&quot;</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#2F8A89;">pods</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;10&quot;</span></span>
<span class="line"><span style="color:#393A34;">	</span><span style="color:#2F8A89;">secrets</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;2&quot;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">configmaps</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;2&quot;</span></span>
<span class="line"></span></code></pre></div><h2 id="_9-\u7EFC\u5408\u793A\u4F8B" tabindex="-1">9. \u7EFC\u5408\u793A\u4F8B <a class="header-anchor" href="#_9-\u7EFC\u5408\u793A\u4F8B" aria-hidden="true">#</a></h2><p>sample1:</p><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#A1B567;">---</span></span>
<span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">v1</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">Service</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">labels</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">app</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">test-yaml</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">test-yaml</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">namespace</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">freeswitch</span></span>
<span class="line"><span style="color:#429988;">spec</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">ports</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">container-1-web-1</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">port</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">8080</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">protocol</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">TCP</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">targetPort</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">8080</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">selector</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">app</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">test-yaml</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">sessionAffinity</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">None</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">type</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">ClusterIP</span></span>
<span class="line"><span style="color:#A1B567;">---</span></span>
<span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">networking.k8s.io/v1beta1</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">Ingress</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">creationTimestamp</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">null</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">test-yaml</span></span>
<span class="line"><span style="color:#429988;">spec</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">rules</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">host</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">test.com</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">http</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">paths</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">backend</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">serviceName</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">test-yaml</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">servicePort</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">8080</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">path</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">/</span></span>
<span class="line"><span style="color:#A1B567;">---</span></span>
<span class="line"><span style="color:#429988;">apiVersion</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">apps/v1</span></span>
<span class="line"><span style="color:#429988;">kind</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">Deployment</span></span>
<span class="line"><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">labels</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">app</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">test-yaml</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">test-yaml</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">namespace</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">freeswitch</span></span>
<span class="line"><span style="color:#429988;">spec</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">replicas</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">3</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">selector</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">matchLabels</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">app</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">test-yaml</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">strategy</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">rollingUpdate</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">maxSurge</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">maxUnavailable</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">type</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">RollingUpdate</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">template</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">metadata</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">annotations</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">info</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">test for yaml</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">labels</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">app</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">test-yaml</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">spec</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">affinity</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">podAntiAffinity</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">preferredDuringSchedulingIgnoredDuringExecution</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">podAffinityTerm</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#429988;">labelSelector</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">                </span><span style="color:#429988;">matchExpressions</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">                </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">key</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">app</span></span>
<span class="line"><span style="color:#DBD7CA;">                  </span><span style="color:#429988;">operator</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">In</span></span>
<span class="line"><span style="color:#DBD7CA;">                  </span><span style="color:#429988;">values</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">                  </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">test-yaml</span></span>
<span class="line"><span style="color:#DBD7CA;">              </span><span style="color:#429988;">topologyKey</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">kubernetes.io/hostname</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#429988;">weight</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">100</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">containers</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">env</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">TZ</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">value</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">Asia/Shanghai</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">LANG</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">value</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">C.UTF-8</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">image</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">nginx</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">imagePullPolicy</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">Always</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">lifecycle</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{}</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">livenessProbe</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">failureThreshold</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">initialDelaySeconds</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">30</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">periodSeconds</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">10</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">successThreshold</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">tcpSocket</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#429988;">port</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">8080</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">timeoutSeconds</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">test-yaml</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">ports</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">containerPort</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">8080</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">web</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">protocol</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">TCP</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">readinessProbe</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">failureThreshold</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">initialDelaySeconds</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">30</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">periodSeconds</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">10</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">successThreshold</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">tcpSocket</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#429988;">port</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">8080</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">timeoutSeconds</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">2</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">resources</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">limits</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#429988;">cpu</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">195m</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#429988;">memory</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">375Mi</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">requests</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#429988;">cpu</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">10m</span></span>
<span class="line"><span style="color:#DBD7CA;">            </span><span style="color:#429988;">memory</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">10Mi</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">securityContext</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">allowPrivilegeEscalation</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">false</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">capabilities</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{}</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">privileged</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">false</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">procMount</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">Default</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">readOnlyRootFilesystem</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">false</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">runAsNonRoot</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">false</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">volumeMounts</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">mountPath</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">/usr/share/zoneinfo/Asia/Shanghai</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">tz-config</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">mountPath</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">/etc/localtime</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">tz-config</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">mountPath</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">/etc/timezone</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">timezone</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">dnsPolicy</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">ClusterFirst</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">hostAliases</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">hostnames</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">www.baidu.com</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">ip</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">114.114.114.114</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">imagePullSecrets</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">myregistrykey</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">myregistrykey2</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">restartPolicy</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">Always</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">securityContext</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{}</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#429988;">volumes</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">hostPath</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">path</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">/usr/share/zoneinfo/Asia/Shanghai</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">type</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">tz-config</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#429988;">hostPath</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">path</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">/etc/timezone</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#429988;">type</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#429988;">name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">timezone</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#6C7834;">---</span></span>
<span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">v1</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">Service</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">labels</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">app</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">test-yaml</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">test-yaml</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">namespace</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">freeswitch</span></span>
<span class="line"><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">ports</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">container-1-web-1</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">port</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">8080</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">protocol</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">TCP</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">targetPort</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">8080</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">selector</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">app</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">test-yaml</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">sessionAffinity</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">None</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">type</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">ClusterIP</span></span>
<span class="line"><span style="color:#6C7834;">---</span></span>
<span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">networking.k8s.io/v1beta1</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">Ingress</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">creationTimestamp</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">null</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">test-yaml</span></span>
<span class="line"><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">rules</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">host</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">test.com</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">http</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">paths</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">backend</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">serviceName</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">test-yaml</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">servicePort</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">8080</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">path</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">/</span></span>
<span class="line"><span style="color:#6C7834;">---</span></span>
<span class="line"><span style="color:#2F8A89;">apiVersion</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">apps/v1</span></span>
<span class="line"><span style="color:#2F8A89;">kind</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">Deployment</span></span>
<span class="line"><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">labels</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">app</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">test-yaml</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">test-yaml</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">namespace</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">freeswitch</span></span>
<span class="line"><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">replicas</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">3</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">selector</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">matchLabels</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">app</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">test-yaml</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">strategy</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">rollingUpdate</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">maxSurge</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">maxUnavailable</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">type</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">RollingUpdate</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">template</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">metadata</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">annotations</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">info</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">test for yaml</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">labels</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">app</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">test-yaml</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">spec</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">affinity</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">podAntiAffinity</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">preferredDuringSchedulingIgnoredDuringExecution</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">podAffinityTerm</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#2F8A89;">labelSelector</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#2F8A89;">matchExpressions</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">key</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">app</span></span>
<span class="line"><span style="color:#393A34;">                  </span><span style="color:#2F8A89;">operator</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">In</span></span>
<span class="line"><span style="color:#393A34;">                  </span><span style="color:#2F8A89;">values</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">                  </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#B56959;">test-yaml</span></span>
<span class="line"><span style="color:#393A34;">              </span><span style="color:#2F8A89;">topologyKey</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">kubernetes.io/hostname</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#2F8A89;">weight</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">100</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">containers</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">env</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">TZ</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">value</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">Asia/Shanghai</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">LANG</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">value</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">C.UTF-8</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">image</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">nginx</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">imagePullPolicy</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">Always</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">lifecycle</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{}</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">livenessProbe</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">failureThreshold</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">initialDelaySeconds</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">30</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">periodSeconds</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">10</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">successThreshold</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">tcpSocket</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#2F8A89;">port</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">8080</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">timeoutSeconds</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">test-yaml</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">ports</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">containerPort</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">8080</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">web</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">protocol</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">TCP</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">readinessProbe</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">failureThreshold</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">initialDelaySeconds</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">30</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">periodSeconds</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">10</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">successThreshold</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">tcpSocket</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#2F8A89;">port</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">8080</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">timeoutSeconds</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">2</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">resources</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">limits</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#2F8A89;">cpu</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">195m</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#2F8A89;">memory</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">375Mi</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">requests</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#2F8A89;">cpu</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">10m</span></span>
<span class="line"><span style="color:#393A34;">            </span><span style="color:#2F8A89;">memory</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">10Mi</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">securityContext</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">allowPrivilegeEscalation</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">false</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">capabilities</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{}</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">privileged</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">false</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">procMount</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">Default</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">readOnlyRootFilesystem</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">false</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">runAsNonRoot</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">false</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">volumeMounts</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">mountPath</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">/usr/share/zoneinfo/Asia/Shanghai</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">tz-config</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">mountPath</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">/etc/localtime</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">tz-config</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">mountPath</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">/etc/timezone</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">timezone</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">dnsPolicy</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">ClusterFirst</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">hostAliases</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">hostnames</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#B56959;">www.baidu.com</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">ip</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">114.114.114.114</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">imagePullSecrets</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">myregistrykey</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">myregistrykey2</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">restartPolicy</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">Always</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">securityContext</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{}</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#2F8A89;">volumes</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">hostPath</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">path</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">/usr/share/zoneinfo/Asia/Shanghai</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">type</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;&quot;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">tz-config</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#2F8A89;">hostPath</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">path</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">/etc/timezone</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#2F8A89;">type</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;&quot;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#2F8A89;">name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">timezone</span></span>
<span class="line"></span></code></pre></div><blockquote><p>\u6B64\u6587\u7AE0\u57FA\u4E8E\u8BE5\u535A\u5BA2\u8FDB\u884C\u4FEE\u6539\u548C\u589E\u5220: <a href="https://blog.csdn.net/weixin_44953658/article/details/116161926" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/weixin_44953658/article/details/116161926</a></p></blockquote>`,77),t=[o];function e(c,r,y,A,D,i){return n(),a("div",null,t)}var F=s(p,[["render",e]]);export{C as __pageData,F as default};
