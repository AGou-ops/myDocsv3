import{_ as e,o as s,c as l,a}from"./app.1e6146c3.js";const m=JSON.parse('{"title":"SQL \u590D\u4E60","description":"","frontmatter":{},"headers":[],"relativePath":"LinuxBasics/SQL review.md","lastUpdated":1657272051000}'),o={name:"LinuxBasics/SQL review.md"},t=a(`<h1 id="sql-\u590D\u4E60" tabindex="-1">SQL \u590D\u4E60 <a class="header-anchor" href="#sql-\u590D\u4E60" aria-hidden="true">#</a></h1><ul><li><p><code>show grants for &#39;test&#39;@&#39;localhost&#39;;</code></p></li><li><p><code>revoke select on test.* from test@localhost;</code></p></li><li><p><code>drop database if exists test;</code></p></li><li><p><code>create table test7( -&gt; a int not null comment &#39;\u5B57\u6BB5a&#39;, -&gt; b int not null comment &#39;\u5B57\u6BB5b&#39;, -&gt; PRIMARY KEY (a,b)</code></p></li><li><blockquote><p>\u5916\u952E\u6CE8\u610F\u4E8B\u9879: \u6CE8\u610F\u2F0F\u70B9\uFF1A \u2022 \u4E24\u5F20\u8868\u4E2D\u9700\u8981\u5EFA\u2F74\u5916\u952E\u5173\u7CFB\u7684\u5B57\u6BB5\u7C7B\u578B\u9700\u8981\u2F00\u81F4 \u2022 \u8981\u8BBE\u7F6E\u5916\u952E\u7684\u5B57\u6BB5\u4E0D\u80FD\u4E3A\u4E3B\u952E \u2022 \u88AB\u5F15\u2F64\u7684\u5B57\u6BB5\u9700\u8981\u4E3A\u4E3B\u952E \u2022 \u88AB\u63D2\u2F0A\u7684\u503C\u5728\u5916\u952E\u8868\u5FC5\u987B\u5B58\u5728\uFF0C\u5982\u4E0A\u2FAF\u5411test6\u4E2D\u63D2\u2F0Ats5_a\u4E3A2\u7684\u65F6\u5019\u62A5\u9519\u4E86\uFF0C\u539F \u56E0\uFF1A2\u7684\u503C\u5728test5\u8868\u4E2D\u4E0D\u5B58\u5728</p></blockquote></li><li><p>\u5220\u9664\u8868\u6240\u6709\u5185\u5BB9\uFF1A<code>delete from test11;</code></p></li><li><p>\u4FEE\u6539\u8868\u540D <code>alter table \u8868\u540Drename [to] \u65B0\u8868\u540D;</code></p></li><li><p>\u8868\u8BBE\u7F6E\u5907\u6CE8 <code>alter table \u8868\u540Dcomment &#39;\u5907\u6CE8\u4FE1\u606F&#39;;</code></p></li><li><p>\u590D\u5236\u8868 \u53EA\u590D\u5236\u8868\u7ED3\u6784 <code>create table \u8868\u540Dlike \u88AB\u590D\u5236\u7684\u8868\u540D;</code></p></li><li><p>\u590D\u5236\u8868\u7ED3\u6784+\u6570\u636E <code>create table \u8868\u540D[as] select \u5B57\u6BB5,... from \u88AB\u590D\u5236\u7684\u8868[where \u6761\u4EF6];</code> \u5982\uFF1A<code>mysql&gt; create table test13 as select * from test11;</code></p></li><li><p>\u589E\u52A0\u5217\uFF1A<code>alter table test14 add column b int not null default 0 comment &#39;\u5B57\u6BB5b&#39;;</code></p></li><li><p>\u4FEE\u6539\u5217 <code>alter table \u8868\u540Dmodify column \u5217\u540D\u65B0\u7C7B\u578B[\u7EA6\u675F];</code> \u6216\u8005<code>alter table \u8868\u540Dchange column \u5217\u540D\u65B0\u5217\u540D\u65B0\u7C7B\u578B[\u7EA6\u675F];</code><strong>2\u79CD\u2F45\u5F0F\u533A\u522B\uFF1Amodify\u4E0D\u80FD\u4FEE\u6539\u5217\u540D\uFF0Cchange\u53EF\u4EE5\u4FEE\u6539\u5217\u540D</strong></p></li><li><p>\u5220\u9664\u5217<code> alter table \u8868\u540Ddrop column \u5217\u540D;</code></p></li><li><p>\u5355\u8868\u66F4\u65B0 \u8BED\u6CD5\uFF1A<code> update \u8868\u540D[[as] \u522B\u540D] set [\u522B\u540D.]\u5B57\u6BB5= \u503C,[\u522B\u540D.]\u5B57\u6BB5= \u503C[where\u6761\u4EF6];</code></p></li><li><p>\u591A\u8868\u66F4\u65B0 \u53EF\u4EE5\u540C\u65F6\u66F4\u65B0\u591A\u4E2A\u8868\u4E2D\u7684\u6570\u636E \u8BED\u6CD5\uFF1A<code> update \u88681 [[as] \u522B\u540D1],\u8868\u540D2 [[as] \u522B\u540D2] set [\u522B\u540D.]\u5B57\u6BB5= \u503C,[\u522B\u540D.]\u5B57\u6BB5= \u503C[where\u6761\u4EF6]</code></p></li><li><p>\u522B\u540D\u7684\u2F45\u5F0F\u66F4\u65B0\u591A\u4E2A\u8868\u7684\u591A\u4E2A\u5B57\u6BB5<code>update test1 as t1,test2 t2 set t1.a = 2 ,t1.b = 2, t2.c1 = 10 - where t1.a = t2.c1;</code></p></li><li><p><code>delete t1 from test1 t1 where t1.a&gt;100;</code></p></li><li><p><code>delete t2,t1 from test1 t1,test2 t2 where t1.a=t2.c2;</code></p></li><li><p>od\u51FD\u6570\uFF0C\u5BF9\u4E24\u4E2A\u53C2\u6570\u53D6\u6A21\u8FD0\u7B97\u3002isnull\u51FD\u6570\uFF0C\u5224\u65AD\u53C2\u6570\u662F\u5426\u4E3A\u7A7A\uFF0C\u82E5\u4E3A\u7A7A\u8FD4\u56DE1\uFF0C\u5426\u5219\u8FD4\u56DE0\u3002ifnull\u51FD\u6570\uFF0C2\u4E2A\u53C2\u6570\uFF0C\u5224\u65AD\u7B2C\u2F00\u4E2A\u53C2\u6570 \u662F\u5426\u4E3A\u7A7A\uFF0C\u5982\u679C\u4E3A\u7A7A\u8FD4\u56DE\u7B2C2\u4E2A\u53C2\u6570\u7684\u503C\uFF0C\u5426\u5219\u8FD4\u56DE\u7B2C1\u4E2A\u53C2\u6570\u7684\u503C\u3002</p></li><li><p><code>select a as &#39;\u52171&#39;,b as &#39;\u52172&#39; from test1;</code></p></li><li><p><code>select * from test6 t where t.age in (10,15,20,30);</code></p></li><li><p><code>select a.id\u8BA2\u5355\u7F16\u53F7,a.price\u8BA2\u5355\u2FA6\u989Dfrom t_order a where a.price&gt;=100 order by a.price desc;</code></p></li><li><p>\u5206\u9875\u67E5\u8BE2: <code>select \u5217from \u8868\u540Dlimit (page - 1) * pageSize,pageSize;</code></p></li><li><p>\u4F7F\u7528<code>year</code>\u51FD\u6570\u8FDB\u884C\u67E5\u8BE2: <code>SELECT id \u7F16\u53F7,birth \u51FA\u2F63\u2F47\u671F,year(birth) \u51FA\u2F63\u5E74\u4EFD,name \u59D3\u540D from student ORDER BY \u51FA\u2F63\u5E74\u4EFD asc,id asc;</code>:</p></li><li><p>\u5355\u5B57\u6BB5\u5206\u7EC4\u67E5\u8BE2: \u67E5\u8BE2\u7528\u6237\u4E0B\u5355\u6570\u91CF <code>SELECT user_id \u2F64\u6237id, COUNT(id) \u4E0B\u5355\u6570\u91CF FROM t_order GROUP BY user_id;</code></p></li><li><p>\u591A\u5B57\u6BB5\u5206\u7EC4\u67E5\u8BE2: <code>SELECT user_id \u2F64\u6237id, the_year \u5E74\u4EFD, COUNT(id) \u4E0B\u5355\u6570\u91CF FROM t_order GROUP BY user_id , the_year;</code></p></li><li><p>\u5206\u7EC4\u67E5\u8BE2\u4E4B\u524D\u7684\u7B5B\u9009: <code>SELECT user_id \u2F64\u6237id, COUNT(id) \u4E0B\u5355\u6570\u91CF FROM t_order t WHERE t.the_year = 2018 GROUP BY user_id;</code></p></li><li><p>\u5982\u8981\u8FDB\u884C\u5206\u7EC4\u540E\u67E5\u8BE2, \u5219\u9700\u8981\u4F7F\u7528<code>having</code>\u5173\u952E\u5B57: <code>SELECT user_id \u2F64\u6237id, COUNT(id) \u4E0B\u5355\u6570\u91CF FROM t_order t WHERE t.the_year = 2018 GROUP BY user_id HAVING count(id)&gt;=2;</code></p></li><li><p>\u5206\u7EC4\u540E\u6392\u5E8F: <code>SELECT user_id \u2F64\u6237id, max(price) \u6700\u2F24\u2FA6\u989D FROM t_order t GROUP BY user_id ORDER BY \u6700\u2F24\u2FA6\u989D desc;</code></p></li><li><p>\u5F53\u540C\u65F6\u4F7F\u7528 <code>where</code>, <code>group by</code>, <code>having</code>, <code>order by</code>, <code>limit</code>\u5173\u952E\u8BCD\u65F6, \u6709\u4EE5\u4E0B\u5148\u540E\u987A\u5E8F:</p></li></ul><div class="language-sql"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;">-- \u4ECE\u4E0A\u5230\u4E0B</span></span>
<span class="line"><span style="color:#4D9375;">select</span><span style="color:#DBD7CA;"> \u5217 </span><span style="color:#4D9375;">from</span></span>
<span class="line"><span style="color:#DBD7CA;">\u8868\u540D</span></span>
<span class="line"><span style="color:#4D9375;">where</span><span style="color:#DBD7CA;"> [\u67E5\u8BE2\u6761\u4EF6]</span></span>
<span class="line"><span style="color:#4D9375;">group by</span><span style="color:#DBD7CA;"> [\u5206\u7EC4\u8868\u8FBE\u5F0F]</span></span>
<span class="line"><span style="color:#4D9375;">having</span><span style="color:#DBD7CA;"> [\u5206\u7EC4\u8FC7\u6EE4\u6761\u4EF6]</span></span>
<span class="line"><span style="color:#4D9375;">order by</span><span style="color:#DBD7CA;"> [\u6392\u5E8F\u6761\u4EF6]</span></span>
<span class="line"><span style="color:#4D9375;">limit</span><span style="color:#DBD7CA;"> [offset,] </span><span style="color:#E0A569;">count</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">-- \u4ECE\u4E0A\u5230\u4E0B</span></span>
<span class="line"><span style="color:#1C6B48;">select</span><span style="color:#393A34;"> \u5217 </span><span style="color:#1C6B48;">from</span></span>
<span class="line"><span style="color:#393A34;">\u8868\u540D</span></span>
<span class="line"><span style="color:#1C6B48;">where</span><span style="color:#393A34;"> [\u67E5\u8BE2\u6761\u4EF6]</span></span>
<span class="line"><span style="color:#1C6B48;">group by</span><span style="color:#393A34;"> [\u5206\u7EC4\u8868\u8FBE\u5F0F]</span></span>
<span class="line"><span style="color:#1C6B48;">having</span><span style="color:#393A34;"> [\u5206\u7EC4\u8FC7\u6EE4\u6761\u4EF6]</span></span>
<span class="line"><span style="color:#1C6B48;">order by</span><span style="color:#393A34;"> [\u6392\u5E8F\u6761\u4EF6]</span></span>
<span class="line"><span style="color:#1C6B48;">limit</span><span style="color:#393A34;"> [offset,] </span><span style="color:#B58451;">count</span><span style="color:#393A34;">;</span></span>
<span class="line"></span></code></pre></div><ul><li></li><li></li><li></li><li></li><li></li><li></li><li></li><li></li></ul>`,4),p=[t];function n(c,i,r,d,y,_){return s(),l("div",null,p)}var h=e(o,[["render",n]]);export{m as __pageData,h as default};
