import{_ as s,o as a,c as n,a as l}from"./app.1e6146c3.js";const C=JSON.parse('{"title":"\u4F7F\u7528 docker-compose \u90E8\u7F72 ELK","description":"","frontmatter":{},"headers":[],"relativePath":"CloudNative/ELFK/\u4F7F\u7528 docker-compose \u90E8\u7F72 ELK.md","lastUpdated":1657272051000}'),p={name:"CloudNative/ELFK/\u4F7F\u7528 docker-compose \u90E8\u7F72 ELK.md"},o=l(`<h1 id="\u4F7F\u7528-docker-compose-\u90E8\u7F72-elk" tabindex="-1">\u4F7F\u7528 docker-compose \u90E8\u7F72 ELK <a class="header-anchor" href="#\u4F7F\u7528-docker-compose-\u90E8\u7F72-elk" aria-hidden="true">#</a></h1><p><code>docker-compose.yml</code> \u6587\u4EF6\u5185\u5BB9\uFF1A</p><div class="language-yaml"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#429988;">version</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;3&#39;</span></span>
<span class="line"><span style="color:#429988;">services</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">elasticsearch</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">image</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">elasticsearch:7.7.1</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">container_name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">elasticsearch</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">environment</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;cluster.name=elasticsearch&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">#\u8BBE\u7F6E\u96C6\u7FA4\u540D\u79F0\u4E3Aelasticsearch</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;discovery.type=single-node&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">#\u4EE5\u5355\u4E00\u8282\u70B9\u6A21\u5F0F\u542F\u52A8</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;ES_JAVA_OPTS=-Xms512m -Xmx1024m&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">#\u8BBE\u7F6E\u4F7F\u7528jvm\u5185\u5B58\u5927\u5C0F</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">volumes</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">/data/docker/elfk/elasticsearch/plugins:/usr/share/elasticsearch/plugins</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;"># \u63D2\u4EF6\u6587\u4EF6\u6302\u8F7D</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">/data/docker/elfk/elasticsearch/data:/usr/share/elasticsearch/data</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;"># \u6570\u636E\u6587\u4EF6\u6302\u8F7D</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">ports</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">9200:9200</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">restart</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">always</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">kibana</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">image</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">kibana:7.7.1</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">container_name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">kibana</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">links</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">elasticsearch:es</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">#\u53EF\u4EE5\u7528es\u8FD9\u4E2A\u57DF\u540D\u8BBF\u95EEelasticsearch\u670D\u52A1</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">depends_on</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">elasticsearch</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">#kibana\u5728elasticsearch\u542F\u52A8\u4E4B\u540E\u518D\u542F\u52A8</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">environment</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;elasticsearch.hosts=http://es:9200&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">#\u8BBE\u7F6E\u8BBF\u95EEelasticsearch\u7684\u5730\u5740</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">ports</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">5601:5601</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">restart</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">always</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">logstash</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">image</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">logstash:7.7.1</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">container_name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">logstash</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">volumes</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">/Users/zhouxinlei/docker/elfk/logstash/logstash.conf:/usr/share/logstash/pipeline/logstash.conf</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">depends_on</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">elasticsearch</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">#kibana\u5728elasticsearch\u542F\u52A8\u4E4B\u540E\u518D\u542F\u52A8</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">links</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">elasticsearch:es</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">#\u53EF\u4EE5\u7528es\u8FD9\u4E2A\u57DF\u540D\u8BBF\u95EEelasticsearch\u670D\u52A1</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">ports</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">5044:5044</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">restart</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">always</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#429988;">filebeat</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">image</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">elastic/filebeat:7.7.1</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">container_name</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">filebeat</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">links</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">logstash:logstash</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">#\u53EF\u4EE5\u7528es\u8FD9\u4E2A\u57DF\u540D\u8BBF\u95EEelasticsearch\u670D\u52A1</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">volumes</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">/Users/zhouxinlei/logs/:/var/logs/springboot/</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;"># \u5BBF\u4E3B\u673A\u5B9E\u9645\u5E94\u7528\u65E5\u5FD7\u6587\u4EF6\u6620\u5C04\u5230\u5BB9\u5668\u5185\u90E8</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">/Users/zhouxinlei/docker/elfk/filebeat/filebeat.yml:/usr/share/filebeat/filebeat.yml</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">depends_on</span><span style="color:#858585;">:</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#858585;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">logstash</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;">#kibana\u5728elasticsearch\u542F\u52A8\u4E4B\u540E\u518D\u542F\u52A8</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#429988;">restart</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">always</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#2F8A89;">version</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;3&#39;</span></span>
<span class="line"><span style="color:#2F8A89;">services</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">elasticsearch</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">image</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">elasticsearch:7.7.1</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">container_name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">elasticsearch</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">environment</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;cluster.name=elasticsearch&quot;</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">#\u8BBE\u7F6E\u96C6\u7FA4\u540D\u79F0\u4E3Aelasticsearch</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;discovery.type=single-node&quot;</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">#\u4EE5\u5355\u4E00\u8282\u70B9\u6A21\u5F0F\u542F\u52A8</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;ES_JAVA_OPTS=-Xms512m -Xmx1024m&quot;</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">#\u8BBE\u7F6E\u4F7F\u7528jvm\u5185\u5B58\u5927\u5C0F</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">volumes</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#B56959;">/data/docker/elfk/elasticsearch/plugins:/usr/share/elasticsearch/plugins</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;"># \u63D2\u4EF6\u6587\u4EF6\u6302\u8F7D</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#B56959;">/data/docker/elfk/elasticsearch/data:/usr/share/elasticsearch/data</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;"># \u6570\u636E\u6587\u4EF6\u6302\u8F7D</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">ports</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#B56959;">9200:9200</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">restart</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">always</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">kibana</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">image</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">kibana:7.7.1</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">container_name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">kibana</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">links</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#B56959;">elasticsearch:es</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">#\u53EF\u4EE5\u7528es\u8FD9\u4E2A\u57DF\u540D\u8BBF\u95EEelasticsearch\u670D\u52A1</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">depends_on</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#B56959;">elasticsearch</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">#kibana\u5728elasticsearch\u542F\u52A8\u4E4B\u540E\u518D\u542F\u52A8</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">environment</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;elasticsearch.hosts=http://es:9200&quot;</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">#\u8BBE\u7F6E\u8BBF\u95EEelasticsearch\u7684\u5730\u5740</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">ports</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#B56959;">5601:5601</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">restart</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">always</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">logstash</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">image</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">logstash:7.7.1</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">container_name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">logstash</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">volumes</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#B56959;">/Users/zhouxinlei/docker/elfk/logstash/logstash.conf:/usr/share/logstash/pipeline/logstash.conf</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">depends_on</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#B56959;">elasticsearch</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">#kibana\u5728elasticsearch\u542F\u52A8\u4E4B\u540E\u518D\u542F\u52A8</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">links</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#B56959;">elasticsearch:es</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">#\u53EF\u4EE5\u7528es\u8FD9\u4E2A\u57DF\u540D\u8BBF\u95EEelasticsearch\u670D\u52A1</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">ports</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#B56959;">5044:5044</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">restart</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">always</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#2F8A89;">filebeat</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">image</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">elastic/filebeat:7.7.1</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">container_name</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">filebeat</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">links</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#B56959;">logstash:logstash</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">#\u53EF\u4EE5\u7528es\u8FD9\u4E2A\u57DF\u540D\u8BBF\u95EEelasticsearch\u670D\u52A1</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">volumes</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#B56959;">/Users/zhouxinlei/logs/:/var/logs/springboot/</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;"># \u5BBF\u4E3B\u673A\u5B9E\u9645\u5E94\u7528\u65E5\u5FD7\u6587\u4EF6\u6620\u5C04\u5230\u5BB9\u5668\u5185\u90E8</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#B56959;">/Users/zhouxinlei/docker/elfk/filebeat/filebeat.yml:/usr/share/filebeat/filebeat.yml</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">depends_on</span><span style="color:#8E8F8B;">:</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#8E8F8B;">-</span><span style="color:#393A34;"> </span><span style="color:#B56959;">logstash</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;">#kibana\u5728elasticsearch\u542F\u52A8\u4E4B\u540E\u518D\u542F\u52A8</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#2F8A89;">restart</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">always</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><p>\u8FD0\u884C<code>docker-compose</code>\u811A\u672C\uFF1A</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">docker-compose up -d</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">docker-compose up -d</span></span>
<span class="line"></span></code></pre></div><ul><li>\u5728logstash\u4E2D\u5B89\u88C5json_lines\u63D2\u4EF6</li></ul><div class="language-shell"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;"># \u8FDB\u5165logstash\u5BB9\u5668</span></span>
<span class="line"><span style="color:#DBD7CA;">docker </span><span style="color:#E0A569;">exec</span><span style="color:#DBD7CA;"> -it logstash /bin/bash</span></span>
<span class="line"><span style="color:#758575;"># \u8FDB\u5165bin\u76EE\u5F55</span></span>
<span class="line"><span style="color:#E0A569;">cd</span><span style="color:#DBD7CA;"> /bin/</span></span>
<span class="line"><span style="color:#758575;"># \u5B89\u88C5\u63D2\u4EF6</span></span>
<span class="line"><span style="color:#DBD7CA;">logstash-plugin install logstash-codec-json_lines</span></span>
<span class="line"><span style="color:#758575;"># \u9000\u51FA\u5BB9\u5668</span></span>
<span class="line"><span style="color:#E0A569;">exit</span></span>
<span class="line"><span style="color:#758575;"># \u91CD\u542Flogstash\u670D\u52A1</span></span>
<span class="line"><span style="color:#DBD7CA;">docker restart logstash</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;"># \u8FDB\u5165logstash\u5BB9\u5668</span></span>
<span class="line"><span style="color:#393A34;">docker </span><span style="color:#B58451;">exec</span><span style="color:#393A34;"> -it logstash /bin/bash</span></span>
<span class="line"><span style="color:#A0ADA0;"># \u8FDB\u5165bin\u76EE\u5F55</span></span>
<span class="line"><span style="color:#B58451;">cd</span><span style="color:#393A34;"> /bin/</span></span>
<span class="line"><span style="color:#A0ADA0;"># \u5B89\u88C5\u63D2\u4EF6</span></span>
<span class="line"><span style="color:#393A34;">logstash-plugin install logstash-codec-json_lines</span></span>
<span class="line"><span style="color:#A0ADA0;"># \u9000\u51FA\u5BB9\u5668</span></span>
<span class="line"><span style="color:#B58451;">exit</span></span>
<span class="line"><span style="color:#A0ADA0;"># \u91CD\u542Flogstash\u670D\u52A1</span></span>
<span class="line"><span style="color:#393A34;">docker restart logstash</span></span>
<span class="line"></span></code></pre></div>`,7),e=[o];function c(t,r,y,A,i,D){return a(),n("div",null,e)}var h=s(p,[["render",c]]);export{C as __pageData,h as default};
