import{_ as s,o as e,c as a,a as n}from"./app.1e6146c3.js";const k=JSON.parse('{"title":"MinIO in Docker","description":"","frontmatter":{},"headers":[{"level":3,"title":"\u4F7F\u7528Docker secrets\u8FDB\u884CMinIO Access\u548CSecret\u5BC6\u94A5\u81EA\u5B9A\u4E49","slug":"\u4F7F\u7528docker-secrets\u8FDB\u884Cminio-access\u548Csecret\u5BC6\u94A5\u81EA\u5B9A\u4E49"},{"level":3,"title":"\u83B7\u53D6\u5BB9\u5668ID","slug":"\u83B7\u53D6\u5BB9\u5668id"},{"level":3,"title":"\u542F\u52A8\u548C\u505C\u6B62\u5BB9\u5668","slug":"\u542F\u52A8\u548C\u505C\u6B62\u5BB9\u5668"},{"level":3,"title":"MinIO\u5BB9\u5668\u65E5\u5FD7","slug":"minio\u5BB9\u5668\u65E5\u5FD7"},{"level":3,"title":"\u76D1\u63A7MinioDocker\u5BB9\u5668","slug":"\u76D1\u63A7miniodocker\u5BB9\u5668"}],"relativePath":"LinuxBasics/FileSystem/MinIO/MinIO in Docker.md","lastUpdated":1657272051000}'),o={name:"LinuxBasics/FileSystem/MinIO/MinIO in Docker.md"},p=n(`<h1 id="minio-in-docker" tabindex="-1">MinIO in Docker <a class="header-anchor" href="#minio-in-docker" aria-hidden="true">#</a></h1><p>use Docker:</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">docker run -d --name minio1 \\</span></span>
<span class="line"><span style="color:#DBD7CA;">  -p 9000:9000 \\</span></span>
<span class="line"><span style="color:#DBD7CA;">  -p 9001:9001 \\</span></span>
<span class="line"><span style="color:#DBD7CA;">  -v /root/minio/data:/data \\</span></span>
<span class="line"><span style="color:#DBD7CA;">  -v /root/minio/config:/root/.minio \\</span></span>
<span class="line"><span style="color:#DBD7CA;">  -e </span><span style="color:#C98A7D;">&quot;MINIO_ROOT_USER=QXLXHV2YBUNNIPK1LTYIB7IA&quot;</span><span style="color:#DBD7CA;"> \\</span></span>
<span class="line"><span style="color:#DBD7CA;">  -e </span><span style="color:#C98A7D;">&quot;MINIO_ROOT_PASSWORD=fT59aVbwfbTceEeEuR2jWeJE3mv2nG_rQ_1dgSIXHFiIlIRf&quot;</span><span style="color:#DBD7CA;"> \\</span></span>
<span class="line"><span style="color:#DBD7CA;">  quay.io/minio/minio server /data --console-address </span><span style="color:#C98A7D;">&quot;:9001&quot;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">docker run -d --name minio1 \\</span></span>
<span class="line"><span style="color:#393A34;">  -p 9000:9000 \\</span></span>
<span class="line"><span style="color:#393A34;">  -p 9001:9001 \\</span></span>
<span class="line"><span style="color:#393A34;">  -v /root/minio/data:/data \\</span></span>
<span class="line"><span style="color:#393A34;">  -v /root/minio/config:/root/.minio \\</span></span>
<span class="line"><span style="color:#393A34;">  -e </span><span style="color:#B56959;">&quot;MINIO_ROOT_USER=QXLXHV2YBUNNIPK1LTYIB7IA&quot;</span><span style="color:#393A34;"> \\</span></span>
<span class="line"><span style="color:#393A34;">  -e </span><span style="color:#B56959;">&quot;MINIO_ROOT_PASSWORD=fT59aVbwfbTceEeEuR2jWeJE3mv2nG_rQ_1dgSIXHFiIlIRf&quot;</span><span style="color:#393A34;"> \\</span></span>
<span class="line"><span style="color:#393A34;">  quay.io/minio/minio server /data --console-address </span><span style="color:#B56959;">&quot;:9001&quot;</span></span>
<span class="line"></span></code></pre></div><p>use Podman:</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">podman run -p 9000:9000 -p 9001:9001 \\</span></span>
<span class="line"><span style="color:#DBD7CA;">  quay.io/minio/minio server /data --console-address </span><span style="color:#C98A7D;">&quot;:9001&quot;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">podman run -p 9000:9000 -p 9001:9001 \\</span></span>
<span class="line"><span style="color:#393A34;">  quay.io/minio/minio server /data --console-address </span><span style="color:#B56959;">&quot;:9001&quot;</span></span>
<span class="line"></span></code></pre></div><h3 id="\u4F7F\u7528docker-secrets\u8FDB\u884Cminio-access\u548Csecret\u5BC6\u94A5\u81EA\u5B9A\u4E49" tabindex="-1">\u4F7F\u7528Docker secrets\u8FDB\u884CMinIO Access\u548CSecret\u5BC6\u94A5\u81EA\u5B9A\u4E49 <a class="header-anchor" href="#\u4F7F\u7528docker-secrets\u8FDB\u884Cminio-access\u548Csecret\u5BC6\u94A5\u81EA\u5B9A\u4E49" aria-hidden="true">#</a></h3><p>\u8981\u8986\u76D6MinIO\u7684\u81EA\u52A8\u751F\u6210\u7684\u5BC6\u94A5,\u4F60\u53EF\u4EE5\u628Asecret\u548Caccess\u79D8\u94A5\u521B\u5EFA\u6210<a href="https://docs.docker.com/engine/swarm/secrets/" target="_blank" rel="noopener noreferrer">Docker secrets</a>. MinIO\u5141\u8BB8\u5E38\u89C4\u5B57\u7B26\u4E32\u4F5C\u4E3AAccess\u548CSecret\u5BC6\u94A5\u3002</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">Copyecho </span><span style="color:#C98A7D;">&quot;AKIAIOSFODNN7EXAMPLE&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">|</span><span style="color:#DBD7CA;"> docker secret create access_key -</span></span>
<span class="line"><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">|</span><span style="color:#DBD7CA;"> docker secret create secret_key -</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">Copyecho </span><span style="color:#B56959;">&quot;AKIAIOSFODNN7EXAMPLE&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">|</span><span style="color:#393A34;"> docker secret create access_key -</span></span>
<span class="line"><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">|</span><span style="color:#393A34;"> docker secret create secret_key -</span></span>
<span class="line"></span></code></pre></div><p>\u4F7F\u7528<code>docker service</code>\u521B\u5EFAMinIO\u670D\u52A1\uFF0C\u5E76\u8BFB\u53D6Docker secrets\u3002</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">Copydocker service create --name=</span><span style="color:#C98A7D;">&quot;minio-service&quot;</span><span style="color:#DBD7CA;"> --secret=</span><span style="color:#C98A7D;">&quot;access_key&quot;</span><span style="color:#DBD7CA;"> --secret=</span><span style="color:#C98A7D;">&quot;secret_key&quot;</span><span style="color:#DBD7CA;"> minio/minio server /data</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">Copydocker service create --name=</span><span style="color:#B56959;">&quot;minio-service&quot;</span><span style="color:#393A34;"> --secret=</span><span style="color:#B56959;">&quot;access_key&quot;</span><span style="color:#393A34;"> --secret=</span><span style="color:#B56959;">&quot;secret_key&quot;</span><span style="color:#393A34;"> minio/minio server /data</span></span>
<span class="line"></span></code></pre></div><p>\u66F4\u591A <code>docker service</code>\u4FE1\u606F\uFF0C\u8BF7\u8BBF\u95EE <a href="https://docs.docker.com/engine/swarm/how-swarm-mode-works/services/" target="_blank" rel="noopener noreferrer">\u8FD9\u91CC</a></p><h3 id="\u83B7\u53D6\u5BB9\u5668id" tabindex="-1">\u83B7\u53D6\u5BB9\u5668ID <a class="header-anchor" href="#\u83B7\u53D6\u5BB9\u5668id" aria-hidden="true">#</a></h3><p>\u5728\u5BB9\u5668\u4E2D\u4F7F\u7528Docker\u547D\u4EE4, \u4F60\u9700\u8981\u77E5\u9053\u8FD9\u4E2A\u5BB9\u5668\u7684 <code>\u5BB9\u5668ID</code> \u3002 \u4E3A\u4E86\u83B7\u53D6 <code>Container ID</code>, \u8FD0\u884C</p><div class="language-sh"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">Copydocker ps -a</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">Copydocker ps -a</span></span>
<span class="line"></span></code></pre></div><p><code>-a</code> flag \u786E\u4FDD\u4F60\u83B7\u53D6\u6240\u6709\u7684\u5BB9\u5668(\u521B\u5EFA\u7684\uFF0C\u6B63\u5728\u8FD0\u884C\u7684\uFF0C\u9000\u51FA\u7684)\uFF0C\u7136\u540E\u4ECE\u8F93\u51FA\u4E2D\u8BC6\u522B<code>Container ID</code>\u3002</p><h3 id="\u542F\u52A8\u548C\u505C\u6B62\u5BB9\u5668" tabindex="-1">\u542F\u52A8\u548C\u505C\u6B62\u5BB9\u5668 <a class="header-anchor" href="#\u542F\u52A8\u548C\u505C\u6B62\u5BB9\u5668" aria-hidden="true">#</a></h3><p>\u542F\u52A8\u5BB9\u5668,\u4F60\u53EF\u4EE5\u4F7F\u7528 <a href="https://docs.docker.com/engine/reference/commandline/start/" target="_blank" rel="noopener noreferrer"><code>docker start</code></a> \u547D\u4EE4\u3002</p><div class="language-sh"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">Copydocker start </span><span style="color:#CB7676;">&lt;</span><span style="color:#DBD7CA;">container_id</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">Copydocker start </span><span style="color:#AB5959;">&lt;</span><span style="color:#393A34;">container_id</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span></code></pre></div><p>\u505C\u6B62\u4E00\u4E0B\u6B63\u5728\u8FD0\u884C\u7684\u5BB9\u5668, \u4F7F\u7528 <a href="https://docs.docker.com/engine/reference/commandline/stop/" target="_blank" rel="noopener noreferrer"><code>docker stop</code></a> \u547D\u4EE4\u3002</p><div class="language-sh"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">Copydocker stop </span><span style="color:#CB7676;">&lt;</span><span style="color:#DBD7CA;">container_id</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">Copydocker stop </span><span style="color:#AB5959;">&lt;</span><span style="color:#393A34;">container_id</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span></code></pre></div><h3 id="minio\u5BB9\u5668\u65E5\u5FD7" tabindex="-1">MinIO\u5BB9\u5668\u65E5\u5FD7 <a class="header-anchor" href="#minio\u5BB9\u5668\u65E5\u5FD7" aria-hidden="true">#</a></h3><p>\u83B7\u53D6MinIO\u65E5\u5FD7\uFF0C\u4F7F\u7528 <a href="https://docs.docker.com/engine/reference/commandline/logs/" target="_blank" rel="noopener noreferrer"><code>docker logs</code></a> \u547D\u4EE4\u3002</p><div class="language-sh"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">Copydocker logs </span><span style="color:#CB7676;">&lt;</span><span style="color:#DBD7CA;">container_id</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">Copydocker logs </span><span style="color:#AB5959;">&lt;</span><span style="color:#393A34;">container_id</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span></code></pre></div><h3 id="\u76D1\u63A7miniodocker\u5BB9\u5668" tabindex="-1">\u76D1\u63A7MinioDocker\u5BB9\u5668 <a class="header-anchor" href="#\u76D1\u63A7miniodocker\u5BB9\u5668" aria-hidden="true">#</a></h3><p>\u76D1\u63A7MinIO\u5BB9\u5668\u4F7F\u7528\u7684\u8D44\u6E90,\u4F7F\u7528 <a href="https://docs.docker.com/engine/reference/commandline/stats/" target="_blank" rel="noopener noreferrer"><code>docker stats</code></a> \u547D\u4EE4.</p><div class="language-sh"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">Copydocker stats </span><span style="color:#CB7676;">&lt;</span><span style="color:#DBD7CA;">container_id</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">Copydocker stats </span><span style="color:#AB5959;">&lt;</span><span style="color:#393A34;">container_id</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span></code></pre></div>`,26),c=[p];function l(r,t,i,d,y,A){return e(),a("div",null,c)}var h=s(o,[["render",l]]);export{k as __pageData,h as default};
