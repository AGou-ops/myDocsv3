import{_ as s,o as n,c as a,a as l}from"./app.1e6146c3.js";const C=JSON.parse('{"title":"MySQL \u51FD\u6570","description":"","frontmatter":{},"headers":[{"level":2,"title":"MySQL \u51FD\u6570","slug":"mysql-\u51FD\u6570"},{"level":2,"title":"\u51FD\u6570\u589E\u5220\u6539","slug":"\u51FD\u6570\u589E\u5220\u6539"},{"level":2,"title":"\u5F02\u5E38\u6355\u83B7\u53CA\u5904\u7406","slug":"\u5F02\u5E38\u6355\u83B7\u53CA\u5904\u7406"},{"level":2,"title":"\u6D41\u7A0B\u63A7\u5236\u8BED\u53E5","slug":"\u6D41\u7A0B\u63A7\u5236\u8BED\u53E5"},{"level":3,"title":"IF","slug":"if"},{"level":3,"title":"CASE","slug":"case"},{"level":3,"title":"while\u3001repeat\u3001loop\u5FAA\u73AF","slug":"while\u3001repeat\u3001loop\u5FAA\u73AF"}],"relativePath":"LinuxBasics/DataBases/MySQL/MySQL Function.md","lastUpdated":1657272051000}'),p={name:"LinuxBasics/DataBases/MySQL/MySQL Function.md"},o=l(`<h2 id="mysql-\u51FD\u6570" tabindex="-1">MySQL \u51FD\u6570 <a class="header-anchor" href="#mysql-\u51FD\u6570" aria-hidden="true">#</a></h2><p>\u5B58\u50A8\u7684\u51FD\u6570\u662F\u8FD4\u56DE\u5355\u4E2A\u503C\u7684\u7279\u6B8A\u7C7B\u578B\u7684\u5B58\u50A8\u7A0B\u5E8F\u3002\u60A8\u4F7F\u7528\u5B58\u50A8\u7684\u51FD\u6570\u6765\u5C01\u88C5\u5728SQL\u8BED\u53E5\u6216\u5B58\u50A8\u7684\u7A0B\u5E8F\u4E2D\u53EF\u91CD\u7528\u7684\u5E38\u7528\u516C\u5F0F\u6216\u4E1A\u52A1\u89C4\u5219\u3002\u4E0E\u5B58\u50A8\u8FC7\u7A0B\u4E0D\u540C\uFF0C\u60A8\u53EF\u4EE5\u5728SQL\u8BED\u53E5\u4E2D\u4F7F\u7528\u5B58\u50A8\u7684\u51FD\u6570\uFF0C\u4E5F\u53EF\u4EE5\u5728\u8868\u8FBE\u5F0F\u4E2D\u4F7F\u7528\u3002 \u8FD9\u6709\u52A9\u4E8E\u63D0\u9AD8\u7A0B\u5E8F\u4EE3\u7801\u7684\u53EF\u8BFB\u6027\u548C\u53EF\u7EF4\u62A4\u6027\u3002</p><h2 id="\u51FD\u6570\u589E\u5220\u6539" tabindex="-1">\u51FD\u6570\u589E\u5220\u6539 <a class="header-anchor" href="#\u51FD\u6570\u589E\u5220\u6539" aria-hidden="true">#</a></h2><div class="language-sql"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">mysql</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">CREATE</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">FUNCTION</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&lt;</span><span style="color:#DBD7CA;">function_name</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;">(param1,param2,\u2026)</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#4D9375;">RETURNS</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&lt;</span><span style="color:#DBD7CA;">datatype</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"><span style="color:#DBD7CA;">       [NOT] DETERMINISTIC</span></span>
<span class="line"><span style="color:#DBD7CA;">       </span><span style="color:#4D9375;">statement</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">mysql</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">CREATE</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">FUNCTION</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&lt;</span><span style="color:#393A34;">function_name</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;">(param1,param2,\u2026)</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#1C6B48;">RETURNS</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&lt;</span><span style="color:#393A34;">datatype</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"><span style="color:#393A34;">       [NOT] DETERMINISTIC</span></span>
<span class="line"><span style="color:#393A34;">       </span><span style="color:#1C6B48;">statement</span></span>
<span class="line"></span></code></pre></div><p>\u8C03\u7528\u51FD\u6570\uFF1A</p><div class="language-sql"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">mysql</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">select</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&lt;</span><span style="color:#DBD7CA;">function_name</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;">(param1,param2...);</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">mysql</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">select</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&lt;</span><span style="color:#393A34;">function_name</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;">(param1,param2...);</span></span>
<span class="line"></span></code></pre></div><p>\u5220\u9664\u51FD\u6570\uFF1A</p><div class="language-sql"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">mysql</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">drop</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">function</span><span style="color:#DBD7CA;"> [if exists] </span><span style="color:#CB7676;">&lt;</span><span style="color:#DBD7CA;">function_name</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">mysql</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">drop</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">function</span><span style="color:#393A34;"> [if exists] </span><span style="color:#AB5959;">&lt;</span><span style="color:#393A34;">function_name</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;">;</span></span>
<span class="line"></span></code></pre></div><p>\u67E5\u770B\u51FD\u6570\u5185\u5BB9\uFF1A</p><div class="language-sql"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">mysql</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> show </span><span style="color:#4D9375;">create</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">function</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&lt;</span><span style="color:#DBD7CA;">function_name</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">mysql</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> show </span><span style="color:#1C6B48;">create</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">function</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&lt;</span><span style="color:#393A34;">function_name</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;">;</span></span>
<span class="line"></span></code></pre></div><p>\u2139\uFE0F\u5176\u4ED6\uFF1A\u5B9A\u4E49\u5C40\u90E8\u53D8\u91CF<code>DECLARE i int DEFAULT 1; </code></p><h2 id="\u5F02\u5E38\u6355\u83B7\u53CA\u5904\u7406" tabindex="-1">\u5F02\u5E38\u6355\u83B7\u53CA\u5904\u7406 <a class="header-anchor" href="#\u5F02\u5E38\u6355\u83B7\u53CA\u5904\u7406" aria-hidden="true">#</a></h2><div class="language-sql"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;">/*\u5220\u9664\u5B58\u50A8\u8FC7\u7A0B*/</span></span>
<span class="line"><span style="color:#4D9375;">DROP</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">PROCEDURE</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">IF</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">EXISTS</span><span style="color:#DBD7CA;"> proc2;</span></span>
<span class="line"><span style="color:#758575;">/*\u58F0\u660E\u7ED3\u675F\u7B26\u4E3A$*/</span></span>
<span class="line"><span style="color:#DBD7CA;">DELIMITER $</span></span>
<span class="line"><span style="color:#758575;">/*\u521B\u5EFA\u5B58\u50A8\u8FC7\u7A0B*/</span></span>
<span class="line"><span style="color:#4D9375;">CREATE</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">PROCEDURE</span><span style="color:#DBD7CA;"> proc2(a1 </span><span style="color:#4D9375;">int</span><span style="color:#DBD7CA;">,a2 </span><span style="color:#4D9375;">int</span><span style="color:#DBD7CA;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#4D9375;">BEGIN</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">/*\u58F0\u660E\u4E00\u4E2A\u53D8\u91CF\uFF0C\u6807\u8BC6\u662F\u5426\u6709sql\u5F02\u5E38*/</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">DECLARE</span><span style="color:#DBD7CA;"> hasSqlError </span><span style="color:#4D9375;">int</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">DEFAULT</span><span style="color:#DBD7CA;"> FALSE;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">/*\u5728\u6267\u884C\u8FC7\u7A0B\u4E2D\u51FA\u4EFB\u4F55\u5F02\u5E38\u8BBE\u7F6EhasSqlError\u4E3ATRUE*/</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">\`DECLARE CONTINUE HANDLER FOR SQLEXCEPTION SET hasSqlError=TRUE;\`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">/*\u5F00\u542F\u4E8B\u52A1*/</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">START</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">TRANSACTION</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">INSERT</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">INTO</span><span style="color:#DBD7CA;"> test1(a) </span><span style="color:#4D9375;">VALUES</span><span style="color:#DBD7CA;"> (a1);</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">INSERT</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">INTO</span><span style="color:#DBD7CA;"> test1(a) </span><span style="color:#4D9375;">VALUES</span><span style="color:#DBD7CA;"> (a2);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#758575;">/*\u6839\u636EhasSqlError\u5224\u65AD\u662F\u5426\u6709\u5F02\u5E38\uFF0C\u505A\u56DE\u6EDA\u548C\u63D0\u4EA4\u64CD\u4F5C*/</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">IF</span><span style="color:#DBD7CA;"> hasSqlError </span><span style="color:#4D9375;">THEN</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#4D9375;">ROLLBACK</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">ELSE</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#4D9375;">COMMIT</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">END</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">IF</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#4D9375;">END</span><span style="color:#DBD7CA;"> $</span></span>
<span class="line"><span style="color:#758575;">/*\u7ED3\u675F\u7B26\u7F6E\u4E3A;*/</span></span>
<span class="line"><span style="color:#DBD7CA;">DELIMITER ;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">/*\u5220\u9664\u5B58\u50A8\u8FC7\u7A0B*/</span></span>
<span class="line"><span style="color:#1C6B48;">DROP</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">PROCEDURE</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">IF</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">EXISTS</span><span style="color:#393A34;"> proc2;</span></span>
<span class="line"><span style="color:#A0ADA0;">/*\u58F0\u660E\u7ED3\u675F\u7B26\u4E3A$*/</span></span>
<span class="line"><span style="color:#393A34;">DELIMITER $</span></span>
<span class="line"><span style="color:#A0ADA0;">/*\u521B\u5EFA\u5B58\u50A8\u8FC7\u7A0B*/</span></span>
<span class="line"><span style="color:#1C6B48;">CREATE</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">PROCEDURE</span><span style="color:#393A34;"> proc2(a1 </span><span style="color:#1C6B48;">int</span><span style="color:#393A34;">,a2 </span><span style="color:#1C6B48;">int</span><span style="color:#393A34;">)</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">BEGIN</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">/*\u58F0\u660E\u4E00\u4E2A\u53D8\u91CF\uFF0C\u6807\u8BC6\u662F\u5426\u6709sql\u5F02\u5E38*/</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">DECLARE</span><span style="color:#393A34;"> hasSqlError </span><span style="color:#1C6B48;">int</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">DEFAULT</span><span style="color:#393A34;"> FALSE;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">/*\u5728\u6267\u884C\u8FC7\u7A0B\u4E2D\u51FA\u4EFB\u4F55\u5F02\u5E38\u8BBE\u7F6EhasSqlError\u4E3ATRUE*/</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">\`DECLARE CONTINUE HANDLER FOR SQLEXCEPTION SET hasSqlError=TRUE;\`</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">/*\u5F00\u542F\u4E8B\u52A1*/</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">START</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">TRANSACTION</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">INSERT</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">INTO</span><span style="color:#393A34;"> test1(a) </span><span style="color:#1C6B48;">VALUES</span><span style="color:#393A34;"> (a1);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">INSERT</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">INTO</span><span style="color:#393A34;"> test1(a) </span><span style="color:#1C6B48;">VALUES</span><span style="color:#393A34;"> (a2);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#A0ADA0;">/*\u6839\u636EhasSqlError\u5224\u65AD\u662F\u5426\u6709\u5F02\u5E38\uFF0C\u505A\u56DE\u6EDA\u548C\u63D0\u4EA4\u64CD\u4F5C*/</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">IF</span><span style="color:#393A34;"> hasSqlError </span><span style="color:#1C6B48;">THEN</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#1C6B48;">ROLLBACK</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">ELSE</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#1C6B48;">COMMIT</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">END</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">IF</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">END</span><span style="color:#393A34;"> $</span></span>
<span class="line"><span style="color:#A0ADA0;">/*\u7ED3\u675F\u7B26\u7F6E\u4E3A;*/</span></span>
<span class="line"><span style="color:#393A34;">DELIMITER ;</span></span>
<span class="line"></span></code></pre></div><h2 id="\u6D41\u7A0B\u63A7\u5236\u8BED\u53E5" tabindex="-1">\u6D41\u7A0B\u63A7\u5236\u8BED\u53E5 <a class="header-anchor" href="#\u6D41\u7A0B\u63A7\u5236\u8BED\u53E5" aria-hidden="true">#</a></h2><h3 id="if" tabindex="-1">IF <a class="header-anchor" href="#if" aria-hidden="true">#</a></h3><p>\u8BED\u6CD5\uFF1A</p><div class="language-sql"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">IF</span><span style="color:#DBD7CA;"> search_condition </span><span style="color:#4D9375;">THEN</span><span style="color:#DBD7CA;"> statement_list</span></span>
<span class="line"><span style="color:#DBD7CA;">    [ELSEIF search_condition THEN statement_list]...</span></span>
<span class="line"><span style="color:#DBD7CA;">    [ELSE statement_list]</span></span>
<span class="line"><span style="color:#4D9375;">END</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">IF</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">IF</span><span style="color:#393A34;"> search_condition </span><span style="color:#1C6B48;">THEN</span><span style="color:#393A34;"> statement_list</span></span>
<span class="line"><span style="color:#393A34;">    [ELSEIF search_condition THEN statement_list]...</span></span>
<span class="line"><span style="color:#393A34;">    [ELSE statement_list]</span></span>
<span class="line"><span style="color:#1C6B48;">END</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">IF</span></span>
<span class="line"></span></code></pre></div><p>\u7B80\u5355\u793A\u4F8B\uFF1A</p><div class="language-sql"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;">-- \u7EC8\u7AEF\u77ED\u8BED\u53E5\u4E2D\u4F7F\u7528\uFF0Cif(\u6761\u4EF6\u8868\u8FBE\u5F0F,\u503C1,\u503C2)\uFF0C\u5F53\u6761\u4EF6\u8868\u8FBE\u5F0F\u503C\u4E3Atrue\u65F6\u8FD4\u56DE\u503C1\uFF0C\u53CD\u4E4B\u8FD4\u56DE\u503C2</span></span>
<span class="line"><span style="color:#4D9375;">SELECT</span><span style="color:#DBD7CA;"> id \u7F16\u53F7,</span><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;">(sex</span><span style="color:#CB7676;">=</span><span style="color:#6394BF;">1</span><span style="color:#DBD7CA;">,</span><span style="color:#C98A7D;">&#39;\u7537&#39;</span><span style="color:#DBD7CA;">,</span><span style="color:#C98A7D;">&#39;\u5973&#39;</span><span style="color:#DBD7CA;">) \u6027\u522B,</span><span style="color:#4D9375;">name</span><span style="color:#DBD7CA;"> \u59D3\u540D </span><span style="color:#4D9375;">FROM</span><span style="color:#DBD7CA;"> t_user;</span></span>
<span class="line"><span style="color:#758575;">-- \u51FD\u6570\u4E2D\u4F7F\u7528</span></span>
<span class="line"><span style="color:#4D9375;">IF</span><span style="color:#DBD7CA;"> age</span><span style="color:#CB7676;">&gt;</span><span style="color:#6394BF;">20</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">THEN</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">SET</span><span style="color:#DBD7CA;"> @count1</span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;">@count1</span><span style="color:#CB7676;">+</span><span style="color:#6394BF;">1</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    ELSEIF age</span><span style="color:#CB7676;">=</span><span style="color:#6394BF;">20</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">THEN</span><span style="color:#DBD7CA;"> @count2</span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;">@count2</span><span style="color:#CB7676;">+</span><span style="color:#6394BF;">1</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">ELSE</span><span style="color:#DBD7CA;"> @count3</span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;">@count3</span><span style="color:#CB7676;">+</span><span style="color:#6394BF;">1</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#4D9375;">END</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">IF</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">-- \u7EC8\u7AEF\u77ED\u8BED\u53E5\u4E2D\u4F7F\u7528\uFF0Cif(\u6761\u4EF6\u8868\u8FBE\u5F0F,\u503C1,\u503C2)\uFF0C\u5F53\u6761\u4EF6\u8868\u8FBE\u5F0F\u503C\u4E3Atrue\u65F6\u8FD4\u56DE\u503C1\uFF0C\u53CD\u4E4B\u8FD4\u56DE\u503C2</span></span>
<span class="line"><span style="color:#1C6B48;">SELECT</span><span style="color:#393A34;"> id \u7F16\u53F7,</span><span style="color:#1C6B48;">if</span><span style="color:#393A34;">(sex</span><span style="color:#AB5959;">=</span><span style="color:#296AA3;">1</span><span style="color:#393A34;">,</span><span style="color:#B56959;">&#39;\u7537&#39;</span><span style="color:#393A34;">,</span><span style="color:#B56959;">&#39;\u5973&#39;</span><span style="color:#393A34;">) \u6027\u522B,</span><span style="color:#1C6B48;">name</span><span style="color:#393A34;"> \u59D3\u540D </span><span style="color:#1C6B48;">FROM</span><span style="color:#393A34;"> t_user;</span></span>
<span class="line"><span style="color:#A0ADA0;">-- \u51FD\u6570\u4E2D\u4F7F\u7528</span></span>
<span class="line"><span style="color:#1C6B48;">IF</span><span style="color:#393A34;"> age</span><span style="color:#AB5959;">&gt;</span><span style="color:#296AA3;">20</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">THEN</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">SET</span><span style="color:#393A34;"> @count1</span><span style="color:#AB5959;">=</span><span style="color:#393A34;">@count1</span><span style="color:#AB5959;">+</span><span style="color:#296AA3;">1</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    ELSEIF age</span><span style="color:#AB5959;">=</span><span style="color:#296AA3;">20</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">THEN</span><span style="color:#393A34;"> @count2</span><span style="color:#AB5959;">=</span><span style="color:#393A34;">@count2</span><span style="color:#AB5959;">+</span><span style="color:#296AA3;">1</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">ELSE</span><span style="color:#393A34;"> @count3</span><span style="color:#AB5959;">=</span><span style="color:#393A34;">@count3</span><span style="color:#AB5959;">+</span><span style="color:#296AA3;">1</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#1C6B48;">END</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">IF</span><span style="color:#393A34;">;</span></span>
<span class="line"></span></code></pre></div><h3 id="case" tabindex="-1">CASE <a class="header-anchor" href="#case" aria-hidden="true">#</a></h3><p>\u8BED\u6CD5\uFF1A</p><div class="language-sql"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">CASE</span><span style="color:#DBD7CA;"> case_value</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">WHEN</span><span style="color:#DBD7CA;"> when_value </span><span style="color:#4D9375;">THEN</span><span style="color:#DBD7CA;"> statement_list</span></span>
<span class="line"><span style="color:#DBD7CA;">    [WHEN when_value THEN statement_list]...</span></span>
<span class="line"><span style="color:#DBD7CA;">    [ELSE statement_list]</span></span>
<span class="line"><span style="color:#4D9375;">END</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">CASE</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">CASE</span><span style="color:#393A34;"> case_value</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">WHEN</span><span style="color:#393A34;"> when_value </span><span style="color:#1C6B48;">THEN</span><span style="color:#393A34;"> statement_list</span></span>
<span class="line"><span style="color:#393A34;">    [WHEN when_value THEN statement_list]...</span></span>
<span class="line"><span style="color:#393A34;">    [ELSE statement_list]</span></span>
<span class="line"><span style="color:#1C6B48;">END</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">CASE</span></span>
<span class="line"></span></code></pre></div><p>\u7B80\u5355\u793A\u4F8B\uFF1A</p><div class="language-sql"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;">-- \u7EC8\u7AEF\u6BB5\u8BED\u53E5\u4E2D\u4F7F\u7528</span></span>
<span class="line"><span style="color:#4D9375;">SELECT</span><span style="color:#DBD7CA;"> id \u7F16\u53F7,(</span><span style="color:#4D9375;">CASE</span><span style="color:#DBD7CA;"> sex </span><span style="color:#4D9375;">WHEN</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">THEN</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;\u7537&#39;</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">ELSE</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;\u5973&#39;</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">END</span><span style="color:#DBD7CA;">) \u6027\u522B,</span><span style="color:#4D9375;">name</span><span style="color:#DBD7CA;"> \u59D3\u540D </span><span style="color:#4D9375;">FROM</span><span style="color:#DBD7CA;"> t_user;</span></span>
<span class="line"><span style="color:#758575;">-- \u51FD\u6570\u4E2D\u4F7F\u7528</span></span>
<span class="line"><span style="color:#4D9375;">CASE</span><span style="color:#DBD7CA;"> age</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">WHEN</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">20</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">THEN</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">SET</span><span style="color:#DBD7CA;"> @count1</span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;">@count1</span><span style="color:#CB7676;">+</span><span style="color:#6394BF;">1</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">ELSE</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">SET</span><span style="color:#DBD7CA;"> @count2</span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;">@count2</span><span style="color:#CB7676;">+</span><span style="color:#6394BF;">1</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#4D9375;">END</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">CASE</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">\u4EE3\u7801\u4E5F\u53EF\u4EE5\u662F\u4E0B\u9762\u7684\u5F62\u5F0F\uFF1A</span></span>
<span class="line"><span style="color:#4D9375;">CASE</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">WHEN</span><span style="color:#DBD7CA;"> age</span><span style="color:#CB7676;">=</span><span style="color:#6394BF;">20</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">THEN</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">SET</span><span style="color:#DBD7CA;"> @count1</span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;">@count1</span><span style="color:#CB7676;">+</span><span style="color:#6394BF;">1</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">ELSE</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">SET</span><span style="color:#DBD7CA;"> @count2</span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;">@count2</span><span style="color:#CB7676;">+</span><span style="color:#6394BF;">1</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#4D9375;">END</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">CASE</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">-- \u7EC8\u7AEF\u6BB5\u8BED\u53E5\u4E2D\u4F7F\u7528</span></span>
<span class="line"><span style="color:#1C6B48;">SELECT</span><span style="color:#393A34;"> id \u7F16\u53F7,(</span><span style="color:#1C6B48;">CASE</span><span style="color:#393A34;"> sex </span><span style="color:#1C6B48;">WHEN</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">THEN</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;\u7537&#39;</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">ELSE</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;\u5973&#39;</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">END</span><span style="color:#393A34;">) \u6027\u522B,</span><span style="color:#1C6B48;">name</span><span style="color:#393A34;"> \u59D3\u540D </span><span style="color:#1C6B48;">FROM</span><span style="color:#393A34;"> t_user;</span></span>
<span class="line"><span style="color:#A0ADA0;">-- \u51FD\u6570\u4E2D\u4F7F\u7528</span></span>
<span class="line"><span style="color:#1C6B48;">CASE</span><span style="color:#393A34;"> age</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">WHEN</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">20</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">THEN</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">SET</span><span style="color:#393A34;"> @count1</span><span style="color:#AB5959;">=</span><span style="color:#393A34;">@count1</span><span style="color:#AB5959;">+</span><span style="color:#296AA3;">1</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">ELSE</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">SET</span><span style="color:#393A34;"> @count2</span><span style="color:#AB5959;">=</span><span style="color:#393A34;">@count2</span><span style="color:#AB5959;">+</span><span style="color:#296AA3;">1</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#1C6B48;">END</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">CASE</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">\u4EE3\u7801\u4E5F\u53EF\u4EE5\u662F\u4E0B\u9762\u7684\u5F62\u5F0F\uFF1A</span></span>
<span class="line"><span style="color:#1C6B48;">CASE</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">WHEN</span><span style="color:#393A34;"> age</span><span style="color:#AB5959;">=</span><span style="color:#296AA3;">20</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">THEN</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">SET</span><span style="color:#393A34;"> @count1</span><span style="color:#AB5959;">=</span><span style="color:#393A34;">@count1</span><span style="color:#AB5959;">+</span><span style="color:#296AA3;">1</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">ELSE</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">SET</span><span style="color:#393A34;"> @count2</span><span style="color:#AB5959;">=</span><span style="color:#393A34;">@count2</span><span style="color:#AB5959;">+</span><span style="color:#296AA3;">1</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#1C6B48;">END</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">CASE</span><span style="color:#393A34;">;</span></span>
<span class="line"></span></code></pre></div><h3 id="while\u3001repeat\u3001loop\u5FAA\u73AF" tabindex="-1">while\u3001repeat\u3001loop\u5FAA\u73AF <a class="header-anchor" href="#while\u3001repeat\u3001loop\u5FAA\u73AF" aria-hidden="true">#</a></h3><p><strong>mysql\u4E2D\u5FAA\u73AF\u67093\u79CD\u5199\u6CD5\uFF1A</strong></p><ol><li>while\uFF1A\u7C7B\u4F3C\u4E8Ejava\u4E2D\u7684while\u5FAA\u73AF</li><li>repeat\uFF1A\u7C7B\u4F3C\u4E8Ejava\u4E2D\u7684do while\u5FAA\u73AF</li><li>loop\uFF1A\u7C7B\u4F3C\u4E8Ejava\u4E2D\u7684while(true)\u6B7B\u5FAA\u73AF\uFF0C\u9700\u8981\u5728\u5185\u90E8\u8FDB\u884C\u63A7\u5236\u3002</li></ol><h4 id="\u7ED3\u675F\u5FAA\u73AF" tabindex="-1">\u7ED3\u675F\u5FAA\u73AF <a class="header-anchor" href="#\u7ED3\u675F\u5FAA\u73AF" aria-hidden="true">#</a></h4><div class="language-sql"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;">-- \u7ED3\u675F\u672C\u6B21\u5FAA\u73AF\uFF0C\u7C7B\u4F3C\u4E8Ejava\u4E2D\u7684continue</span></span>
<span class="line"><span style="color:#DBD7CA;">iterate \u5FAA\u73AF\u6807\u7B7E;</span></span>
<span class="line"><span style="color:#758575;">-- \u9000\u51FA\u5FAA\u73AF\uFF0C\u7C7B\u4F3C\u4E8Ejava\u4E2D\u7684break</span></span>
<span class="line"><span style="color:#DBD7CA;">leave \u5FAA\u73AF\u6807\u7B7E;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;">-- \u7ED3\u675F\u672C\u6B21\u5FAA\u73AF\uFF0C\u7C7B\u4F3C\u4E8Ejava\u4E2D\u7684continue</span></span>
<span class="line"><span style="color:#393A34;">iterate \u5FAA\u73AF\u6807\u7B7E;</span></span>
<span class="line"><span style="color:#A0ADA0;">-- \u9000\u51FA\u5FAA\u73AF\uFF0C\u7C7B\u4F3C\u4E8Ejava\u4E2D\u7684break</span></span>
<span class="line"><span style="color:#393A34;">leave \u5FAA\u73AF\u6807\u7B7E;</span></span>
<span class="line"></span></code></pre></div><h4 id="while" tabindex="-1">while <a class="header-anchor" href="#while" aria-hidden="true">#</a></h4><p>\u8BED\u6CD5\uFF1A</p><div class="language-sql"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">[begin_label:] </span><span style="color:#4D9375;">WHILE</span><span style="color:#DBD7CA;"> search_condition DO</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">statement</span><span style="color:#DBD7CA;"> list</span></span>
<span class="line"><span style="color:#4D9375;">END</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">WHILE</span><span style="color:#DBD7CA;"> [end_label]</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">[begin_label:] </span><span style="color:#1C6B48;">WHILE</span><span style="color:#393A34;"> search_condition DO</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">statement</span><span style="color:#393A34;"> list</span></span>
<span class="line"><span style="color:#1C6B48;">END</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">WHILE</span><span style="color:#393A34;"> [end_label]</span></span>
<span class="line"></span></code></pre></div><p>\u7B80\u5355\u793A\u4F8B\uFF1A</p><div class="language-sql"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">a:</span><span style="color:#4D9375;">WHILE</span><span style="color:#DBD7CA;"> @count</span><span style="color:#CB7676;">&lt;</span><span style="color:#6394BF;">100</span><span style="color:#DBD7CA;"> DO</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">SET</span><span style="color:#DBD7CA;"> @count</span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;">@count</span><span style="color:#CB7676;">+</span><span style="color:#6394BF;">1</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#4D9375;">END</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">WHILE</span><span style="color:#DBD7CA;"> a;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">a:</span><span style="color:#1C6B48;">WHILE</span><span style="color:#393A34;"> @count</span><span style="color:#AB5959;">&lt;</span><span style="color:#296AA3;">100</span><span style="color:#393A34;"> DO</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">SET</span><span style="color:#393A34;"> @count</span><span style="color:#AB5959;">=</span><span style="color:#393A34;">@count</span><span style="color:#AB5959;">+</span><span style="color:#296AA3;">1</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#1C6B48;">END</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">WHILE</span><span style="color:#393A34;"> a;</span></span>
<span class="line"></span></code></pre></div><h4 id="repeat" tabindex="-1">repeat <a class="header-anchor" href="#repeat" aria-hidden="true">#</a></h4><p>\u8BED\u6CD5\uFF1A</p><div class="language-sql"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">[begin_label:] </span><span style="color:#4D9375;">REPEAT</span></span>
<span class="line"><span style="color:#DBD7CA;">    statement_list</span></span>
<span class="line"><span style="color:#DBD7CA;">    UNTIL search_condition</span></span>
<span class="line"><span style="color:#4D9375;">END</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">REPEAT</span><span style="color:#DBD7CA;"> [end_label]</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">[begin_label:] </span><span style="color:#1C6B48;">REPEAT</span></span>
<span class="line"><span style="color:#393A34;">    statement_list</span></span>
<span class="line"><span style="color:#393A34;">    UNTIL search_condition</span></span>
<span class="line"><span style="color:#1C6B48;">END</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">REPEAT</span><span style="color:#393A34;"> [end_label]</span></span>
<span class="line"></span></code></pre></div><p>\u7B80\u5355\u793A\u4F8B\uFF1A</p><div class="language-sql"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#4D9375;">REPEAT</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">SET</span><span style="color:#DBD7CA;"> @count</span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;">@count</span><span style="color:#CB7676;">+</span><span style="color:#6394BF;">1</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    UNTIL @count</span><span style="color:#CB7676;">=</span><span style="color:#6394BF;">100</span></span>
<span class="line"><span style="color:#4D9375;">END</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">REPEAT</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#758575;">-- </span></span>
<span class="line"><span style="color:#4D9375;">CREATE</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">PROCEDURE</span><span style="color:#DBD7CA;"> proc6(v_count </span><span style="color:#4D9375;">int</span><span style="color:#DBD7CA;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#4D9375;">BEGIN</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">DECLARE</span><span style="color:#DBD7CA;"> i </span><span style="color:#4D9375;">int</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">DEFAULT</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">1</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    a:</span><span style="color:#4D9375;">REPEAT</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#4D9375;">INSERT</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">into</span><span style="color:#DBD7CA;"> test1 </span><span style="color:#4D9375;">values</span><span style="color:#DBD7CA;"> (i);</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#4D9375;">SET</span><span style="color:#DBD7CA;"> i</span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;">i</span><span style="color:#CB7676;">+</span><span style="color:#6394BF;">1</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    UNTIL i</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;">v_count </span><span style="color:#4D9375;">END</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">REPEAT</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#4D9375;">END</span><span style="color:#DBD7CA;"> $</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#1C6B48;">REPEAT</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">SET</span><span style="color:#393A34;"> @count</span><span style="color:#AB5959;">=</span><span style="color:#393A34;">@count</span><span style="color:#AB5959;">+</span><span style="color:#296AA3;">1</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    UNTIL @count</span><span style="color:#AB5959;">=</span><span style="color:#296AA3;">100</span></span>
<span class="line"><span style="color:#1C6B48;">END</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">REPEAT</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#A0ADA0;">-- </span></span>
<span class="line"><span style="color:#1C6B48;">CREATE</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">PROCEDURE</span><span style="color:#393A34;"> proc6(v_count </span><span style="color:#1C6B48;">int</span><span style="color:#393A34;">)</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">BEGIN</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">DECLARE</span><span style="color:#393A34;"> i </span><span style="color:#1C6B48;">int</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">DEFAULT</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">1</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    a:</span><span style="color:#1C6B48;">REPEAT</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#1C6B48;">INSERT</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">into</span><span style="color:#393A34;"> test1 </span><span style="color:#1C6B48;">values</span><span style="color:#393A34;"> (i);</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#1C6B48;">SET</span><span style="color:#393A34;"> i</span><span style="color:#AB5959;">=</span><span style="color:#393A34;">i</span><span style="color:#AB5959;">+</span><span style="color:#296AA3;">1</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    UNTIL i</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;">v_count </span><span style="color:#1C6B48;">END</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">REPEAT</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">END</span><span style="color:#393A34;"> $</span></span>
<span class="line"></span></code></pre></div><h4 id="loop" tabindex="-1">loop <a class="header-anchor" href="#loop" aria-hidden="true">#</a></h4><p>\u8BED\u6CD5\uFF1A</p><div class="language-sql"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">[begin_label:]</span><span style="color:#4D9375;">LOOP</span></span>
<span class="line"><span style="color:#DBD7CA;">    statement_list</span></span>
<span class="line"><span style="color:#4D9375;">END</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">LOOP</span><span style="color:#DBD7CA;"> [end_label]</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">[begin_label:]</span><span style="color:#1C6B48;">LOOP</span></span>
<span class="line"><span style="color:#393A34;">    statement_list</span></span>
<span class="line"><span style="color:#1C6B48;">END</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">LOOP</span><span style="color:#393A34;"> [end_label]</span></span>
<span class="line"></span></code></pre></div><p>\u7B80\u5355\u6837\u4F8B\uFF1A</p><div class="language-sql"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">add_num:</span><span style="color:#4D9375;">LOOP</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">SET</span><span style="color:#DBD7CA;"> @count</span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;">@count</span><span style="color:#CB7676;">+</span><span style="color:#6394BF;">1</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#4D9375;">END</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">LOOP</span><span style="color:#DBD7CA;"> add_num;</span></span>
<span class="line"><span style="color:#758575;">-- </span></span>
<span class="line"><span style="color:#4D9375;">CREATE</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">PROCEDURE</span><span style="color:#DBD7CA;"> proc7(v_count </span><span style="color:#4D9375;">int</span><span style="color:#DBD7CA;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#4D9375;">BEGIN</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">DECLARE</span><span style="color:#DBD7CA;"> i </span><span style="color:#4D9375;">int</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">DEFAULT</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">0</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    a:</span><span style="color:#4D9375;">LOOP</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#4D9375;">SET</span><span style="color:#DBD7CA;"> i</span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;">i</span><span style="color:#CB7676;">+</span><span style="color:#6394BF;">1</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#758575;">/*\u5F53i&gt;v_count\u7684\u65F6\u5019\u9000\u51FA\u5FAA\u73AF*/</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#4D9375;">IF</span><span style="color:#DBD7CA;"> i</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;">v_count </span><span style="color:#4D9375;">THEN</span></span>
<span class="line"><span style="color:#DBD7CA;">        LEAVE a;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#4D9375;">END</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">IF</span><span style="color:#DBD7CA;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#4D9375;">INSERT</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">into</span><span style="color:#DBD7CA;"> test1 </span><span style="color:#4D9375;">values</span><span style="color:#DBD7CA;"> (i);</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">END</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">LOOP</span><span style="color:#DBD7CA;"> a;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#4D9375;">END</span><span style="color:#DBD7CA;"> $</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">add_num:</span><span style="color:#1C6B48;">LOOP</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">SET</span><span style="color:#393A34;"> @count</span><span style="color:#AB5959;">=</span><span style="color:#393A34;">@count</span><span style="color:#AB5959;">+</span><span style="color:#296AA3;">1</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#1C6B48;">END</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">LOOP</span><span style="color:#393A34;"> add_num;</span></span>
<span class="line"><span style="color:#A0ADA0;">-- </span></span>
<span class="line"><span style="color:#1C6B48;">CREATE</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">PROCEDURE</span><span style="color:#393A34;"> proc7(v_count </span><span style="color:#1C6B48;">int</span><span style="color:#393A34;">)</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">BEGIN</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">DECLARE</span><span style="color:#393A34;"> i </span><span style="color:#1C6B48;">int</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">DEFAULT</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">0</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">    a:</span><span style="color:#1C6B48;">LOOP</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#1C6B48;">SET</span><span style="color:#393A34;"> i</span><span style="color:#AB5959;">=</span><span style="color:#393A34;">i</span><span style="color:#AB5959;">+</span><span style="color:#296AA3;">1</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#A0ADA0;">/*\u5F53i&gt;v_count\u7684\u65F6\u5019\u9000\u51FA\u5FAA\u73AF*/</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#1C6B48;">IF</span><span style="color:#393A34;"> i</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;">v_count </span><span style="color:#1C6B48;">THEN</span></span>
<span class="line"><span style="color:#393A34;">        LEAVE a;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#1C6B48;">END</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">IF</span><span style="color:#393A34;">;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#1C6B48;">INSERT</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">into</span><span style="color:#393A34;"> test1 </span><span style="color:#1C6B48;">values</span><span style="color:#393A34;"> (i);</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">END</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">LOOP</span><span style="color:#393A34;"> a;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">END</span><span style="color:#393A34;"> $</span></span>
<span class="line"></span></code></pre></div><blockquote><p>\u90E8\u5206\u6837\u4F8B\u6765\u6E90\u4E8E\u7F51\u7EDC\u3002</p></blockquote>`,45),e=[o];function c(t,r,y,D,A,B){return n(),a("div",null,e)}var E=s(p,[["render",c]]);export{C as __pageData,E as default};
