import{_ as s,o as n,c as a,a as p}from"./app.1e6146c3.js";const B=JSON.parse('{"title":"Nginx+uWSGI\u90E8\u7F72Django\u9879\u76EE","description":"","frontmatter":{},"headers":[{"level":2,"title":"Django \u7B80\u4ECB","slug":"django-\u7B80\u4ECB"},{"level":2,"title":"\u90E8\u7F72\u6D41\u7A0B(CentOS 7)","slug":"\u90E8\u7F72\u6D41\u7A0B-centos-7"},{"level":3,"title":"\u5B89\u88C5 Django","slug":"\u5B89\u88C5-django"},{"level":3,"title":"\u914D\u7F6E nginx \u548C uwsgi","slug":"\u914D\u7F6E-nginx-\u548C-uwsgi"},{"level":2,"title":"\u5176\u4ED6","slug":"\u5176\u4ED6"},{"level":3,"title":"Django \u4F7F\u7528 MySQL \u6570\u636E\u5E93","slug":"django-\u4F7F\u7528-mysql-\u6570\u636E\u5E93"},{"level":2,"title":"\u53C2\u8003\u8D44\u6599","slug":"\u53C2\u8003\u8D44\u6599"}],"relativePath":"LinuxBasics/Web Servers/Nginx/Nginx - uWSGI \u90E8\u7F72Django.md","lastUpdated":1657272051000}'),l={name:"LinuxBasics/Web Servers/Nginx/Nginx - uWSGI \u90E8\u7F72Django.md"},o=p(`<h1 id="nginx-uwsgi\u90E8\u7F72django\u9879\u76EE" tabindex="-1">Nginx+uWSGI\u90E8\u7F72Django\u9879\u76EE <a class="header-anchor" href="#nginx-uwsgi\u90E8\u7F72django\u9879\u76EE" aria-hidden="true">#</a></h1><h2 id="django-\u7B80\u4ECB" tabindex="-1">Django \u7B80\u4ECB <a class="header-anchor" href="#django-\u7B80\u4ECB" aria-hidden="true">#</a></h2><p><strong>Django</strong> \u662F\u4E00\u4E2A<strong>\u9AD8\u7EA7\u7684Python \u7F51\u7EDC\u6846\u67B6</strong>\uFF0C\u53EF\u4EE5\u5FEB\u901F\u5F00\u53D1\u5B89\u5168\u548C\u53EF\u7EF4\u62A4\u7684\u7F51\u7AD9\u3002 \u7531\u7ECF\u9A8C\u4E30\u5BCC\u7684\u5F00\u53D1\u8005\u6784\u5EFA\uFF0C<strong>Django</strong>\u8D1F\u8D23\u5904\u7406\u7F51\u7AD9\u5F00\u53D1\u4E2D\u9EBB\u70E6\u7684\u90E8\u5206\uFF0C\u56E0\u6B64\u4F60\u53EF\u4EE5\u4E13\u6CE8\u4E8E\u7F16\u5199\u5E94\u7528\u7A0B\u5E8F\uFF0C\u800C\u65E0\u9700\u91CD\u65B0\u5F00\u53D1\u3002 \u5B83\u662F\u514D\u8D39\u548C\u5F00\u6E90\u7684\uFF0C\u6709\u6D3B\u8DC3\u7E41\u8363\u7684\u793E\u533A\uFF0C\u4E30\u5BCC\u7684\u6587\u6863\uFF0C\u4EE5\u53CA\u5F88\u591A\u514D\u8D39\u548C\u4ED8\u8D39\u7684\u89E3\u51B3\u65B9\u6848\u3002</p><h2 id="\u90E8\u7F72\u6D41\u7A0B-centos-7" tabindex="-1">\u90E8\u7F72\u6D41\u7A0B(CentOS 7) <a class="header-anchor" href="#\u90E8\u7F72\u6D41\u7A0B-centos-7" aria-hidden="true">#</a></h2><h3 id="\u5B89\u88C5-django" tabindex="-1">\u5B89\u88C5 Django <a class="header-anchor" href="#\u5B89\u88C5-django" aria-hidden="true">#</a></h3><h4 id="\u5B89\u88C5-python3" tabindex="-1">\u5B89\u88C5 python3 <a class="header-anchor" href="#\u5B89\u88C5-python3" aria-hidden="true">#</a></h4><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">$ yum install -y python3</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">$ yum install -y python3</span></span>
<span class="line"></span></code></pre></div><h4 id="\u521B\u5EFA\u4E00\u4E2A\u865A\u62DF\u73AF\u5883" tabindex="-1">\u521B\u5EFA\u4E00\u4E2A\u865A\u62DF\u73AF\u5883 <a class="header-anchor" href="#\u521B\u5EFA\u4E00\u4E2A\u865A\u62DF\u73AF\u5883" aria-hidden="true">#</a></h4><p>\u9996\u5148\u521B\u5EFA<code>django</code>\u7684\u5DE5\u4F5C\u76EE\u5F55\uFF1A</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">$ mkdir my_django_app</span></span>
<span class="line"><span style="color:#DBD7CA;">$ </span><span style="color:#E0A569;">cd</span><span style="color:#DBD7CA;"> my_django_app</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">$ mkdir my_django_app</span></span>
<span class="line"><span style="color:#393A34;">$ </span><span style="color:#B58451;">cd</span><span style="color:#393A34;"> my_django_app</span></span>
<span class="line"></span></code></pre></div><p>\u4F7F\u7528\u5982\u4E0B\u547D\u4EE4\u521B\u5EFA\u4E00\u4E2A\u865A\u62DF\u73AF\u5883\uFF08<code>venv</code>\u76EE\u5F55\uFF0C\u91CC\u9762\u5305\u542B\u4E86python\u7684\u4E8C\u8FDB\u5236\u5305\uFF0Cpip\u7B49\u5DE5\u5177\uFF09\uFF1A</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">$ python3 -m venv venv</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">$ python3 -m venv venv</span></span>
<span class="line"></span></code></pre></div><p>\u4F7F\u7528\u4E0A\u9762\u521A\u521B\u5EFA\u597D\u7684\u865A\u62DF\u73AF\u5883\uFF1A</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">$ </span><span style="color:#E0A569;">source</span><span style="color:#DBD7CA;"> venv/bin/activate</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">$ </span><span style="color:#B58451;">source</span><span style="color:#393A34;"> venv/bin/activate</span></span>
<span class="line"></span></code></pre></div><h4 id="\u5B89\u88C5-django-1" tabindex="-1">\u5B89\u88C5 Django <a class="header-anchor" href="#\u5B89\u88C5-django-1" aria-hidden="true">#</a></h4><p>\u4F7F\u7528<code>pip</code>\u5DE5\u5177\u5B89\u88C5\uFF1A</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">(</span><span style="color:#DBD7CA;">venv</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;">$ pip install django</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">venv</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;">$ pip install django</span></span>
<span class="line"></span></code></pre></div><p>\u9A8C\u8BC1\u662F\u5426\u5B89\u88C5\u6210\u529F\uFF1A</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">(</span><span style="color:#DBD7CA;">venv</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;">$ python -m django --version</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">venv</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;">$ python -m django --version</span></span>
<span class="line"></span></code></pre></div><h4 id="\u521B\u5EFA\u4E00\u4E2A-django-\u9879\u76EE" tabindex="-1">\u521B\u5EFA\u4E00\u4E2A Django \u9879\u76EE <a class="header-anchor" href="#\u521B\u5EFA\u4E00\u4E2A-django-\u9879\u76EE" aria-hidden="true">#</a></h4><p>\u521B\u5EFA\u4E00\u4E2A\u540D\u4E3A<code>mydiangoapp</code>\u7684\u9879\u76EE\uFF1A</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">(</span><span style="color:#DBD7CA;">venv</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;">$ django-admin startproject mydjangoapp</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">venv</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;">$ django-admin startproject mydjangoapp</span></span>
<span class="line"></span></code></pre></div><p>\u8FC1\u79FB\u6570\u636E\u5E93\u5E76\u521B\u5EFA\u4E00\u4E2A\u7BA1\u7406\u7528\u6237\uFF1A</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">(</span><span style="color:#DBD7CA;">venv</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;">$ </span><span style="color:#E0A569;">cd</span><span style="color:#DBD7CA;"> mydjangoapp</span></span>
<span class="line"><span style="color:#858585;">(</span><span style="color:#DBD7CA;">venv</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;">$ python manage.py migrate</span></span>
<span class="line"><span style="color:#858585;">(</span><span style="color:#DBD7CA;">venv</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;">$ python manage.py createsuperuser</span></span>
<span class="line"><span style="color:#758575;"># \u63A5\u4E0B\u6765\uFF0C\u4F1A\u8FDB\u5165\u4EA4\u4E92\u5F0F\u547D\u4EE4\uFF0C\u5982\u4E0B\u6240\u793A</span></span>
<span class="line"><span style="color:#DBD7CA;">Username </span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">leave blank to use </span><span style="color:#C98A7D;">&#39;agou-ops&#39;</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;">: admin</span></span>
<span class="line"><span style="color:#DBD7CA;">Email address: suofeiyaxx@gamil.com</span></span>
<span class="line"><span style="color:#DBD7CA;">Password: </span></span>
<span class="line"><span style="color:#DBD7CA;">Password </span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">again</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;">: </span></span>
<span class="line"><span style="color:#DBD7CA;">Superuser created successfully.</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">venv</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;">$ </span><span style="color:#B58451;">cd</span><span style="color:#393A34;"> mydjangoapp</span></span>
<span class="line"><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">venv</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;">$ python manage.py migrate</span></span>
<span class="line"><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">venv</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;">$ python manage.py createsuperuser</span></span>
<span class="line"><span style="color:#A0ADA0;"># \u63A5\u4E0B\u6765\uFF0C\u4F1A\u8FDB\u5165\u4EA4\u4E92\u5F0F\u547D\u4EE4\uFF0C\u5982\u4E0B\u6240\u793A</span></span>
<span class="line"><span style="color:#393A34;">Username </span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">leave blank to use </span><span style="color:#B56959;">&#39;agou-ops&#39;</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;">: admin</span></span>
<span class="line"><span style="color:#393A34;">Email address: suofeiyaxx@gamil.com</span></span>
<span class="line"><span style="color:#393A34;">Password: </span></span>
<span class="line"><span style="color:#393A34;">Password </span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">again</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;">: </span></span>
<span class="line"><span style="color:#393A34;">Superuser created successfully.</span></span>
<span class="line"></span></code></pre></div><p>\u9ED8\u8BA4\u60C5\u51B5\u4E0B\uFF0CDjango\u4F7F\u7528\u7684\u662F<code>SQLite</code>\u6570\u636E\u5E93\uFF0C\u5982\u679C\u7528\u4E8E\u751F\u4EA7\u73AF\u5883\uFF0C\u53EF\u4EE5\u4F7F\u7528<code>PostgreSQL</code> ,<code>MariaDB</code>, <code>Oracle </code>\u6216\u8005<code>MySQL</code> \u6570\u636E\u5E93.</p><hr><p>\u2753\u5982\u679C\u4F60\u662F\u8FC1\u79FB\u7684\u9879\u76EE\uFF0C\u8FD0\u884C\u4EE5\u4E0B\u6B65\u9AA4\uFF1A</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;"># \u9996\u5148\uFF0C\u6E05\u9664\u521D\u59CB\u8FC1\u79FB\u548C\u5220\u9664\u9ED8\u8BA4\u7684sqlite\u6570\u636E\u5E93</span></span>
<span class="line"><span style="color:#858585;">(</span><span style="color:#DBD7CA;">venv</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;">$ find </span><span style="color:#E0A569;">.</span><span style="color:#DBD7CA;"> -path </span><span style="color:#C98A7D;">&quot;*/migrations/*.py&quot;</span><span style="color:#DBD7CA;"> -not -name </span><span style="color:#C98A7D;">&quot;__init__.py&quot;</span><span style="color:#DBD7CA;"> -delete</span></span>
<span class="line"><span style="color:#858585;">(</span><span style="color:#DBD7CA;">venv</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;">$ find </span><span style="color:#E0A569;">.</span><span style="color:#DBD7CA;"> -path </span><span style="color:#C98A7D;">&quot;*/migrations/*.pyc&quot;</span><span style="color:#DBD7CA;">  -delete</span></span>
<span class="line"><span style="color:#858585;">(</span><span style="color:#DBD7CA;">venv</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;">$ rm -f db.sqlite3</span></span>
<span class="line"><span style="color:#758575;"># \u8FD0\u884C\u5982\u4E0B\u547D\u4EE4\u540C\u6B65\u8FC1\u79FB\u6570\u636E\u5E93</span></span>
<span class="line"><span style="color:#858585;">(</span><span style="color:#DBD7CA;">venv</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;">$ python manage.py collectstatic</span></span>
<span class="line"><span style="color:#858585;">(</span><span style="color:#DBD7CA;">venv</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;">$ python manage.py makemigrations</span></span>
<span class="line"><span style="color:#858585;">(</span><span style="color:#DBD7CA;">venv</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;">$ python manage.py migrate</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;"># \u9996\u5148\uFF0C\u6E05\u9664\u521D\u59CB\u8FC1\u79FB\u548C\u5220\u9664\u9ED8\u8BA4\u7684sqlite\u6570\u636E\u5E93</span></span>
<span class="line"><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">venv</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;">$ find </span><span style="color:#B58451;">.</span><span style="color:#393A34;"> -path </span><span style="color:#B56959;">&quot;*/migrations/*.py&quot;</span><span style="color:#393A34;"> -not -name </span><span style="color:#B56959;">&quot;__init__.py&quot;</span><span style="color:#393A34;"> -delete</span></span>
<span class="line"><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">venv</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;">$ find </span><span style="color:#B58451;">.</span><span style="color:#393A34;"> -path </span><span style="color:#B56959;">&quot;*/migrations/*.pyc&quot;</span><span style="color:#393A34;">  -delete</span></span>
<span class="line"><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">venv</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;">$ rm -f db.sqlite3</span></span>
<span class="line"><span style="color:#A0ADA0;"># \u8FD0\u884C\u5982\u4E0B\u547D\u4EE4\u540C\u6B65\u8FC1\u79FB\u6570\u636E\u5E93</span></span>
<span class="line"><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">venv</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;">$ python manage.py collectstatic</span></span>
<span class="line"><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">venv</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;">$ python manage.py makemigrations</span></span>
<span class="line"><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">venv</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;">$ python manage.py migrate</span></span>
<span class="line"></span></code></pre></div><h4 id="\u6D4B\u8BD5-django-\u670D\u52A1" tabindex="-1">\u6D4B\u8BD5 Django \u670D\u52A1 <a class="header-anchor" href="#\u6D4B\u8BD5-django-\u670D\u52A1" aria-hidden="true">#</a></h4><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">(</span><span style="color:#DBD7CA;">venv</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;">$ python manage.py runserver </span><span style="color:#858585;">[</span><span style="color:#DBD7CA;">0.0.0.0:8000</span><span style="color:#858585;">]</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">venv</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;">$ python manage.py runserver </span><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">0.0.0.0:8000</span><span style="color:#8E8F8B;">]</span></span>
<span class="line"></span></code></pre></div><p>\u670D\u52A1\u9ED8\u8BA4\u76D1\u542C\u5728\u672C\u5730\u7684<code>8000</code>\u7AEF\u53E3\uFF0C\u6253\u5F00\u6D4F\u89C8\u5668\uFF0C\u8BBF\u95EE <a href="http://127.0.0.1:8000" target="_blank" rel="noopener noreferrer">http://127.0.0.1:8000</a> \u68C0\u67E5\u670D\u52A1\u72B6\u6001\u5373\u53EF\u3002</p><h4 id="\u53D6\u6D88\u6FC0\u6D3B\u865A\u62DF\u73AF\u5883" tabindex="-1">\u53D6\u6D88\u6FC0\u6D3B\u865A\u62DF\u73AF\u5883 <a class="header-anchor" href="#\u53D6\u6D88\u6FC0\u6D3B\u865A\u62DF\u73AF\u5883" aria-hidden="true">#</a></h4><p>\u5F53\u6240\u6709\u4EFB\u52A1\u90FD\u5B8C\u6210\u4E4B\u540E\uFF0C\u5982\u679C\u60F3\u8981\u8FD4\u56DE\u5230\u539F\u6765\u7684\u7EC8\u7AEF\uFF0C\u4F7F\u7528\u4EE5\u4E0B\u547D\u4EE4\u53D6\u6D88\u6FC0\u6D3B\u865A\u62DF\u73AF\u5883\u5373\u53EF\uFF1A</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">(</span><span style="color:#DBD7CA;">venv</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;">$ deactivate</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">venv</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;">$ deactivate</span></span>
<span class="line"></span></code></pre></div><h3 id="\u914D\u7F6E-nginx-\u548C-uwsgi" tabindex="-1">\u914D\u7F6E nginx \u548C uwsgi <a class="header-anchor" href="#\u914D\u7F6E-nginx-\u548C-uwsgi" aria-hidden="true">#</a></h3><h4 id="uwsgi-\u5168\u5C40\u914D\u7F6E" tabindex="-1">uwsgi \u5168\u5C40\u914D\u7F6E <a class="header-anchor" href="#uwsgi-\u5168\u5C40\u914D\u7F6E" aria-hidden="true">#</a></h4><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">sudo pip install uwsgi</span></span>
<span class="line"><span style="color:#DBD7CA;">sudo mkdir -p /etc/uwsgi/sites</span></span>
<span class="line"><span style="color:#E0A569;">cd</span><span style="color:#DBD7CA;"> /etc/uwsgi/sites</span></span>
<span class="line"><span style="color:#DBD7CA;">sudo vim mydjangoapp.ini</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">sudo pip install uwsgi</span></span>
<span class="line"><span style="color:#393A34;">sudo mkdir -p /etc/uwsgi/sites</span></span>
<span class="line"><span style="color:#B58451;">cd</span><span style="color:#393A34;"> /etc/uwsgi/sites</span></span>
<span class="line"><span style="color:#393A34;">sudo vim mydjangoapp.ini</span></span>
<span class="line"></span></code></pre></div><p>\u914D\u7F6E\u6587\u4EF6<code>mydiangoapp.ini</code>\u4E2D\u6DFB\u52A0\u5982\u4E0B\u5185\u5BB9\uFF1A</p><div class="language-ini"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">[</span><span style="color:#A1B567;">uwsgi</span><span style="color:#858585;">]</span></span>
<span class="line"><span style="color:#4D9375;">project</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">=</span><span style="color:#DBD7CA;"> &lt;project_name&gt;</span></span>
<span class="line"><span style="color:#4D9375;">username</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">=</span><span style="color:#DBD7CA;"> &lt;user_name&gt;</span></span>
<span class="line"><span style="color:#4D9375;">base</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">=</span><span style="color:#DBD7CA;"> /home/%(username)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">chdir</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">=</span><span style="color:#DBD7CA;"> %(base)/%(project)</span></span>
<span class="line"><span style="color:#4D9375;">home</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">=</span><span style="color:#DBD7CA;"> %(base)/Env/env_1</span></span>
<span class="line"><span style="color:#4D9375;">module</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">=</span><span style="color:#DBD7CA;"> %(project).wsgi:application</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">master</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">=</span><span style="color:#DBD7CA;"> true</span></span>
<span class="line"><span style="color:#4D9375;">processes</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">=</span><span style="color:#DBD7CA;"> 5</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">uid</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">=</span><span style="color:#DBD7CA;"> %(username)</span></span>
<span class="line"><span style="color:#4D9375;">socket</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">=</span><span style="color:#DBD7CA;"> /run/uwsgi/%(project).sock</span></span>
<span class="line"><span style="color:#4D9375;">chown-socket</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">=</span><span style="color:#DBD7CA;"> %(username):nginx</span></span>
<span class="line"><span style="color:#4D9375;">chmod-socket</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">=</span><span style="color:#DBD7CA;"> 660</span></span>
<span class="line"><span style="color:#4D9375;">vacuum</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">=</span><span style="color:#DBD7CA;"> true</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#6C7834;">uwsgi</span><span style="color:#8E8F8B;">]</span></span>
<span class="line"><span style="color:#1C6B48;">project</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">=</span><span style="color:#393A34;"> &lt;project_name&gt;</span></span>
<span class="line"><span style="color:#1C6B48;">username</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">=</span><span style="color:#393A34;"> &lt;user_name&gt;</span></span>
<span class="line"><span style="color:#1C6B48;">base</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">=</span><span style="color:#393A34;"> /home/%(username)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">chdir</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">=</span><span style="color:#393A34;"> %(base)/%(project)</span></span>
<span class="line"><span style="color:#1C6B48;">home</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">=</span><span style="color:#393A34;"> %(base)/Env/env_1</span></span>
<span class="line"><span style="color:#1C6B48;">module</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">=</span><span style="color:#393A34;"> %(project).wsgi:application</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">master</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">=</span><span style="color:#393A34;"> true</span></span>
<span class="line"><span style="color:#1C6B48;">processes</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">=</span><span style="color:#393A34;"> 5</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">uid</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">=</span><span style="color:#393A34;"> %(username)</span></span>
<span class="line"><span style="color:#1C6B48;">socket</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">=</span><span style="color:#393A34;"> /run/uwsgi/%(project).sock</span></span>
<span class="line"><span style="color:#1C6B48;">chown-socket</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">=</span><span style="color:#393A34;"> %(username):nginx</span></span>
<span class="line"><span style="color:#1C6B48;">chmod-socket</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">=</span><span style="color:#393A34;"> 660</span></span>
<span class="line"><span style="color:#1C6B48;">vacuum</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">=</span><span style="color:#393A34;"> true</span></span>
<span class="line"></span></code></pre></div><p>\u521B\u5EFA\u4E00\u4E2A<code>Unix socket</code>\u6765\u4F7F\u7528<code>uWSGI</code>\u534F\u8BAE\u6765\u8F85\u52A9 Ngx \u53CD\u4EE3\uFF1A</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;"># \u7F16\u8F91uwsgi\u7684\u670D\u52A1\u914D\u7F6E\u6587\u4EF6</span></span>
<span class="line"><span style="color:#DBD7CA;">$ sudo vim /etc/systemd/system/uwsgi.service</span></span>
<span class="line"><span style="color:#758575;"># ------------------------------</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">Unit</span><span style="color:#858585;">]</span></span>
<span class="line"><span style="color:#DBD7CA;">Description=uWSGI Emperor service</span></span>
<span class="line"></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">Service</span><span style="color:#858585;">]</span></span>
<span class="line"><span style="color:#758575;"># &lt;user_name&gt;\u4E3A\u7528\u6237\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">ExecStartPre=/usr/bin/bash -c </span><span style="color:#C98A7D;">&#39;mkdir -p /run/uwsgi; chown &lt;user_name&gt;:nginx /run/uwsgi&#39;</span></span>
<span class="line"><span style="color:#DBD7CA;">ExecStart=/usr/bin/uwsgi --emperor /etc/uwsgi/sites</span></span>
<span class="line"><span style="color:#DBD7CA;">Restart=always</span></span>
<span class="line"><span style="color:#DBD7CA;">KillSignal=SIGQUIT</span></span>
<span class="line"><span style="color:#DBD7CA;">Type=notify</span></span>
<span class="line"><span style="color:#DBD7CA;">NotifyAccess=all</span></span>
<span class="line"></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;">Install</span><span style="color:#858585;">]</span></span>
<span class="line"><span style="color:#DBD7CA;">WantedBy=multi-user.target</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;"># \u7F16\u8F91uwsgi\u7684\u670D\u52A1\u914D\u7F6E\u6587\u4EF6</span></span>
<span class="line"><span style="color:#393A34;">$ sudo vim /etc/systemd/system/uwsgi.service</span></span>
<span class="line"><span style="color:#A0ADA0;"># ------------------------------</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">Unit</span><span style="color:#8E8F8B;">]</span></span>
<span class="line"><span style="color:#393A34;">Description=uWSGI Emperor service</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">Service</span><span style="color:#8E8F8B;">]</span></span>
<span class="line"><span style="color:#A0ADA0;"># &lt;user_name&gt;\u4E3A\u7528\u6237\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">ExecStartPre=/usr/bin/bash -c </span><span style="color:#B56959;">&#39;mkdir -p /run/uwsgi; chown &lt;user_name&gt;:nginx /run/uwsgi&#39;</span></span>
<span class="line"><span style="color:#393A34;">ExecStart=/usr/bin/uwsgi --emperor /etc/uwsgi/sites</span></span>
<span class="line"><span style="color:#393A34;">Restart=always</span></span>
<span class="line"><span style="color:#393A34;">KillSignal=SIGQUIT</span></span>
<span class="line"><span style="color:#393A34;">Type=notify</span></span>
<span class="line"><span style="color:#393A34;">NotifyAccess=all</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">Install</span><span style="color:#8E8F8B;">]</span></span>
<span class="line"><span style="color:#393A34;">WantedBy=multi-user.target</span></span>
<span class="line"></span></code></pre></div><h4 id="nginx-\u53CD\u4EE3\u8BBE\u7F6E" tabindex="-1">nginx \u53CD\u4EE3\u8BBE\u7F6E <a class="header-anchor" href="#nginx-\u53CD\u4EE3\u8BBE\u7F6E" aria-hidden="true">#</a></h4><div class="language-nginx"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">server</span><span style="color:#DBD7CA;"> {</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#4D9375;"> listen </span><span style="color:#DBD7CA;">8000</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#4D9375;"> server_name </span><span style="color:#DBD7CA;">localhost</span><span style="color:#858585;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#CB7676;">location</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#C4704F;">favicon.ico </span><span style="color:#DBD7CA;">{</span><span style="color:#4D9375;"> access_log </span><span style="color:#DBD7CA;">off</span><span style="color:#858585;">;</span><span style="color:#4D9375;"> log_not_found </span><span style="color:#DBD7CA;">off</span><span style="color:#858585;">;</span><span style="color:#DBD7CA;"> }</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#CB7676;">location</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">/static/ </span><span style="color:#DBD7CA;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">       </span><span style="color:#4D9375;"> root </span><span style="color:#DBD7CA;">/home/&lt;user_name&gt;/&lt;project_name&gt;</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#CB7676;">location</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">/ </span><span style="color:#DBD7CA;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">       </span><span style="color:#4D9375;"> include </span><span style="color:#DBD7CA;">uwsgi_params</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">       </span><span style="color:#4D9375;"> uwsgi_pass </span><span style="color:#DBD7CA;">unix:/run/uwsgi/&lt;project_name&gt;.sock</span><span style="color:#858585;">;</span></span>
<span class="line"><span style="color:#DBD7CA;">    }</span></span>
<span class="line"><span style="color:#DBD7CA;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">server</span><span style="color:#393A34;"> {</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#1C6B48;"> listen </span><span style="color:#393A34;">8000</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#1C6B48;"> server_name </span><span style="color:#393A34;">localhost</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">location</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#AB5E3F;">favicon.ico </span><span style="color:#393A34;">{</span><span style="color:#1C6B48;"> access_log </span><span style="color:#393A34;">off</span><span style="color:#8E8F8B;">;</span><span style="color:#1C6B48;"> log_not_found </span><span style="color:#393A34;">off</span><span style="color:#8E8F8B;">;</span><span style="color:#393A34;"> }</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">location</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">/static/ </span><span style="color:#393A34;">{</span></span>
<span class="line"><span style="color:#393A34;">       </span><span style="color:#1C6B48;"> root </span><span style="color:#393A34;">/home/&lt;user_name&gt;/&lt;project_name&gt;</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#AB5959;">location</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">/ </span><span style="color:#393A34;">{</span></span>
<span class="line"><span style="color:#393A34;">       </span><span style="color:#1C6B48;"> include </span><span style="color:#393A34;">uwsgi_params</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">       </span><span style="color:#1C6B48;"> uwsgi_pass </span><span style="color:#393A34;">unix:/run/uwsgi/&lt;project_name&gt;.sock</span><span style="color:#8E8F8B;">;</span></span>
<span class="line"><span style="color:#393A34;">    }</span></span>
<span class="line"><span style="color:#393A34;">}</span></span>
<span class="line"></span></code></pre></div><hr><p>\u589E\u52A0\u6743\u9650\u53CA\u542F\u52A8\u670D\u52A1\uFF1A</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">$ sudo nginx -t</span></span>
<span class="line"><span style="color:#DBD7CA;">$ sudo usermod -a -G </span><span style="color:#CB7676;">&lt;</span><span style="color:#DBD7CA;">user_name</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> nginx</span></span>
<span class="line"><span style="color:#DBD7CA;">$ chmod 710 /home/</span><span style="color:#CB7676;">&lt;</span><span style="color:#DBD7CA;">user_name</span><span style="color:#CB7676;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">$ sudo systemctl start nginx</span></span>
<span class="line"><span style="color:#DBD7CA;">$ sudo systemctl start uwsgi</span></span>
<span class="line"><span style="color:#DBD7CA;">$ sudo systemctl </span><span style="color:#E0A569;">enable</span><span style="color:#DBD7CA;"> nginx</span></span>
<span class="line"><span style="color:#DBD7CA;">$ sudo systemctl </span><span style="color:#E0A569;">enable</span><span style="color:#DBD7CA;"> uwsgi</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">$ sudo nginx -t</span></span>
<span class="line"><span style="color:#393A34;">$ sudo usermod -a -G </span><span style="color:#AB5959;">&lt;</span><span style="color:#393A34;">user_name</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> nginx</span></span>
<span class="line"><span style="color:#393A34;">$ chmod 710 /home/</span><span style="color:#AB5959;">&lt;</span><span style="color:#393A34;">user_name</span><span style="color:#AB5959;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">$ sudo systemctl start nginx</span></span>
<span class="line"><span style="color:#393A34;">$ sudo systemctl start uwsgi</span></span>
<span class="line"><span style="color:#393A34;">$ sudo systemctl </span><span style="color:#B58451;">enable</span><span style="color:#393A34;"> nginx</span></span>
<span class="line"><span style="color:#393A34;">$ sudo systemctl </span><span style="color:#B58451;">enable</span><span style="color:#393A34;"> uwsgi</span></span>
<span class="line"></span></code></pre></div><p>\u{1F604}\u5230\u6B64\u5B89\u88C5\u5B8C\u6210\uFF0C\u6253\u5F00\u6D4F\u89C8\u5668\u8BBF\u95EE <a href="http://127.0.0.1:8000" target="_blank" rel="noopener noreferrer">http://127.0.0.1:8000</a> \u6D4B\u8BD5\u5373\u53EF\u3002</p><h2 id="\u5176\u4ED6" tabindex="-1">\u5176\u4ED6 <a class="header-anchor" href="#\u5176\u4ED6" aria-hidden="true">#</a></h2><h3 id="django-\u4F7F\u7528-mysql-\u6570\u636E\u5E93" tabindex="-1">Django \u4F7F\u7528 MySQL \u6570\u636E\u5E93 <a class="header-anchor" href="#django-\u4F7F\u7528-mysql-\u6570\u636E\u5E93" aria-hidden="true">#</a></h3><p>\u5B89\u88C5<code>mysql</code>\u5BA2\u6237\u7AEF\u5DE5\u5177\uFF08\u670D\u52A1\u5668\u7AEF\u5728\u6B64\u4E0D\u518D\u8D58\u8FF0\uFF09\uFF1A</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">(</span><span style="color:#DBD7CA;">venv</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;">$ sudo yum install -y mysql-connector-python.x86_64 mysql-community-devel.x86_64 mysql-cluster-community-client.x86_64 mysql-shell.x86_64 mysql-router.x86_64 gcc</span></span>
<span class="line"><span style="color:#DBD7CA;">pip install mysqlclient </span><span style="color:#758575;"># inside the virtual environment</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">venv</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;">$ sudo yum install -y mysql-connector-python.x86_64 mysql-community-devel.x86_64 mysql-cluster-community-client.x86_64 mysql-shell.x86_64 mysql-router.x86_64 gcc</span></span>
<span class="line"><span style="color:#393A34;">pip install mysqlclient </span><span style="color:#A0ADA0;"># inside the virtual environment</span></span>
<span class="line"></span></code></pre></div><p>\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6<code>settings.py</code>\uFF1A</p><div class="language-python"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;"># \u5728\u884C\u5C3E\u6DFB\u52A0\u5982\u4E0B\u5185\u5BB9</span></span>
<span class="line"><span style="color:#D4976C;">STATIC_ROOT</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> os</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">path</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">join</span><span style="color:#858585;">(</span><span style="color:#D4976C;">BASE_DIR</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;static/&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#758575;"># \u4FEE\u6539\u9ED8\u8BA4\u7684\u6570\u636E\u5E93\u914D\u7F6E</span></span>
<span class="line"><span style="color:#D4976C;">DATABASES</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#C98A7D;">&#39;default&#39;</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&#39;ENGINE&#39;</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;django.db.backends.mysql&#39;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&#39;NAME&#39;</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;first_db&#39;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;">		</span><span style="color:#758575;"># \u6570\u636E\u5E93\u63D0\u524D\u81EA\u884C\u521B\u5EFA</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&#39;USER&#39;</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;root&#39;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&#39;PASSWORD&#39;</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;your-root-password&#39;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&#39;HOST&#39;</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;localhost&#39;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&#39;PORT&#39;</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;&#39;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#758575;"># \u4FEE\u6539\u76D1\u542C\u5730\u5740\uFF0C\u9ED8\u8BA4\u4E3A\u672C\u5730localhost</span></span>
<span class="line"><span style="color:#D4976C;">ALLOWED_HOSTS</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#C98A7D;">&#39;your_ip_here&#39;</span><span style="color:#858585;">]</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;"># \u5728\u884C\u5C3E\u6DFB\u52A0\u5982\u4E0B\u5185\u5BB9</span></span>
<span class="line"><span style="color:#A65E2B;">STATIC_ROOT</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> os</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">path</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">join</span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">BASE_DIR</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;static/&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#A0ADA0;"># \u4FEE\u6539\u9ED8\u8BA4\u7684\u6570\u636E\u5E93\u914D\u7F6E</span></span>
<span class="line"><span style="color:#A65E2B;">DATABASES</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B56959;">&#39;default&#39;</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&#39;ENGINE&#39;</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;django.db.backends.mysql&#39;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&#39;NAME&#39;</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;first_db&#39;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;">		</span><span style="color:#A0ADA0;"># \u6570\u636E\u5E93\u63D0\u524D\u81EA\u884C\u521B\u5EFA</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&#39;USER&#39;</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;root&#39;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&#39;PASSWORD&#39;</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;your-root-password&#39;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&#39;HOST&#39;</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;localhost&#39;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&#39;PORT&#39;</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;&#39;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#A0ADA0;"># \u4FEE\u6539\u76D1\u542C\u5730\u5740\uFF0C\u9ED8\u8BA4\u4E3A\u672C\u5730localhost</span></span>
<span class="line"><span style="color:#A65E2B;">ALLOWED_HOSTS</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">&#39;your_ip_here&#39;</span><span style="color:#8E8F8B;">]</span></span>
<span class="line"></span></code></pre></div><p>\u5982\u679C\u6709<code>firewalld</code>\u9632\u706B\u5899\uFF0C\u8FD8\u9700\u8981\uFF1A</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">$ sudo firewall-cmd --permanent --add-service=http</span></span>
<span class="line"><span style="color:#DBD7CA;">$ sudo firewall-cmd --permanent --add-port=8000/tcp</span></span>
<span class="line"><span style="color:#DBD7CA;">$ sudo firewall-cmd --complete-reload</span></span>
<span class="line"><span style="color:#DBD7CA;">$ sudo firewall-cmd --list-all</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">$ sudo firewall-cmd --permanent --add-service=http</span></span>
<span class="line"><span style="color:#393A34;">$ sudo firewall-cmd --permanent --add-port=8000/tcp</span></span>
<span class="line"><span style="color:#393A34;">$ sudo firewall-cmd --complete-reload</span></span>
<span class="line"><span style="color:#393A34;">$ sudo firewall-cmd --list-all</span></span>
<span class="line"></span></code></pre></div><h2 id="\u53C2\u8003\u8D44\u6599" tabindex="-1">\u53C2\u8003\u8D44\u6599 <a class="header-anchor" href="#\u53C2\u8003\u8D44\u6599" aria-hidden="true">#</a></h2><ul><li>Deploy Django: <a href="https://www.codingpaths.com/django/deploy-django/" target="_blank" rel="noopener noreferrer">https://www.codingpaths.com/django/deploy-django/</a></li></ul>`,57),e=[o];function c(t,r,y,i,d,A){return n(),a("div",null,e)}var g=s(l,[["render",c]]);export{B as __pageData,g as default};
