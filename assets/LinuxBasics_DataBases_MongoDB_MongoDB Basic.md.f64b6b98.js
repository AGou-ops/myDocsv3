import{_ as s,o as n,c as a,a as l}from"./app.1e6146c3.js";const u=JSON.parse('{"title":"MongoDB Basic","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u57FA\u7840\u547D\u4EE4","slug":"\u57FA\u7840\u547D\u4EE4"},{"level":2,"title":"\u5BF9\u8C61\u64CD\u4F5C","slug":"\u5BF9\u8C61\u64CD\u4F5C"},{"level":3,"title":"\u6570\u636E\u5E93\u64CD\u4F5C","slug":"\u6570\u636E\u5E93\u64CD\u4F5C"},{"level":3,"title":"\u96C6\u5408\u64CD\u4F5C(CURD)","slug":"\u96C6\u5408\u64CD\u4F5C-curd"},{"level":2,"title":"\u7528\u6237\u7BA1\u7406","slug":"\u7528\u6237\u7BA1\u7406"},{"level":2,"title":"\u53C2\u8003\u94FE\u63A5","slug":"\u53C2\u8003\u94FE\u63A5"}],"relativePath":"LinuxBasics/DataBases/MongoDB/MongoDB Basic.md","lastUpdated":1657272051000}'),p={name:"LinuxBasics/DataBases/MongoDB/MongoDB Basic.md"},o=l(`<h1 id="mongodb-basic" tabindex="-1">MongoDB Basic <a class="header-anchor" href="#mongodb-basic" aria-hidden="true">#</a></h1><h2 id="\u57FA\u7840\u547D\u4EE4" tabindex="-1">\u57FA\u7840\u547D\u4EE4 <a class="header-anchor" href="#\u57FA\u7840\u547D\u4EE4" aria-hidden="true">#</a></h2><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">help</span><span style="color:#DBD7CA;">		</span><span style="color:#758575;"># \u83B7\u53D6\u5E2E\u52A9</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">db.version</span><span style="color:#858585;">()</span></span>
<span class="line"><span style="color:#DBD7CA;">4.4.1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> db		</span><span style="color:#758575;"># \u83B7\u53D6\u5F53\u524D\u6570\u636E\u5E93</span></span>
<span class="line"><span style="color:#E0A569;">test</span></span>
<span class="line"><span style="color:#758575;"># \u6216\u8005\u4F7F\u7528</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">db.getName</span><span style="color:#858585;">()</span></span>
<span class="line"><span style="color:#E0A569;">test</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> show dbs		</span><span style="color:#758575;"># \u67E5\u8BE2\u6240\u6709\u6570\u636E\u5E93</span></span>
<span class="line"><span style="color:#DBD7CA;">admin   0.000GB</span></span>
<span class="line"><span style="color:#DBD7CA;">config  0.000GB</span></span>
<span class="line"><span style="color:#CB7676;">local</span><span style="color:#DBD7CA;">   0.000GB</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">db.stats</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;">		</span><span style="color:#758575;"># \u83B7\u53D6\u5F53\u524D\u5E93\u72B6\u6001</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&quot;db&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;test&quot;</span><span style="color:#DBD7CA;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&quot;collections&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> 0,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&quot;views&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> 0,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&quot;objects&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> 0,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&quot;avgObjSize&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> 0,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&quot;dataSize&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> 0,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&quot;storageSize&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> 0,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&quot;totalSize&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> 0,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&quot;indexes&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> 0,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&quot;indexSize&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> 0,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&quot;scaleFactor&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> 1,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&quot;fileSize&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> 0,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&quot;fsUsedSize&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> 0,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&quot;fsTotalSize&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> 0,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&quot;ok&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> 1</span></span>
<span class="line"><span style="color:#DBD7CA;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">db.getMongo</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;">		</span><span style="color:#758575;"># \u83B7\u53D6\u5F53\u524D\u8FDE\u63A5\u4FE1\u606F</span></span>
<span class="line"><span style="color:#DBD7CA;">connection to 127.0.0.1:27017</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">help</span><span style="color:#393A34;">		</span><span style="color:#A0ADA0;"># \u83B7\u53D6\u5E2E\u52A9</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">db.version</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"><span style="color:#393A34;">4.4.1</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> db		</span><span style="color:#A0ADA0;"># \u83B7\u53D6\u5F53\u524D\u6570\u636E\u5E93</span></span>
<span class="line"><span style="color:#B58451;">test</span></span>
<span class="line"><span style="color:#A0ADA0;"># \u6216\u8005\u4F7F\u7528</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">db.getName</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"><span style="color:#B58451;">test</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> show dbs		</span><span style="color:#A0ADA0;"># \u67E5\u8BE2\u6240\u6709\u6570\u636E\u5E93</span></span>
<span class="line"><span style="color:#393A34;">admin   0.000GB</span></span>
<span class="line"><span style="color:#393A34;">config  0.000GB</span></span>
<span class="line"><span style="color:#AB5959;">local</span><span style="color:#393A34;">   0.000GB</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">db.stats</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;">		</span><span style="color:#A0ADA0;"># \u83B7\u53D6\u5F53\u524D\u5E93\u72B6\u6001</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&quot;db&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;test&quot;</span><span style="color:#393A34;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&quot;collections&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">:</span><span style="color:#393A34;"> 0,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&quot;views&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">:</span><span style="color:#393A34;"> 0,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&quot;objects&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">:</span><span style="color:#393A34;"> 0,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&quot;avgObjSize&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">:</span><span style="color:#393A34;"> 0,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&quot;dataSize&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">:</span><span style="color:#393A34;"> 0,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&quot;storageSize&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">:</span><span style="color:#393A34;"> 0,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&quot;totalSize&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">:</span><span style="color:#393A34;"> 0,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&quot;indexes&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">:</span><span style="color:#393A34;"> 0,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&quot;indexSize&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">:</span><span style="color:#393A34;"> 0,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&quot;scaleFactor&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">:</span><span style="color:#393A34;"> 1,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&quot;fileSize&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">:</span><span style="color:#393A34;"> 0,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&quot;fsUsedSize&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">:</span><span style="color:#393A34;"> 0,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&quot;fsTotalSize&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">:</span><span style="color:#393A34;"> 0,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&quot;ok&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">:</span><span style="color:#393A34;"> 1</span></span>
<span class="line"><span style="color:#393A34;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">db.getMongo</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;">		</span><span style="color:#A0ADA0;"># \u83B7\u53D6\u5F53\u524D\u8FDE\u63A5\u4FE1\u606F</span></span>
<span class="line"><span style="color:#393A34;">connection to 127.0.0.1:27017</span></span>
<span class="line"></span></code></pre></div><h2 id="\u5BF9\u8C61\u64CD\u4F5C" tabindex="-1">\u5BF9\u8C61\u64CD\u4F5C <a class="header-anchor" href="#\u5BF9\u8C61\u64CD\u4F5C" aria-hidden="true">#</a></h2><p>MongoDB \u4E0E MySQL \u672F\u8BED\u6BD4\u8F83:</p><table><thead><tr><th>MongoDB</th><th>MySQL</th></tr></thead><tbody><tr><td>\u6570\u636E\u5E93</td><td>\u6570\u636E\u5E93</td></tr><tr><td>\u96C6\u5408</td><td>\u8868</td></tr><tr><td>\u6587\u6863</td><td>\u6570\u636E\u884C</td></tr></tbody></table><h3 id="\u6570\u636E\u5E93\u64CD\u4F5C" tabindex="-1">\u6570\u636E\u5E93\u64CD\u4F5C <a class="header-anchor" href="#\u6570\u636E\u5E93\u64CD\u4F5C" aria-hidden="true">#</a></h3><p>\u5F53use\u7684\u65F6\u5019\uFF0C\u7CFB\u7EDF\u5C31\u4F1A\u81EA\u52A8\u521B\u5EFA\u4E00\u4E2A\u6570\u636E\u5E93\u3002</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> use </span><span style="color:#E0A569;">test</span></span>
<span class="line"><span style="color:#DBD7CA;">switched to db </span><span style="color:#E0A569;">test</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">db.dropDatabase</span><span style="color:#858585;">()</span></span>
<span class="line"><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;ok&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> 1 }</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> use </span><span style="color:#B58451;">test</span></span>
<span class="line"><span style="color:#393A34;">switched to db </span><span style="color:#B58451;">test</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">db.dropDatabase</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;ok&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">:</span><span style="color:#393A34;"> 1 }</span></span>
<span class="line"></span></code></pre></div><h3 id="\u96C6\u5408\u64CD\u4F5C-curd" tabindex="-1">\u96C6\u5408\u64CD\u4F5C(CURD) <a class="header-anchor" href="#\u96C6\u5408\u64CD\u4F5C-curd" aria-hidden="true">#</a></h3><p>\u624B\u52A8\u521B\u5EFA\u96C6\u5408:</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> use </span><span style="color:#E0A569;">test</span></span>
<span class="line"><span style="color:#DBD7CA;">switched to db </span><span style="color:#E0A569;">test</span></span>
<span class="line"><span style="color:#758575;"># \u63D2\u5165\u5355\u6761\u6570\u636E</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> db.createCollection</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&#39;a&#39;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;ok&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> 1 }</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> db.createCollection</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&#39;b&#39;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;ok&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> 1 }</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> db.createCollection</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&#39;c&#39;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;ok&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> 1 }</span></span>
<span class="line"><span style="color:#758575;"># \u67E5\u770B\u6240\u6709\u96C6\u5408</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> show collections</span></span>
<span class="line"><span style="color:#DBD7CA;">a</span></span>
<span class="line"><span style="color:#DBD7CA;">b</span></span>
<span class="line"><span style="color:#DBD7CA;">c</span></span>
<span class="line"><span style="color:#758575;"># \u6216\u8005</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">db.getCollectionNames</span><span style="color:#858585;">()</span></span>
<span class="line"><span style="color:#858585;">[</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;a&quot;</span><span style="color:#DBD7CA;">, </span><span style="color:#C98A7D;">&quot;b&quot;</span><span style="color:#DBD7CA;">, </span><span style="color:#C98A7D;">&quot;c&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">]</span></span>
<span class="line"><span style="color:#758575;"># \u6216\u8005</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> show tables</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> use </span><span style="color:#B58451;">test</span></span>
<span class="line"><span style="color:#393A34;">switched to db </span><span style="color:#B58451;">test</span></span>
<span class="line"><span style="color:#A0ADA0;"># \u63D2\u5165\u5355\u6761\u6570\u636E</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> db.createCollection</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&#39;a&#39;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;ok&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">:</span><span style="color:#393A34;"> 1 }</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> db.createCollection</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&#39;b&#39;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;ok&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">:</span><span style="color:#393A34;"> 1 }</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> db.createCollection</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&#39;c&#39;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;ok&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">:</span><span style="color:#393A34;"> 1 }</span></span>
<span class="line"><span style="color:#A0ADA0;"># \u67E5\u770B\u6240\u6709\u96C6\u5408</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> show collections</span></span>
<span class="line"><span style="color:#393A34;">a</span></span>
<span class="line"><span style="color:#393A34;">b</span></span>
<span class="line"><span style="color:#393A34;">c</span></span>
<span class="line"><span style="color:#A0ADA0;"># \u6216\u8005</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">db.getCollectionNames</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"><span style="color:#8E8F8B;">[</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;a&quot;</span><span style="color:#393A34;">, </span><span style="color:#B56959;">&quot;b&quot;</span><span style="color:#393A34;">, </span><span style="color:#B56959;">&quot;c&quot;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">]</span></span>
<span class="line"><span style="color:#A0ADA0;"># \u6216\u8005</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> show tables</span></span>
<span class="line"></span></code></pre></div><h4 id="\u589E" tabindex="-1">\u589E <a class="header-anchor" href="#\u589E" aria-hidden="true">#</a></h4><p>\u521B\u5EFA\u6587\u6863\u65F6\u81EA\u52A8\u521B\u5EFA\u96C6\u5408:</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;"># \u63D2\u5165\u4E00\u6761\u6587\u6863</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> db.inventory.insertOne</span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> item: </span><span style="color:#C98A7D;">&quot;canvas&quot;</span><span style="color:#DBD7CA;">, qty: 100, tags: </span><span style="color:#858585;">[</span><span style="color:#C98A7D;">&quot;cotton&quot;</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">, size: </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> h: 28, w: 35.5, uom: </span><span style="color:#C98A7D;">&quot;cm&quot;</span><span style="color:#DBD7CA;"> } }</span></span>
<span class="line"><span style="color:#DBD7CA;">)</span></span>
<span class="line"><span style="color:#758575;"># \u6216\u8005\u4F7F\u7528 db.inventory.insert \u547D\u4EE4\u6709\u76F8\u540C\u6548\u679C</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;"># \u63D2\u5165\u591A\u6761\u6587\u6863</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> db.inventory.insertMany</span><span style="color:#858585;">([</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> item: </span><span style="color:#C98A7D;">&quot;journal&quot;</span><span style="color:#DBD7CA;">, qty: 25, tags: </span><span style="color:#858585;">[</span><span style="color:#C98A7D;">&quot;blank&quot;</span><span style="color:#DBD7CA;">, </span><span style="color:#C98A7D;">&quot;red&quot;</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">, size: </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> h: 14, w: 21, uom: </span><span style="color:#C98A7D;">&quot;cm&quot;</span><span style="color:#DBD7CA;"> } },</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> item: </span><span style="color:#C98A7D;">&quot;mat&quot;</span><span style="color:#DBD7CA;">, qty: 85, tags: </span><span style="color:#858585;">[</span><span style="color:#C98A7D;">&quot;gray&quot;</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">, size: </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> h: 27.9, w: 35.5, uom: </span><span style="color:#C98A7D;">&quot;cm&quot;</span><span style="color:#DBD7CA;"> } },</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> item: </span><span style="color:#C98A7D;">&quot;mousepad&quot;</span><span style="color:#DBD7CA;">, qty: 25, tags: </span><span style="color:#858585;">[</span><span style="color:#C98A7D;">&quot;gel&quot;</span><span style="color:#DBD7CA;">, </span><span style="color:#C98A7D;">&quot;blue&quot;</span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">, size: </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> h: 19, w: 22.85, uom: </span><span style="color:#C98A7D;">&quot;cm&quot;</span><span style="color:#DBD7CA;"> } }</span></span>
<span class="line"><span style="color:#DBD7CA;">])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;"># \u6B64\u65F6\u4F1A\u53D1\u73B0\u5DF2\u7ECF\u81EA\u52A8\u521B\u5EFA\u4E86\u4E00\u4E2A\u96C6\u5408</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> show collections</span></span>
<span class="line"><span style="color:#DBD7CA;">inventory</span></span>
<span class="line"><span style="color:#758575;"># \u67E5\u770B\u6587\u6863\u5185\u5BB9</span></span>
<span class="line"><span style="color:#758575;"># &gt; db.inventory.find( { item: &quot;canvas&quot; } )</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">db.inventory.find({}).pretty</span><span style="color:#858585;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&quot;_id&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> ObjectId</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;5fa13a9a42526db8b4cd7002&quot;</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&quot;item&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;canvas&quot;</span><span style="color:#DBD7CA;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&quot;qty&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> 100,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&quot;tags&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span></span>
<span class="line"><span style="color:#DBD7CA;">                </span><span style="color:#C98A7D;">&quot;cotton&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">]</span><span style="color:#DBD7CA;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#C98A7D;">&quot;size&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">                </span><span style="color:#C98A7D;">&quot;h&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> 28,</span></span>
<span class="line"><span style="color:#DBD7CA;">                </span><span style="color:#C98A7D;">&quot;w&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> 35.5,</span></span>
<span class="line"><span style="color:#DBD7CA;">                </span><span style="color:#C98A7D;">&quot;uom&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;cm&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;"># \u63D2\u5165\u4E00\u6761\u6587\u6863</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> db.inventory.insertOne</span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> item: </span><span style="color:#B56959;">&quot;canvas&quot;</span><span style="color:#393A34;">, qty: 100, tags: </span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">&quot;cotton&quot;</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">, size: </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> h: 28, w: 35.5, uom: </span><span style="color:#B56959;">&quot;cm&quot;</span><span style="color:#393A34;"> } }</span></span>
<span class="line"><span style="color:#393A34;">)</span></span>
<span class="line"><span style="color:#A0ADA0;"># \u6216\u8005\u4F7F\u7528 db.inventory.insert \u547D\u4EE4\u6709\u76F8\u540C\u6548\u679C</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;"># \u63D2\u5165\u591A\u6761\u6587\u6863</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> db.inventory.insertMany</span><span style="color:#8E8F8B;">([</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> item: </span><span style="color:#B56959;">&quot;journal&quot;</span><span style="color:#393A34;">, qty: 25, tags: </span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">&quot;blank&quot;</span><span style="color:#393A34;">, </span><span style="color:#B56959;">&quot;red&quot;</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">, size: </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> h: 14, w: 21, uom: </span><span style="color:#B56959;">&quot;cm&quot;</span><span style="color:#393A34;"> } },</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> item: </span><span style="color:#B56959;">&quot;mat&quot;</span><span style="color:#393A34;">, qty: 85, tags: </span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">&quot;gray&quot;</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">, size: </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> h: 27.9, w: 35.5, uom: </span><span style="color:#B56959;">&quot;cm&quot;</span><span style="color:#393A34;"> } },</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> item: </span><span style="color:#B56959;">&quot;mousepad&quot;</span><span style="color:#393A34;">, qty: 25, tags: </span><span style="color:#8E8F8B;">[</span><span style="color:#B56959;">&quot;gel&quot;</span><span style="color:#393A34;">, </span><span style="color:#B56959;">&quot;blue&quot;</span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">, size: </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> h: 19, w: 22.85, uom: </span><span style="color:#B56959;">&quot;cm&quot;</span><span style="color:#393A34;"> } }</span></span>
<span class="line"><span style="color:#393A34;">])</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;"># \u6B64\u65F6\u4F1A\u53D1\u73B0\u5DF2\u7ECF\u81EA\u52A8\u521B\u5EFA\u4E86\u4E00\u4E2A\u96C6\u5408</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> show collections</span></span>
<span class="line"><span style="color:#393A34;">inventory</span></span>
<span class="line"><span style="color:#A0ADA0;"># \u67E5\u770B\u6587\u6863\u5185\u5BB9</span></span>
<span class="line"><span style="color:#A0ADA0;"># &gt; db.inventory.find( { item: &quot;canvas&quot; } )</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">db.inventory.find({}).pretty</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&quot;_id&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">:</span><span style="color:#393A34;"> ObjectId</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;5fa13a9a42526db8b4cd7002&quot;</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&quot;item&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;canvas&quot;</span><span style="color:#393A34;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&quot;qty&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">:</span><span style="color:#393A34;"> 100,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&quot;tags&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#B56959;">&quot;cotton&quot;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">]</span><span style="color:#393A34;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#B56959;">&quot;size&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#B56959;">&quot;h&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">:</span><span style="color:#393A34;"> 28,</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#B56959;">&quot;w&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">:</span><span style="color:#393A34;"> 35.5,</span></span>
<span class="line"><span style="color:#393A34;">                </span><span style="color:#B56959;">&quot;uom&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;cm&quot;</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><p>\u4F7F\u7528\u51FD\u6570\u6279\u91CF\u63D2\u5165:</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> for</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">i=0</span><span style="color:#CB7676;">;</span><span style="color:#A1B567;">i&lt;10000;i++){db.log.insert({&quot;uid&quot;:i,&quot;name&quot;:&quot;mongodb&quot;,&quot;age&quot;:6,&quot;date&quot;:newDate</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;">})}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> for</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">i=0</span><span style="color:#AB5959;">;</span><span style="color:#6C7834;">i&lt;10000;i++){db.log.insert({&quot;uid&quot;:i,&quot;name&quot;:&quot;mongodb&quot;,&quot;age&quot;:6,&quot;date&quot;:newDate</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;">})}</span></span>
<span class="line"></span></code></pre></div><h4 id="\u5220" tabindex="-1">\u5220 <a class="header-anchor" href="#\u5220" aria-hidden="true">#</a></h4><p>\u5220\u9664\u96C6\u5408\u6216\u8005\u96C6\u5408\u5185\u5BB9:</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">db.inventory.drop</span><span style="color:#858585;">()</span></span>
<span class="line"><span style="color:#E0A569;">true</span></span>
<span class="line"><span style="color:#758575;"># \u5220\u9664\u96C6\u5408\u5185\u6240\u6709\u6587\u6863</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> db.log.remove</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">{}</span><span style="color:#858585;">)</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">db.inventory.drop</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"><span style="color:#B58451;">true</span></span>
<span class="line"><span style="color:#A0ADA0;"># \u5220\u9664\u96C6\u5408\u5185\u6240\u6709\u6587\u6863</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> db.log.remove</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">{}</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span></code></pre></div><h4 id="\u6539" tabindex="-1">\u6539 <a class="header-anchor" href="#\u6539" aria-hidden="true">#</a></h4><p>\u91CD\u547D\u540D\u96C6\u5408:</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> db.c.renameCollection</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;RENAMED_c&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;ok&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">:</span><span style="color:#DBD7CA;"> 1 }</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> show tables</span></span>
<span class="line"><span style="color:#DBD7CA;">RENAMED_c</span></span>
<span class="line"><span style="color:#758575;"># \u6839\u636E\u6761\u4EF6\u8FDB\u884C\u6279\u91CF\u4FEE\u6539\uFF0C\u9ED8\u8BA4\u60C5\u51B5\u4E0BmonggoDB\u53EA\u4F1A\u4FEE\u6539\u4E00\u6761document\uFF0C\u5982\u679C\u8981\u4FEE\u6539\u591A\u6761document\uFF0C\u5219\u9700\u8981\u8BBE\u7F6Emulti\u4E3Atrue.</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> db.getCollection</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;doc&quot;</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;">.update</span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">{ctime:{</span><span style="color:#858585;">$</span><span style="color:#B8A965;">lt</span><span style="color:#DBD7CA;">: </span><span style="color:#C98A7D;">&quot;2022-05-09&quot;</span><span style="color:#DBD7CA;">}},{</span><span style="color:#858585;">$</span><span style="color:#B8A965;">set</span><span style="color:#DBD7CA;">:{status:-1}},{multi:true}</span><span style="color:#858585;">)</span><span style="color:#CB7676;">;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> db.c.renameCollection</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;RENAMED_c&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;ok&quot;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">:</span><span style="color:#393A34;"> 1 }</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> show tables</span></span>
<span class="line"><span style="color:#393A34;">RENAMED_c</span></span>
<span class="line"><span style="color:#A0ADA0;"># \u6839\u636E\u6761\u4EF6\u8FDB\u884C\u6279\u91CF\u4FEE\u6539\uFF0C\u9ED8\u8BA4\u60C5\u51B5\u4E0BmonggoDB\u53EA\u4F1A\u4FEE\u6539\u4E00\u6761document\uFF0C\u5982\u679C\u8981\u4FEE\u6539\u591A\u6761document\uFF0C\u5219\u9700\u8981\u8BBE\u7F6Emulti\u4E3Atrue.</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> db.getCollection</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;doc&quot;</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;">.update</span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">{ctime:{</span><span style="color:#8E8F8B;">$</span><span style="color:#8C862B;">lt</span><span style="color:#393A34;">: </span><span style="color:#B56959;">&quot;2022-05-09&quot;</span><span style="color:#393A34;">}},{</span><span style="color:#8E8F8B;">$</span><span style="color:#8C862B;">set</span><span style="color:#393A34;">:{status:-1}},{multi:true}</span><span style="color:#8E8F8B;">)</span><span style="color:#AB5959;">;</span></span>
<span class="line"></span></code></pre></div><h4 id="\u67E5" tabindex="-1">\u67E5 <a class="header-anchor" href="#\u67E5" aria-hidden="true">#</a></h4><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">db.getCollection(&quot;doc&quot;).find({}).pretty</span><span style="color:#858585;">()</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">db.getCollection(&quot;doc&quot;).find({}).pretty</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"></span></code></pre></div><p>\u67E5\u770B\u6587\u6863:</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;"># \u67E5\u770B\u6240\u6709\u6307\u5B9A\u96C6\u5408\u6240\u6709\u6587\u6863</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">db.log.find().pretty</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> 		</span><span style="color:#758575;"># \u7B49\u540C\u4E8Edb.log.find({})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">*</span><span style="color:#DBD7CA;"> \u6CE8\u610F: \u9ED8\u8BA4\u6BCF\u9875\u663E\u793A20\u6761\u8BB0\u5F55\uFF0C\u5F53\u663E\u793A\u4E0D\u4E0B\u7684\u7684\u60C5\u51B5\u4E0B\uFF0C\u53EF\u4EE5\u7528it\u8FED\u4EE3\u547D\u4EE4\u67E5\u8BE2\u4E0B\u4E00\u9875\u6570\u636E\u3002</span></span>
<span class="line"><span style="color:#758575;"># \u8BBE\u7F6E\u6BCF\u9875\u663E\u793A\u6570\u636E\u7684\u5927\u5C0F\uFF1A</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> DBQuery.shellBatchSize=50</span><span style="color:#CB7676;">;</span><span style="color:#DBD7CA;"> </span></span>
<span class="line"><span style="color:#758575;"># \u67E5\u770B\u7B2C\u4E00\u6761\u6587\u6863</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">db.log.findOne</span><span style="color:#858585;">()</span></span>
<span class="line"><span style="color:#758575;"># \u67E5\u770B\u603B\u6587\u6863\u6570</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">db.log.count</span><span style="color:#858585;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">db.log.stats</span><span style="color:#858585;">()</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">db.log.dataSize</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;"># \u96C6\u5408\u4E2D\u6570\u636E\u7684\u539F\u59CB\u5927\u5C0F</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">db.log.totalIndexSize</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;"># \u96C6\u5408\u4E2D\u7D22\u5F15\u6570\u636E\u7684\u539F\u59CB\u5927\u5C0F</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">db.log.totalSize</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;"># \u96C6\u5408\u4E2D\u7D22\u5F15+\u6570\u636E\u538B\u7F29\u5B58\u50A8\u4E4B\u540E\u7684\u5927\u5C0F</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">db.log.storageSize</span><span style="color:#858585;">()</span><span style="color:#DBD7CA;"> </span><span style="color:#758575;"># \u96C6\u5408\u4E2D\u6570\u636E\u538B\u7F29\u5B58\u50A8\u7684\u5927\u5C0F</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;"># \u67E5\u770B\u6240\u6709\u6307\u5B9A\u96C6\u5408\u6240\u6709\u6587\u6863</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">db.log.find().pretty</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> 		</span><span style="color:#A0ADA0;"># \u7B49\u540C\u4E8Edb.log.find({})</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">*</span><span style="color:#393A34;"> \u6CE8\u610F: \u9ED8\u8BA4\u6BCF\u9875\u663E\u793A20\u6761\u8BB0\u5F55\uFF0C\u5F53\u663E\u793A\u4E0D\u4E0B\u7684\u7684\u60C5\u51B5\u4E0B\uFF0C\u53EF\u4EE5\u7528it\u8FED\u4EE3\u547D\u4EE4\u67E5\u8BE2\u4E0B\u4E00\u9875\u6570\u636E\u3002</span></span>
<span class="line"><span style="color:#A0ADA0;"># \u8BBE\u7F6E\u6BCF\u9875\u663E\u793A\u6570\u636E\u7684\u5927\u5C0F\uFF1A</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> DBQuery.shellBatchSize=50</span><span style="color:#AB5959;">;</span><span style="color:#393A34;"> </span></span>
<span class="line"><span style="color:#A0ADA0;"># \u67E5\u770B\u7B2C\u4E00\u6761\u6587\u6863</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">db.log.findOne</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"><span style="color:#A0ADA0;"># \u67E5\u770B\u603B\u6587\u6863\u6570</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">db.log.count</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">db.log.stats</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">db.log.dataSize</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;"># \u96C6\u5408\u4E2D\u6570\u636E\u7684\u539F\u59CB\u5927\u5C0F</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">db.log.totalIndexSize</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;"># \u96C6\u5408\u4E2D\u7D22\u5F15\u6570\u636E\u7684\u539F\u59CB\u5927\u5C0F</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">db.log.totalSize</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;"># \u96C6\u5408\u4E2D\u7D22\u5F15+\u6570\u636E\u538B\u7F29\u5B58\u50A8\u4E4B\u540E\u7684\u5927\u5C0F</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">db.log.storageSize</span><span style="color:#8E8F8B;">()</span><span style="color:#393A34;"> </span><span style="color:#A0ADA0;"># \u96C6\u5408\u4E2D\u6570\u636E\u538B\u7F29\u5B58\u50A8\u7684\u5927\u5C0F</span></span>
<span class="line"></span></code></pre></div><h2 id="\u7528\u6237\u7BA1\u7406" tabindex="-1">\u7528\u6237\u7BA1\u7406 <a class="header-anchor" href="#\u7528\u6237\u7BA1\u7406" aria-hidden="true">#</a></h2><p>\u8BED\u6CD5:</p><div class="language-json"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#FDAEB7;font-style:italic;">user</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;&lt;name&gt;&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#FDAEB7;font-style:italic;">pwd</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;&lt;cleartext password&gt;&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#FDAEB7;font-style:italic;">customData</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#FDAEB7;font-style:italic;">&lt;any</span><span style="color:#DBD7CA;"> </span><span style="color:#FDAEB7;font-style:italic;">information&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">},</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#FDAEB7;font-style:italic;">roles</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span></span>
<span class="line"><span style="color:#DBD7CA;">       </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> </span><span style="color:#FDAEB7;font-style:italic;">role</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;&lt;role&gt;&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">     </span><span style="color:#FDAEB7;font-style:italic;">db</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;&lt;database&gt;&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">}</span><span style="color:#DBD7CA;"> </span><span style="color:#FDAEB7;font-style:italic;">|</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;&lt;role&gt;&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#FDAEB7;font-style:italic;">...</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">]</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B31D28;font-style:italic;">user</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;&lt;name&gt;&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B31D28;font-style:italic;">pwd</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;&lt;cleartext password&gt;&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B31D28;font-style:italic;">customData</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#B31D28;font-style:italic;">&lt;any</span><span style="color:#393A34;"> </span><span style="color:#B31D28;font-style:italic;">information&gt;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">},</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B31D28;font-style:italic;">roles</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span></span>
<span class="line"><span style="color:#393A34;">       </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> </span><span style="color:#B31D28;font-style:italic;">role</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;&lt;role&gt;&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">     </span><span style="color:#B31D28;font-style:italic;">db</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;&lt;database&gt;&quot;</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">}</span><span style="color:#393A34;"> </span><span style="color:#B31D28;font-style:italic;">|</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;&lt;role&gt;&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#B31D28;font-style:italic;">...</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">]</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"></span></code></pre></div><blockquote><p>1\u3001\u5728\u521B\u5EFA\u666E\u901A\u7528\u6237\u65F6\uFF0C\u4E00\u822C\u4E8B\u5148use \u5230\u60F3\u8981\u8BBE\u7F6E\u6743\u9650\u7684\u5E93\u4E0B\uFF1B\u6216\u8005\u6240\u6709\u666E\u901A\u7528\u6237\u4F7F\u7528\u540C\u4E00\u4E2A\u9A8C\u8BC1\u5E93\uFF0C\u6BD4\u5982test 2\u3001root\u89D2\u8272\u7684\u521B\u5EFA\uFF0C\u8981\u5728admin\u4E0B\u8FDB\u884C\u521B\u5EFA 3\u3001\u521B\u5EFA\u7528\u6237\u65F6\u4F60use\u5230\u7684\u5E93\uFF0C\u5728\u5C06\u6765\u767B\u5F55\u65F6\u5019\uFF0C\u4F7F\u7528\u4EE5\u4E0B\u65B9\u5F0F\u767B\u5F55,\u5426\u5219\u662F\u767B\u5F55\u4E0D\u4E86\u7684 mongo -u oldboy -p 123 10.0.0.53/oldboy</p></blockquote><p>(1) \u521B\u5EFA\u8D85\u7EA7\u7BA1\u7406\u5458, \u7BA1\u7406\u6240\u6709\u6570\u636E</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> use admin</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> db.createUser</span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">    user: </span><span style="color:#C98A7D;">&quot;root&quot;</span><span style="color:#DBD7CA;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">    pwd: </span><span style="color:#C98A7D;">&quot;root&quot;</span><span style="color:#DBD7CA;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">    roles: </span><span style="color:#858585;">[</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> role: </span><span style="color:#C98A7D;">&quot;root&quot;</span><span style="color:#DBD7CA;">, db: </span><span style="color:#C98A7D;">&quot;admin&quot;</span><span style="color:#DBD7CA;"> } ]</span></span>
<span class="line"><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">)</span></span>
<span class="line"><span style="color:#758575;"># \u9A8C\u8BC1\u7528\u6237</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> db.auth</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&#39;root&#39;</span><span style="color:#DBD7CA;">, </span><span style="color:#C98A7D;">&#39;root&#39;</span><span style="color:#858585;">)</span></span>
<span class="line"><span style="color:#DBD7CA;">1</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> use admin</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> db.createUser</span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">    user: </span><span style="color:#B56959;">&quot;root&quot;</span><span style="color:#393A34;">,</span></span>
<span class="line"><span style="color:#393A34;">    pwd: </span><span style="color:#B56959;">&quot;root&quot;</span><span style="color:#393A34;">,</span></span>
<span class="line"><span style="color:#393A34;">    roles: </span><span style="color:#8E8F8B;">[</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> role: </span><span style="color:#B56959;">&quot;root&quot;</span><span style="color:#393A34;">, db: </span><span style="color:#B56959;">&quot;admin&quot;</span><span style="color:#393A34;"> } ]</span></span>
<span class="line"><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">)</span></span>
<span class="line"><span style="color:#A0ADA0;"># \u9A8C\u8BC1\u7528\u6237</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> db.auth</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&#39;root&#39;</span><span style="color:#393A34;">, </span><span style="color:#B56959;">&#39;root&#39;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"><span style="color:#393A34;">1</span></span>
<span class="line"></span></code></pre></div><p>\u5728\u914D\u7F6E\u6587\u4EF6\u4E2D\u542F\u7528\u7528\u6237\u9A8C\u8BC1:</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;"># vim /etc/mongodb.conf , \u52A0\u5165\u4EE5\u4E0B\u5185\u5BB9</span></span>
<span class="line"><span style="color:#DBD7CA;">security:</span></span>
<span class="line"><span style="color:#DBD7CA;">  authorization: enabled</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;"># vim /etc/mongodb.conf , \u52A0\u5165\u4EE5\u4E0B\u5185\u5BB9</span></span>
<span class="line"><span style="color:#393A34;">security:</span></span>
<span class="line"><span style="color:#393A34;">  authorization: enabled</span></span>
<span class="line"></span></code></pre></div><p>\u91CD\u542F mongodb...</p><p>\u767B\u5F55\u9A8C\u8BC1:</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">$ mongo -uroot -proot localhost/admin</span></span>
<span class="line"><span style="color:#758575;"># \u6216\u8005</span></span>
<span class="line"><span style="color:#DBD7CA;">$ mongo</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> use admin</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> db.auth</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&#39;root&#39;</span><span style="color:#DBD7CA;">,</span><span style="color:#C98A7D;">&#39;root&#39;</span><span style="color:#858585;">)</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">$ mongo -uroot -proot localhost/admin</span></span>
<span class="line"><span style="color:#A0ADA0;"># \u6216\u8005</span></span>
<span class="line"><span style="color:#393A34;">$ mongo</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> use admin</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> db.auth</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&#39;root&#39;</span><span style="color:#393A34;">,</span><span style="color:#B56959;">&#39;root&#39;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span></code></pre></div><p>(2) \u521B\u5EFA\u5E93\u7BA1\u7406\u5458</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> use users</span></span>
<span class="line"><span style="color:#758575;"># \u5BF9app1\u6570\u636E\u5E93\u6709\u8BFB\u5199\u6743\u9650, \u5BF9app2\u6570\u636E\u5E93\u4EC5\u6709\u8BFB\u6743\u9650, \u5BF9app3\u5177\u6709\u7BA1\u7406\u5458\u6743\u9650</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> db.createUser</span><span style="color:#858585;">(</span></span>
<span class="line"><span style="color:#858585;">{</span></span>
<span class="line"><span style="color:#DBD7CA;">user: </span><span style="color:#C98A7D;">&quot;suofeiya&quot;</span><span style="color:#DBD7CA;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">pwd: </span><span style="color:#C98A7D;">&quot;suofeiya&quot;</span><span style="color:#DBD7CA;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">roles: </span><span style="color:#858585;">[</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> role: </span><span style="color:#C98A7D;">&quot;readWrite&quot;</span><span style="color:#DBD7CA;">, db: </span><span style="color:#C98A7D;">&quot;app1&quot;</span><span style="color:#DBD7CA;"> },</span></span>
<span class="line"><span style="color:#DBD7CA;">       </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> role: </span><span style="color:#C98A7D;">&quot;read&quot;</span><span style="color:#DBD7CA;">, db: </span><span style="color:#C98A7D;">&quot;app2&quot;</span><span style="color:#DBD7CA;"> },</span></span>
<span class="line"><span style="color:#DBD7CA;">       </span><span style="color:#858585;">{</span><span style="color:#DBD7CA;"> role: </span><span style="color:#C98A7D;">&quot;dbAdmin&quot;</span><span style="color:#DBD7CA;">, db: </span><span style="color:#C98A7D;">&quot;app3&quot;</span><span style="color:#DBD7CA;"> },</span></span>
<span class="line"><span style="color:#DBD7CA;">      ]</span></span>
<span class="line"><span style="color:#DBD7CA;">   </span><span style="color:#858585;">}</span></span>
<span class="line"><span style="color:#DBD7CA;">)</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> use users</span></span>
<span class="line"><span style="color:#A0ADA0;"># \u5BF9app1\u6570\u636E\u5E93\u6709\u8BFB\u5199\u6743\u9650, \u5BF9app2\u6570\u636E\u5E93\u4EC5\u6709\u8BFB\u6743\u9650, \u5BF9app3\u5177\u6709\u7BA1\u7406\u5458\u6743\u9650</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> db.createUser</span><span style="color:#8E8F8B;">(</span></span>
<span class="line"><span style="color:#8E8F8B;">{</span></span>
<span class="line"><span style="color:#393A34;">user: </span><span style="color:#B56959;">&quot;suofeiya&quot;</span><span style="color:#393A34;">,</span></span>
<span class="line"><span style="color:#393A34;">pwd: </span><span style="color:#B56959;">&quot;suofeiya&quot;</span><span style="color:#393A34;">,</span></span>
<span class="line"><span style="color:#393A34;">roles: </span><span style="color:#8E8F8B;">[</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> role: </span><span style="color:#B56959;">&quot;readWrite&quot;</span><span style="color:#393A34;">, db: </span><span style="color:#B56959;">&quot;app1&quot;</span><span style="color:#393A34;"> },</span></span>
<span class="line"><span style="color:#393A34;">       </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> role: </span><span style="color:#B56959;">&quot;read&quot;</span><span style="color:#393A34;">, db: </span><span style="color:#B56959;">&quot;app2&quot;</span><span style="color:#393A34;"> },</span></span>
<span class="line"><span style="color:#393A34;">       </span><span style="color:#8E8F8B;">{</span><span style="color:#393A34;"> role: </span><span style="color:#B56959;">&quot;dbAdmin&quot;</span><span style="color:#393A34;">, db: </span><span style="color:#B56959;">&quot;app3&quot;</span><span style="color:#393A34;"> },</span></span>
<span class="line"><span style="color:#393A34;">      ]</span></span>
<span class="line"><span style="color:#393A34;">   </span><span style="color:#8E8F8B;">}</span></span>
<span class="line"><span style="color:#393A34;">)</span></span>
<span class="line"></span></code></pre></div><hr><p>\u67E5\u8BE2\u6240\u6709\u7528\u6237:</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> </span><span style="color:#A1B567;">db.system.users.find().pretty</span><span style="color:#858585;">()</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> </span><span style="color:#6C7834;">db.system.users.find().pretty</span><span style="color:#8E8F8B;">()</span></span>
<span class="line"></span></code></pre></div><p>\u5220\u9664\u67D0\u4E2A\u7528\u6237:</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> use users</span></span>
<span class="line"><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> db.dropUser</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;suofeiya&quot;</span><span style="color:#858585;">)</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> use users</span></span>
<span class="line"><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> db.dropUser</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;suofeiya&quot;</span><span style="color:#8E8F8B;">)</span></span>
<span class="line"></span></code></pre></div><h2 id="\u53C2\u8003\u94FE\u63A5" tabindex="-1">\u53C2\u8003\u94FE\u63A5 <a class="header-anchor" href="#\u53C2\u8003\u94FE\u63A5" aria-hidden="true">#</a></h2><ul><li>MongoDB Tutorial:<a href="https://www.tutorialspoint.com/mongodb/index.htm" target="_blank" rel="noopener noreferrer">https://www.tutorialspoint.com/mongodb/index.htm</a></li><li>MongoDB Database Command: <a href="https://docs.mongodb.com/manual/reference/command/" target="_blank" rel="noopener noreferrer">https://docs.mongodb.com/manual/reference/command/</a></li><li>MongoDB CRUD: <a href="https://docs.mongodb.com/manual/crud/" target="_blank" rel="noopener noreferrer">https://docs.mongodb.com/manual/crud/</a></li><li>MongoDB \u83DC\u9E1F\u6559\u7A0B: <a href="https://www.runoob.com/mongodb/" target="_blank" rel="noopener noreferrer">https://www.runoob.com/mongodb/</a></li><li><a href="https://blog.csdn.net/weixin_44953658/article/details/122102059?spm=1001.2014.3001.5501" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/weixin_44953658/article/details/122102059?spm=1001.2014.3001.5501</a></li></ul>`,47),e=[o];function t(c,r,y,A,i,D){return n(),a("div",null,e)}var d=s(p,[["render",t]]);export{u as __pageData,d as default};
