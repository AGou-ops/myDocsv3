import{_ as s,o as a,c as n,a as l}from"./app.1e6146c3.js";const B=JSON.parse('{"title":"Vagrant Basic","description":"","frontmatter":{},"headers":[{"level":2,"title":"Vagrant \u7B80\u4ECB","slug":"vagrant-\u7B80\u4ECB"},{"level":2,"title":"\u5B89\u88C5\u4E0E\u5378\u8F7D","slug":"\u5B89\u88C5\u4E0E\u5378\u8F7D"},{"level":3,"title":"\u5B89\u88C5\uFF08Ubuntu 18.04\u73AF\u5883\u4E0B\uFF09","slug":"\u5B89\u88C5\uFF08ubuntu-18-04\u73AF\u5883\u4E0B\uFF09"},{"level":3,"title":"\u5378\u8F7D","slug":"\u5378\u8F7D"},{"level":2,"title":"\u5FEB\u901F\u5F00\u59CB","slug":"\u5FEB\u901F\u5F00\u59CB"},{"level":2,"title":"VagrantfIle","slug":"vagrantfile"},{"level":2,"title":"\u591A\u4E3B\u673A(Multi-Machine)","slug":"\u591A\u4E3B\u673A-multi-machine"},{"level":2,"title":"Plugins","slug":"plugins"},{"level":3,"title":"vagrant share","slug":"vagrant-share"},{"level":2,"title":"\u53C2\u8003\u94FE\u63A5","slug":"\u53C2\u8003\u94FE\u63A5"}],"relativePath":"LinuxBasics/Vagrant.md","lastUpdated":1657272051000}'),p={name:"LinuxBasics/Vagrant.md"},o=l(`<h1 id="vagrant-basic" tabindex="-1">Vagrant Basic <a class="header-anchor" href="#vagrant-basic" aria-hidden="true">#</a></h1><h2 id="vagrant-\u7B80\u4ECB" tabindex="-1">Vagrant \u7B80\u4ECB <a class="header-anchor" href="#vagrant-\u7B80\u4ECB" aria-hidden="true">#</a></h2><p>\u547D\u4EE4\u884C\u5B9E\u7528\u5DE5\u5177\u6765\u5FEB\u901F\u7BA1\u7406\u865A\u62DF\u673A\u7684\u751F\u547D\u5468\u671F\u3002(<s>\u7EC8\u4E8E\u4E0D\u7528\u624B\u52A8\u7E41\u7410\u7684\u521B\u5EFA\u6D4B\u8BD5\u73AF\u5883\u4E86.</s>)</p><h2 id="\u5B89\u88C5\u4E0E\u5378\u8F7D" tabindex="-1">\u5B89\u88C5\u4E0E\u5378\u8F7D <a class="header-anchor" href="#\u5B89\u88C5\u4E0E\u5378\u8F7D" aria-hidden="true">#</a></h2><h3 id="\u5B89\u88C5\uFF08ubuntu-18-04\u73AF\u5883\u4E0B\uFF09" tabindex="-1">\u5B89\u88C5\uFF08Ubuntu 18.04\u73AF\u5883\u4E0B\uFF09 <a class="header-anchor" href="#\u5B89\u88C5\uFF08ubuntu-18-04\u73AF\u5883\u4E0B\uFF09" aria-hidden="true">#</a></h3><p>\u5176\u4ED6\u7CFB\u7EDF\u5B89\u88C5\u53C2\u8003\uFF1A <a href="https://www.vagrantup.com/docs/installation" target="_blank" rel="noopener noreferrer">https://www.vagrantup.com/docs/installation</a></p><p>\u524D\u5F80<code>vagrant</code>\u5B98\u65B9\u4E0B\u8F7D\u7AD9\u70B9\uFF0C\u4E0B\u8F7D\u4E0E\u5F53\u524D\u7CFB\u7EDF\u7248\u672C\u76F8\u5BF9\u5E94\u7684\u8F6F\u4EF6\u7248\u672C\uFF0C\u89E3\u538B\u7F29\uFF0C\u7136\u540E\u6DFB\u52A0\u5230\u73AF\u5883\u53D8\u91CF\u4E2D\u5373\u53EF\u3002</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">curl https://releases.hashicorp.com/vagrant/2.2.10/vagrant_2.2.10_linux_amd64.zip -o vagrant_2.2.10_linux_amd64.zip</span></span>
<span class="line"><span style="color:#DBD7CA;">unzip vagrant_2.2.10_linux_amd64.zip</span></span>
<span class="line"><span style="color:#DBD7CA;">chmod +x vagrant</span></span>
<span class="line"><span style="color:#DBD7CA;">mv vagrant /usr/bin</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">curl https://releases.hashicorp.com/vagrant/2.2.10/vagrant_2.2.10_linux_amd64.zip -o vagrant_2.2.10_linux_amd64.zip</span></span>
<span class="line"><span style="color:#393A34;">unzip vagrant_2.2.10_linux_amd64.zip</span></span>
<span class="line"><span style="color:#393A34;">chmod +x vagrant</span></span>
<span class="line"><span style="color:#393A34;">mv vagrant /usr/bin</span></span>
<span class="line"></span></code></pre></div><p>\u68C0\u9A8C\u5B89\u88C5\u662F\u5426\u6210\u529F\uFF1A</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">$ vagrant --version</span></span>
<span class="line"><span style="color:#DBD7CA;">Vagrant 2.2.10</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">$ vagrant --version</span></span>
<span class="line"><span style="color:#393A34;">Vagrant 2.2.10</span></span>
<span class="line"></span></code></pre></div><blockquote><p>\u26A0\uFE0F\u7981\u7528<code>kvm</code></p><p>First find out the name of the hypervisor:</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">$ lsmod </span><span style="color:#CB7676;">|</span><span style="color:#DBD7CA;"> grep kvm</span></span>
<span class="line"><span style="color:#DBD7CA;">kvm_intel             204800  6</span></span>
<span class="line"><span style="color:#DBD7CA;">kvm                   593920  1 kvm_intel</span></span>
<span class="line"><span style="color:#DBD7CA;">irqbypass              16384  1 kvm</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">$ lsmod </span><span style="color:#AB5959;">|</span><span style="color:#393A34;"> grep kvm</span></span>
<span class="line"><span style="color:#393A34;">kvm_intel             204800  6</span></span>
<span class="line"><span style="color:#393A34;">kvm                   593920  1 kvm_intel</span></span>
<span class="line"><span style="color:#393A34;">irqbypass              16384  1 kvm</span></span>
<span class="line"></span></code></pre></div><p>The one we&#39;re interested in is <code>kvm_intel</code>. You might have another.</p><p>Blacklist the hypervisor (run the following as root):</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">$ </span><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&#39;blacklist kvm-intel&#39;</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&gt;&gt;</span><span style="color:#DBD7CA;"> /etc/modprobe.d/blacklist.conf</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">$ </span><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&#39;blacklist kvm-intel&#39;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&gt;&gt;</span><span style="color:#393A34;"> /etc/modprobe.d/blacklist.conf</span></span>
<span class="line"></span></code></pre></div></blockquote><h3 id="\u5378\u8F7D" tabindex="-1">\u5378\u8F7D <a class="header-anchor" href="#\u5378\u8F7D" aria-hidden="true">#</a></h3><p>\u5176\u4ED6\u7CFB\u7EDF\u53C2\u8003\uFF1A<a href="https://www.vagrantup.com/docs/installation/uninstallation" target="_blank" rel="noopener noreferrer">https://www.vagrantup.com/docs/installation/uninstallation</a></p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">rm -rf /opt/vagrant</span></span>
<span class="line"><span style="color:#DBD7CA;">rm -f /usr/bin/vagrant</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">rm -rf /opt/vagrant</span></span>
<span class="line"><span style="color:#393A34;">rm -f /usr/bin/vagrant</span></span>
<span class="line"></span></code></pre></div><h2 id="\u5FEB\u901F\u5F00\u59CB" tabindex="-1">\u5FEB\u901F\u5F00\u59CB <a class="header-anchor" href="#\u5FEB\u901F\u5F00\u59CB" aria-hidden="true">#</a></h2><p>\u521D\u59CB\u5316<code>Vagrant</code>\uFF1A</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">$ mkdir vagrant_workspace </span><span style="color:#CB7676;">&amp;&amp;</span><span style="color:#DBD7CA;"> </span><span style="color:#E0A569;">cd</span><span style="color:#DBD7CA;"> vagrant_workspace</span></span>
<span class="line"><span style="color:#DBD7CA;">$ vagrant init hashicorp/bionic64</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">$ mkdir vagrant_workspace </span><span style="color:#AB5959;">&amp;&amp;</span><span style="color:#393A34;"> </span><span style="color:#B58451;">cd</span><span style="color:#393A34;"> vagrant_workspace</span></span>
<span class="line"><span style="color:#393A34;">$ vagrant init hashicorp/bionic64</span></span>
<span class="line"></span></code></pre></div><p>\u521D\u59CB\u5316\u5B8C\u6BD5\u4E4B\u540E\u4F1A\u5728\u5F53\u524D\u76EE\u5F55\u751F\u6210\u4E00\u4E2A\u540D\u4E3A<code>vagrantfile</code>\u7684\u6E05\u5355\u6587\u4EF6</p><p>\u542F\u52A8\u865A\u62DF\u673A\uFF1A</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">$ vagrant up</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">$ vagrant up</span></span>
<span class="line"></span></code></pre></div><p>\u4F7F\u7528<code>SSH</code>\u8FDE\u5165\u521B\u5EFA\u5B8C\u6BD5\u7684\u865A\u62DF\u673A\uFF1A</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">$ vagrant ssh</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">$ vagrant ssh</span></span>
<span class="line"></span></code></pre></div><p>\u5220\u9664\uFF08\u6467\u6BC1\uFF09\u865A\u62DF\u673A\uFF1A</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">$ vagrant destroy</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">$ vagrant destroy</span></span>
<span class="line"></span></code></pre></div><p>\u6467\u6BC1\u865A\u62DF\u673A\u4E0D\u4F1A\u5220\u9664\u6240\u4E0B\u8F7D\u7684\u6587\u4EF6\uFF0C\u5982\u679C\u9700\u8981\u5220\u9664\uFF0C\u5219\u9700\u8981\u8FD0\u884C\uFF1A</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;"># \u67E5\u770Bbox</span></span>
<span class="line"><span style="color:#DBD7CA;">$ vagrant box list</span></span>
<span class="line"><span style="color:#758575;"># \u6DFB\u52A0\u4E00\u4E2Abox</span></span>
<span class="line"><span style="color:#DBD7CA;">$ vagrant box add hashicorp/bionic64</span></span>
<span class="line"><span style="color:#758575;"># \u5220\u9664box</span></span>
<span class="line"><span style="color:#DBD7CA;">$ vagrant box remove ubuntu/trusty64</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;"># \u67E5\u770Bbox</span></span>
<span class="line"><span style="color:#393A34;">$ vagrant box list</span></span>
<span class="line"><span style="color:#A0ADA0;"># \u6DFB\u52A0\u4E00\u4E2Abox</span></span>
<span class="line"><span style="color:#393A34;">$ vagrant box add hashicorp/bionic64</span></span>
<span class="line"><span style="color:#A0ADA0;"># \u5220\u9664box</span></span>
<span class="line"><span style="color:#393A34;">$ vagrant box remove ubuntu/trusty64</span></span>
<span class="line"></span></code></pre></div><h2 id="vagrantfile" tabindex="-1">VagrantfIle <a class="header-anchor" href="#vagrantfile" aria-hidden="true">#</a></h2><p>\u7B80\u5355\u793A\u4F8B1\uFF1A</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">Vagrant.configure</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;2&quot;</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">do</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">|</span><span style="color:#DBD7CA;">config</span><span style="color:#CB7676;">|</span></span>
<span class="line"><span style="color:#DBD7CA;">  config.vm.box = </span><span style="color:#C98A7D;">&quot;ubuntu/trusty64&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">end</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">Vagrant.configure</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;2&quot;</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">do</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">|</span><span style="color:#393A34;">config</span><span style="color:#AB5959;">|</span></span>
<span class="line"><span style="color:#393A34;">  config.vm.box = </span><span style="color:#B56959;">&quot;ubuntu/trusty64&quot;</span></span>
<span class="line"><span style="color:#393A34;">end</span></span>
<span class="line"></span></code></pre></div><p>\u542F\u52A8\uFF1A<code>vagrant up</code></p><p>\u7B80\u5355\u793A\u4F8B2\uFF1A</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">$ mkdir html</span></span>
<span class="line"><span style="color:#DBD7CA;">$ </span><span style="color:#E0A569;">echo</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;vagrant page here.&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> html/index.html</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;"># \u7F16\u5199\u811A\u672C</span></span>
<span class="line"><span style="color:#758575;">#!/usr/bin/env bash</span></span>
<span class="line"><span style="color:#DBD7CA;">apt-get update -y</span></span>
<span class="line"><span style="color:#DBD7CA;">apt-get install -y apache2</span></span>
<span class="line"><span style="color:#4D9375;">if</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">!</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">-L</span><span style="color:#DBD7CA;"> /var/www </span><span style="color:#858585;">]</span><span style="color:#CB7676;">;</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">then</span></span>
<span class="line"><span style="color:#DBD7CA;">  rm -rf /var/www</span></span>
<span class="line"><span style="color:#DBD7CA;">  ln -fs /vagrant /var/www</span></span>
<span class="line"><span style="color:#4D9375;">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;"># \u914D\u7F6Evagrantfile</span></span>
<span class="line"><span style="color:#DBD7CA;">Vagrant.configure</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;2&quot;</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">do</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">|</span><span style="color:#DBD7CA;">config</span><span style="color:#CB7676;">|</span></span>
<span class="line"><span style="color:#DBD7CA;">  config.vm.box = </span><span style="color:#C98A7D;">&quot;hashicorp/bionic64&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">  config.vm.provision :shell, path: </span><span style="color:#C98A7D;">&quot;bootstrap.sh&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">  config.vm.network :forwarded_port, guest: 80, host: 4567</span></span>
<span class="line"><span style="color:#DBD7CA;">end</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">$ mkdir html</span></span>
<span class="line"><span style="color:#393A34;">$ </span><span style="color:#B58451;">echo</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;vagrant page here.&quot;</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> html/index.html</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;"># \u7F16\u5199\u811A\u672C</span></span>
<span class="line"><span style="color:#A0ADA0;">#!/usr/bin/env bash</span></span>
<span class="line"><span style="color:#393A34;">apt-get update -y</span></span>
<span class="line"><span style="color:#393A34;">apt-get install -y apache2</span></span>
<span class="line"><span style="color:#1C6B48;">if</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">!</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">-L</span><span style="color:#393A34;"> /var/www </span><span style="color:#8E8F8B;">]</span><span style="color:#AB5959;">;</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">then</span></span>
<span class="line"><span style="color:#393A34;">  rm -rf /var/www</span></span>
<span class="line"><span style="color:#393A34;">  ln -fs /vagrant /var/www</span></span>
<span class="line"><span style="color:#1C6B48;">fi</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;"># \u914D\u7F6Evagrantfile</span></span>
<span class="line"><span style="color:#393A34;">Vagrant.configure</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;2&quot;</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">do</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">|</span><span style="color:#393A34;">config</span><span style="color:#AB5959;">|</span></span>
<span class="line"><span style="color:#393A34;">  config.vm.box = </span><span style="color:#B56959;">&quot;hashicorp/bionic64&quot;</span></span>
<span class="line"><span style="color:#393A34;">  config.vm.provision :shell, path: </span><span style="color:#B56959;">&quot;bootstrap.sh&quot;</span></span>
<span class="line"><span style="color:#393A34;">  config.vm.network :forwarded_port, guest: 80, host: 4567</span></span>
<span class="line"><span style="color:#393A34;">end</span></span>
<span class="line"></span></code></pre></div><p>\u91CD\u8F7D\u914D\u7F6E\uFF1A<code>vagrant reload --provision</code></p><p>\u6700\u540E\u6253\u5F00\u6D4F\u89C8\u5668\u8BBF\u95EE<code>http://127.0.0.1:4567</code>\u5373\u53EF\u3002</p><p><strong>\u914D\u7F6E\u9879\u8BE6\u89E3\uFF1A</strong></p><div class="language-ruby"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#D4976C;">VAGRANTFILE_API_VERSION</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;2&quot;</span><span style="color:#DBD7CA;">		</span><span style="color:#758575;"># \u53EF\u4E0D\u5B9A\u4E49\u8BE5\u53D8\u91CF\uFF0C\u76F4\u63A5\u6307\u5B9A</span></span>
<span class="line"><span style="color:#E0A569;">Vagrant</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">configure</span><span style="color:#858585;">(</span><span style="color:#D4976C;">VAGRANTFILE_API_VERSION</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">do</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">|</span><span style="color:#B8A965;">config</span><span style="color:#858585;">|</span><span style="color:#DBD7CA;">		</span><span style="color:#758575;"># \u5176\u4E2DVAGRANTFILE_API_VERSION\u53EF\u76F4\u63A5\u4F7F\u7528\`2\`\u6765\u4EE3\u66FF</span></span>
<span class="line"></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;">#######################################  \u4F7F\u7528\u5FAA\u73AF\u8BED\u53E5\u5FEB\u901F\u521B\u5EFA\u4E09\u4E2A\u865A\u62DF\u673A</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#858585;">(</span><span style="color:#6394BF;">1</span><span style="color:#858585;">..</span><span style="color:#6394BF;">3</span><span style="color:#858585;">).</span><span style="color:#DBD7CA;">each </span><span style="color:#4D9375;">do</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">|</span><span style="color:#B8A965;">i</span><span style="color:#858585;">|</span></span>
<span class="line"><span style="color:#DBD7CA;">      config</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">vm</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">define </span><span style="color:#C98A7D;">&quot;node-</span><span style="color:#858585;">#{</span><span style="color:#DBD7CA;">i</span><span style="color:#C98A7D;">}</span><span style="color:#C98A7D;">&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">do</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">|</span><span style="color:#B8A965;">node</span><span style="color:#858585;">|</span></span>
<span class="line"><span style="color:#DBD7CA;">        node</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">vm</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">provision </span><span style="color:#C98A7D;">&quot;shell&quot;</span><span style="color:#858585;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">          </span><span style="color:#D4976C;">inline</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;echo hello from node </span><span style="color:#858585;">#{</span><span style="color:#DBD7CA;">i</span><span style="color:#C98A7D;">}</span><span style="color:#C98A7D;">&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">      </span><span style="color:#4D9375;">end</span></span>
<span class="line"><span style="color:#DBD7CA;">    </span><span style="color:#4D9375;">end</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;">####################################### </span></span>
<span class="line"></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;"># ---------------------- config.vim</span></span>
<span class="line"><span style="color:#DBD7CA;">    config</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">vm</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">box </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;generic/ubuntu1804&quot;</span><span style="color:#DBD7CA;">	</span><span style="color:#758575;"># \u955C\u50CF\u540D\u79F0</span></span>
<span class="line"><span style="color:#DBD7CA;">    config</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">vm</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">hostname </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;vm-demo1.local&quot;</span><span style="color:#DBD7CA;">		</span><span style="color:#758575;"># \u6307\u5B9A\u4E3B\u673A\u540D\u79F0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    config</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">vm</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">network </span><span style="color:#C98A7D;">&quot;forwarded_port&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">guest</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">80</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">host</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#6394BF;">8080</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">id</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;http&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">protocol</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;tcp&quot;</span><span style="color:#DBD7CA;">		</span><span style="color:#758575;"># \u8BBE\u7F6E\u8F6C\u53D1\u7AEF\u53E3\uFF0C\u540E\u9762\u7684id\u53C2\u6570\u53EF\u4EE5\u7701\u7565</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;"># config.vm.network &quot;public_network&quot;, ip: &quot;192.168.33.11&quot;, hostname: true		# \u6307\u660E\u516C\u7F51\u5730\u5740\uFF0C\u5E76\u4F7F\u7528hostname\u9009\u9879\uFF0C\u8BE5\u9009\u9879\u53EF\u4EE5\u5C06\u4FE1\u606F\u5199\u5165/etc/hosts\uFF0C\u5982\`vm-demo1 192.168.33.11\` </span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;"># config.vm.network &quot;private_network&quot;, ip: &quot;192.168.33.11&quot;		# \u6307\u660E\u79C1\u7F51\u5730\u5740</span></span>
<span class="line"><span style="color:#DBD7CA;">    config</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">vm</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">network </span><span style="color:#C98A7D;">&quot;public_network&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">use_dhcp_assigned_default_route</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">true</span><span style="color:#DBD7CA;">	</span><span style="color:#758575;"># \u4F7F\u7528\u9ED8\u8BA4dhcp\u83B7\u53D6IP</span></span>
<span class="line"><span style="color:#858585;">    </span><span style="color:#758575;"># ----------------------</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">    config</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">vm</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">synced_folder </span><span style="color:#C98A7D;">&quot;src/&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;/srv/website&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">disabled</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">false</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">owner</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;root&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">group</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;root&quot;</span><span style="color:#DBD7CA;">		</span><span style="color:#758575;"># \u6302\u8F7D\u6587\u4EF6\u5939, disable\u9009\u9879\u7701\u7565</span></span>
<span class="line"></span>
<span class="line"><span style="color:#4D9375;">end</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A65E2B;">VAGRANTFILE_API_VERSION</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;2&quot;</span><span style="color:#393A34;">		</span><span style="color:#A0ADA0;"># \u53EF\u4E0D\u5B9A\u4E49\u8BE5\u53D8\u91CF\uFF0C\u76F4\u63A5\u6307\u5B9A</span></span>
<span class="line"><span style="color:#B58451;">Vagrant</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">configure</span><span style="color:#8E8F8B;">(</span><span style="color:#A65E2B;">VAGRANTFILE_API_VERSION</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">do</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">|</span><span style="color:#8C862B;">config</span><span style="color:#8E8F8B;">|</span><span style="color:#393A34;">		</span><span style="color:#A0ADA0;"># \u5176\u4E2DVAGRANTFILE_API_VERSION\u53EF\u76F4\u63A5\u4F7F\u7528\`2\`\u6765\u4EE3\u66FF</span></span>
<span class="line"></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;">#######################################  \u4F7F\u7528\u5FAA\u73AF\u8BED\u53E5\u5FEB\u901F\u521B\u5EFA\u4E09\u4E2A\u865A\u62DF\u673A</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#8E8F8B;">(</span><span style="color:#296AA3;">1</span><span style="color:#8E8F8B;">..</span><span style="color:#296AA3;">3</span><span style="color:#8E8F8B;">).</span><span style="color:#393A34;">each </span><span style="color:#1C6B48;">do</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">|</span><span style="color:#8C862B;">i</span><span style="color:#8E8F8B;">|</span></span>
<span class="line"><span style="color:#393A34;">      config</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">vm</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">define </span><span style="color:#B56959;">&quot;node-</span><span style="color:#8E8F8B;">#{</span><span style="color:#393A34;">i</span><span style="color:#B56959;">}</span><span style="color:#B56959;">&quot;</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">do</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">|</span><span style="color:#8C862B;">node</span><span style="color:#8E8F8B;">|</span></span>
<span class="line"><span style="color:#393A34;">        node</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">vm</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">provision </span><span style="color:#B56959;">&quot;shell&quot;</span><span style="color:#8E8F8B;">,</span></span>
<span class="line"><span style="color:#393A34;">          </span><span style="color:#A65E2B;">inline</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;echo hello from node </span><span style="color:#8E8F8B;">#{</span><span style="color:#393A34;">i</span><span style="color:#B56959;">}</span><span style="color:#B56959;">&quot;</span></span>
<span class="line"><span style="color:#393A34;">      </span><span style="color:#1C6B48;">end</span></span>
<span class="line"><span style="color:#393A34;">    </span><span style="color:#1C6B48;">end</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;">####################################### </span></span>
<span class="line"></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;"># ---------------------- config.vim</span></span>
<span class="line"><span style="color:#393A34;">    config</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">vm</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">box </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;generic/ubuntu1804&quot;</span><span style="color:#393A34;">	</span><span style="color:#A0ADA0;"># \u955C\u50CF\u540D\u79F0</span></span>
<span class="line"><span style="color:#393A34;">    config</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">vm</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">hostname </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;vm-demo1.local&quot;</span><span style="color:#393A34;">		</span><span style="color:#A0ADA0;"># \u6307\u5B9A\u4E3B\u673A\u540D\u79F0</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    config</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">vm</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">network </span><span style="color:#B56959;">&quot;forwarded_port&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">guest</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">80</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">host</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#296AA3;">8080</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">id</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;http&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">protocol</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;tcp&quot;</span><span style="color:#393A34;">		</span><span style="color:#A0ADA0;"># \u8BBE\u7F6E\u8F6C\u53D1\u7AEF\u53E3\uFF0C\u540E\u9762\u7684id\u53C2\u6570\u53EF\u4EE5\u7701\u7565</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;"># config.vm.network &quot;public_network&quot;, ip: &quot;192.168.33.11&quot;, hostname: true		# \u6307\u660E\u516C\u7F51\u5730\u5740\uFF0C\u5E76\u4F7F\u7528hostname\u9009\u9879\uFF0C\u8BE5\u9009\u9879\u53EF\u4EE5\u5C06\u4FE1\u606F\u5199\u5165/etc/hosts\uFF0C\u5982\`vm-demo1 192.168.33.11\` </span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;"># config.vm.network &quot;private_network&quot;, ip: &quot;192.168.33.11&quot;		# \u6307\u660E\u79C1\u7F51\u5730\u5740</span></span>
<span class="line"><span style="color:#393A34;">    config</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">vm</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">network </span><span style="color:#B56959;">&quot;public_network&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">use_dhcp_assigned_default_route</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">true</span><span style="color:#393A34;">	</span><span style="color:#A0ADA0;"># \u4F7F\u7528\u9ED8\u8BA4dhcp\u83B7\u53D6IP</span></span>
<span class="line"><span style="color:#8E8F8B;">    </span><span style="color:#A0ADA0;"># ----------------------</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">    config</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">vm</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">synced_folder </span><span style="color:#B56959;">&quot;src/&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;/srv/website&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">disabled</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">false</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">owner</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;root&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">group</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;root&quot;</span><span style="color:#393A34;">		</span><span style="color:#A0ADA0;"># \u6302\u8F7D\u6587\u4EF6\u5939, disable\u9009\u9879\u7701\u7565</span></span>
<span class="line"></span>
<span class="line"><span style="color:#1C6B48;">end</span></span>
<span class="line"></span></code></pre></div><h2 id="\u591A\u4E3B\u673A-multi-machine" tabindex="-1">\u591A\u4E3B\u673A(Multi-Machine) <a class="header-anchor" href="#\u591A\u4E3B\u673A-multi-machine" aria-hidden="true">#</a></h2><div class="language-ruby"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#E0A569;">Vagrant</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">configure</span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&quot;2&quot;</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">do</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">|</span><span style="color:#B8A965;">config</span><span style="color:#858585;">|</span></span>
<span class="line"><span style="color:#DBD7CA;">  config</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">vm</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">network </span><span style="color:#C98A7D;">&quot;private_network&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">type</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;dhcp&quot;</span><span style="color:#DBD7CA;">		</span><span style="color:#758575;"># \u4E92\u8054\u4E3B\u673A\u7F51\u8DEF</span></span>
<span class="line"><span style="color:#DBD7CA;">  config</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">vm</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">provision </span><span style="color:#C98A7D;">&quot;shell&quot;</span><span style="color:#858585;">,</span><span style="color:#DBD7CA;"> </span><span style="color:#D4976C;">inline</span><span style="color:#858585;">:</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;echo Hello&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">  config</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">vm</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">define </span><span style="color:#C98A7D;">&quot;web&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">do</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">|</span><span style="color:#B8A965;">web</span><span style="color:#858585;">|</span></span>
<span class="line"><span style="color:#DBD7CA;">    web</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">vm</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">box </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;apache&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#4D9375;">end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">  config</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">vm</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">define </span><span style="color:#C98A7D;">&quot;db&quot;</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">do</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">|</span><span style="color:#B8A965;">db</span><span style="color:#858585;">|</span></span>
<span class="line"><span style="color:#DBD7CA;">    db</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">vm</span><span style="color:#858585;">.</span><span style="color:#DBD7CA;">box </span><span style="color:#CB7676;">=</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">&quot;mysql&quot;</span></span>
<span class="line"><span style="color:#DBD7CA;">  </span><span style="color:#4D9375;">end</span></span>
<span class="line"><span style="color:#4D9375;">end</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#B58451;">Vagrant</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">configure</span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&quot;2&quot;</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">do</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">|</span><span style="color:#8C862B;">config</span><span style="color:#8E8F8B;">|</span></span>
<span class="line"><span style="color:#393A34;">  config</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">vm</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">network </span><span style="color:#B56959;">&quot;private_network&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">type</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;dhcp&quot;</span><span style="color:#393A34;">		</span><span style="color:#A0ADA0;"># \u4E92\u8054\u4E3B\u673A\u7F51\u8DEF</span></span>
<span class="line"><span style="color:#393A34;">  config</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">vm</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">provision </span><span style="color:#B56959;">&quot;shell&quot;</span><span style="color:#8E8F8B;">,</span><span style="color:#393A34;"> </span><span style="color:#A65E2B;">inline</span><span style="color:#8E8F8B;">:</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;echo Hello&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">  config</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">vm</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">define </span><span style="color:#B56959;">&quot;web&quot;</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">do</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">|</span><span style="color:#8C862B;">web</span><span style="color:#8E8F8B;">|</span></span>
<span class="line"><span style="color:#393A34;">    web</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">vm</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">box </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;apache&quot;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">end</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">  config</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">vm</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">define </span><span style="color:#B56959;">&quot;db&quot;</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">do</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">|</span><span style="color:#8C862B;">db</span><span style="color:#8E8F8B;">|</span></span>
<span class="line"><span style="color:#393A34;">    db</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">vm</span><span style="color:#8E8F8B;">.</span><span style="color:#393A34;">box </span><span style="color:#AB5959;">=</span><span style="color:#393A34;"> </span><span style="color:#B56959;">&quot;mysql&quot;</span></span>
<span class="line"><span style="color:#393A34;">  </span><span style="color:#1C6B48;">end</span></span>
<span class="line"><span style="color:#1C6B48;">end</span></span>
<span class="line"></span></code></pre></div><p>\u7BA1\u7406\u591A\u4E3B\u673A\uFF1A</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;"># \u542F\u52A8\u6240\u6709</span></span>
<span class="line"><span style="color:#DBD7CA;">$ vagrant up</span></span>
<span class="line"><span style="color:#758575;"># \u542F\u52A8\u6307\u5B9A\u4E3B\u673A</span></span>
<span class="line"><span style="color:#DBD7CA;">$ vagrant up web</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;"># \u542F\u52A8\u6240\u6709</span></span>
<span class="line"><span style="color:#393A34;">$ vagrant up</span></span>
<span class="line"><span style="color:#A0ADA0;"># \u542F\u52A8\u6307\u5B9A\u4E3B\u673A</span></span>
<span class="line"><span style="color:#393A34;">$ vagrant up web</span></span>
<span class="line"></span></code></pre></div><h2 id="plugins" tabindex="-1">Plugins <a class="header-anchor" href="#plugins" aria-hidden="true">#</a></h2><h3 id="vagrant-share" tabindex="-1">vagrant share <a class="header-anchor" href="#vagrant-share" aria-hidden="true">#</a></h3><p>\u9884\u5148\u6761\u4EF6\uFF1A\u5B89\u88C5<code>ngrok</code>\uFF0C\u53C2\u8003 <a href="https://ngrok.com/download" target="_blank" rel="noopener noreferrer">https://ngrok.com/download</a></p><p>\u5B89\u88C5\u63D2\u4EF6\uFF1A</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">$ vagrant plugin install vagrant-share</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">$ vagrant plugin install vagrant-share</span></span>
<span class="line"></span></code></pre></div><p>\u5171\u4EAB\u73AF\u5883\uFF1A</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">$ vagrant share</span></span>
<span class="line"><span style="color:#DBD7CA;">==</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> default: Detecting network information </span><span style="color:#4D9375;">for</span><span style="color:#DBD7CA;"> machine...</span></span>
<span class="line"><span style="color:#DBD7CA;">    default: Local machine address: 127.0.0.1</span></span>
<span class="line"><span style="color:#DBD7CA;">    default:</span></span>
<span class="line"><span style="color:#DBD7CA;">    default: Note: With the </span><span style="color:#CB7676;">local</span><span style="color:#DBD7CA;"> address </span><span style="color:#858585;">(</span><span style="color:#DBD7CA;">127.0.0.1</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;">, Vagrant Share can only</span></span>
<span class="line"><span style="color:#DBD7CA;">    default: share any ports you have forwarded. Assign an IP or address to your</span></span>
<span class="line"><span style="color:#DBD7CA;">    default: machine to expose all TCP ports. Consult the documentation</span></span>
<span class="line"><span style="color:#DBD7CA;">    default: </span><span style="color:#4D9375;">for</span><span style="color:#DBD7CA;"> your provider </span><span style="color:#858585;">(</span><span style="color:#C98A7D;">&#39;virtualbox&#39;</span><span style="color:#858585;">)</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">for</span><span style="color:#DBD7CA;"> more information.</span></span>
<span class="line"><span style="color:#DBD7CA;">    default:</span></span>
<span class="line"><span style="color:#DBD7CA;">    default: Local HTTP port: 4567</span></span>
<span class="line"><span style="color:#DBD7CA;">    default: Local HTTPS port: disabled</span></span>
<span class="line"><span style="color:#DBD7CA;">    default: Port: 2222</span></span>
<span class="line"><span style="color:#DBD7CA;">    default: Port: 4567</span></span>
<span class="line"><span style="color:#DBD7CA;">==</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> default: Creating Vagrant Share session...</span></span>
<span class="line"><span style="color:#DBD7CA;">==</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> default: HTTP URL: http://c726c8a40a7b.ngrok.io</span></span>
<span class="line"><span style="color:#DBD7CA;">==</span><span style="color:#CB7676;">&gt;</span><span style="color:#DBD7CA;"> default: </span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">$ vagrant share</span></span>
<span class="line"><span style="color:#393A34;">==</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> default: Detecting network information </span><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> machine...</span></span>
<span class="line"><span style="color:#393A34;">    default: Local machine address: 127.0.0.1</span></span>
<span class="line"><span style="color:#393A34;">    default:</span></span>
<span class="line"><span style="color:#393A34;">    default: Note: With the </span><span style="color:#AB5959;">local</span><span style="color:#393A34;"> address </span><span style="color:#8E8F8B;">(</span><span style="color:#393A34;">127.0.0.1</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;">, Vagrant Share can only</span></span>
<span class="line"><span style="color:#393A34;">    default: share any ports you have forwarded. Assign an IP or address to your</span></span>
<span class="line"><span style="color:#393A34;">    default: machine to expose all TCP ports. Consult the documentation</span></span>
<span class="line"><span style="color:#393A34;">    default: </span><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> your provider </span><span style="color:#8E8F8B;">(</span><span style="color:#B56959;">&#39;virtualbox&#39;</span><span style="color:#8E8F8B;">)</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">for</span><span style="color:#393A34;"> more information.</span></span>
<span class="line"><span style="color:#393A34;">    default:</span></span>
<span class="line"><span style="color:#393A34;">    default: Local HTTP port: 4567</span></span>
<span class="line"><span style="color:#393A34;">    default: Local HTTPS port: disabled</span></span>
<span class="line"><span style="color:#393A34;">    default: Port: 2222</span></span>
<span class="line"><span style="color:#393A34;">    default: Port: 4567</span></span>
<span class="line"><span style="color:#393A34;">==</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> default: Creating Vagrant Share session...</span></span>
<span class="line"><span style="color:#393A34;">==</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> default: HTTP URL: http://c726c8a40a7b.ngrok.io</span></span>
<span class="line"><span style="color:#393A34;">==</span><span style="color:#AB5959;">&gt;</span><span style="color:#393A34;"> default: </span></span>
<span class="line"></span></code></pre></div><h2 id="\u53C2\u8003\u94FE\u63A5" tabindex="-1">\u53C2\u8003\u94FE\u63A5 <a class="header-anchor" href="#\u53C2\u8003\u94FE\u63A5" aria-hidden="true">#</a></h2><ul><li>Vagrant Documentation: <a href="https://www.vagrantup.com/docs/" target="_blank" rel="noopener noreferrer">https://www.vagrantup.com/docs/</a></li><li>Vagrantfile: <a href="https://www.vagrantup.com/docs/vagrantfile" target="_blank" rel="noopener noreferrer">https://www.vagrantup.com/docs/vagrantfile</a></li></ul>`,49),e=[o];function c(t,r,y,i,A,D){return a(),n("div",null,e)}var u=s(p,[["render",c]]);export{B as __pageData,u as default};
