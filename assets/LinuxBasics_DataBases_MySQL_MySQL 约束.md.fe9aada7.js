import{_ as l,o as s,c as a,a as n}from"./app.1e6146c3.js";const D=JSON.parse('{"title":"MySQL\u7EA6\u675F","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u6982\u5FF5","slug":"\u6982\u5FF5"},{"level":2,"title":"\u4F7F\u7528\u573A\u666F","slug":"\u4F7F\u7528\u573A\u666F"},{"level":2,"title":"\u5206\u7C7B","slug":"\u5206\u7C7B"},{"level":3,"title":"1. default","slug":"_1-default"},{"level":3,"title":"2. not null","slug":"_2-not-null"},{"level":3,"title":"3. unique","slug":"_3-unique"},{"level":3,"title":"4. \u5220\u9664\u552F\u4E00\u7EA6\u675F","slug":"_4-\u5220\u9664\u552F\u4E00\u7EA6\u675F"},{"level":3,"title":"5. \u4E3B\u952E\u7EA6\u675F","slug":"_5-\u4E3B\u952E\u7EA6\u675F"},{"level":3,"title":"6. auto_increment/indentity: \u81EA\u589E\u957F\u7EA6\u675F","slug":"_6-auto-increment-indentity-\u81EA\u589E\u957F\u7EA6\u675F"},{"level":3,"title":"7. unsigned: \u65E0\u7B26\u53F7\u7EA6\u675F","slug":"_7-unsigned-\u65E0\u7B26\u53F7\u7EA6\u675F"},{"level":3,"title":"8. zerofill: \u96F6\u586B\u5145\u7EA6\u675F","slug":"_8-zerofill-\u96F6\u586B\u5145\u7EA6\u675F"},{"level":3,"title":"9. foreign key: \u5916\u952E\u7EA6\u675F","slug":"_9-foreign-key-\u5916\u952E\u7EA6\u675F"},{"level":2,"title":"\u6570\u636E\u5E93\u7684\u8BBE\u8BA1","slug":"\u6570\u636E\u5E93\u7684\u8BBE\u8BA1"},{"level":2,"title":"\u53C2\u8003\u94FE\u63A5","slug":"\u53C2\u8003\u94FE\u63A5"}],"relativePath":"LinuxBasics/DataBases/MySQL/MySQL \u7EA6\u675F.md","lastUpdated":1657272051000}'),e={name:"LinuxBasics/DataBases/MySQL/MySQL \u7EA6\u675F.md"},p=n(`<h1 id="mysql\u7EA6\u675F" tabindex="-1">MySQL\u7EA6\u675F <a class="header-anchor" href="#mysql\u7EA6\u675F" aria-hidden="true">#</a></h1><h2 id="\u6982\u5FF5" tabindex="-1">\u6982\u5FF5 <a class="header-anchor" href="#\u6982\u5FF5" aria-hidden="true">#</a></h2><ul><li>\u662F\u4E00\u79CD\u9650\u5236\uFF0C\u5B83\u662F\u5BF9\u8868\u7684\u884C\u548C\u5217\u7684\u6570\u636E\u505A\u51FA\u7EA6\u675F\uFF0C\u786E\u4FDD\u8868\u4E2D\u6570\u636E\u7684\u5B8C\u6574\u6027\u548C\u552F\u4E00\u6027\u3002</li></ul><h2 id="\u4F7F\u7528\u573A\u666F" tabindex="-1">\u4F7F\u7528\u573A\u666F <a class="header-anchor" href="#\u4F7F\u7528\u573A\u666F" aria-hidden="true">#</a></h2><ul><li>\u521B\u5EFA\u8868\u7684\u65F6\u5019\uFF0C\u6DFB\u52A0\u7EA6\u675F</li></ul><h2 id="\u5206\u7C7B" tabindex="-1">\u5206\u7C7B <a class="header-anchor" href="#\u5206\u7C7B" aria-hidden="true">#</a></h2><ul><li>default: \u9ED8\u8BA4\u7EA6\u675F, \u57DF\u5B8C\u6574\u6027</li><li>not null: \u975E\u7A7A\u7EA6\u675F\uFF0C\u57DF\u5B8C\u6574\u6027</li><li>unique: \u552F\u4E00\u7EA6\u675F\uFF0C\u5B9E\u4F53\u5B8C\u6574\u6027</li><li>primary key: \u4E3B\u952E\u7EA6\u675F\uFF0C\u5B9E\u4F53\u5B8C\u6574\u6027</li><li>foreign key: \u5916\u952E\u7EA6\u675F\uFF0C\u53C2\u7167\u5B8C\u6574\u6027</li><li>check: \u68C0\u67E5\u7EA6\u675F\uFF08MySQL\u4E0D\u652F\u6301\uFF09\uFF0C\u57DF\u5B8C\u6574\u6027</li><li>auto_increment: \u81EA\u589E\u957F\u7EA6\u675F</li><li>unsigned: \u65E0\u7B26\u53F7\u7EA6\u675F</li><li>zerofill: \u96F6\u586B\u5145\u7EA6\u675F</li></ul><blockquote><p>\u6570\u636E\u5E93\u4E2D\u6709\u4E09\u4E2A\u5B8C\u6574\u6027: \u57DF\u3001\u5B9E\u4F53\u3001\u53C2\u7167\u5B8C\u6574\u6027</p><ul><li>\u57DF(\u5217)\u5B8C\u6574\u6027\uFF1A <ul><li>\u57DF\u5B8C\u6574\u6027\u662F\u5BF9\u6570\u636E\u8868\u4E2D\u5B57\u6BB5\u5C5E\u6027\u7684\u7EA6\u675F</li></ul></li><li>\u5B9E\u4F53\u5B8C\u6574\u6027\u5728MySQL\u4E2D\u5B9E\u73B0\uFF1A <ul><li>\u901A\u8FC7\u4E3B\u952E\u7EA6\u675F\u548C\u5019\u9009\u952E\u7EA6\u675F\u5B9E\u73B0\u7684</li></ul></li><li>\u53C2\u7167\u5B8C\u6574\u6027\uFF1A <ul><li>\u4E5F\u5C31\u662F\u8BF4\u662FMySQL\u7684\u5916\u952E</li></ul></li></ul></blockquote><h3 id="_1-default" tabindex="-1">1. default <a class="header-anchor" href="#_1-default" aria-hidden="true">#</a></h3><ul><li><p>\u6982\u5FF5</p><ul><li>\u6307\u5B9A\u67D0\u5217\u7684\u9ED8\u8BA4\u503C\uFF0C\u63D2\u5165\u6570\u636E\u65F6\u5019\uFF0C\u6B64\u5217\u6CA1\u6709\u503C\uFF0C\u5219\u7528default\u6307\u5B9A\u7684\u503C\u6765\u586B\u5145</li></ul></li><li><p>\u6DFB\u52A0</p><ul><li><p>\u5728\u521B\u5EFA\u8868\u7684\u65F6\u5019\u6DFB\u52A0\uFF1A create .... default</p><ul><li>create table t1(id int default 1, name varchar(20) default &#39;\u8001\u738B&#39;);</li></ul></li><li><p>\u901A\u8FC7alter\u8BED\u53E5\u6DFB\u52A0\uFF1A alter .... <strong>modify/change</strong> ....</p></li><li><p>alter table t1 modify id int default 2;</p><ul><li>alter table t1 change name name varchar(20) default &#39;\u82E5\u5C18&#39;;</li></ul></li></ul></li><li><p>\u5220\u9664</p><ul><li>alter .... modify/change</li><li>alter table t1 modify id int;</li><li>alter table t1 change name name varchar(20);</li></ul></li></ul><h3 id="_2-not-null" tabindex="-1">2. not null <a class="header-anchor" href="#_2-not-null" aria-hidden="true">#</a></h3><ul><li><p>\u6982\u5FF5</p><ul><li>\u6307\u5B9A\u67D0\u5217\u7684\u503C\u4E0D\u4E3A\u7A7A\uFF0C\u5728\u63D2\u5165\u6570\u636E\u7684\u65F6\u5019\u5FC5\u987B\u975E\u7A7A &#39;&#39; \u4E0D\u7B49\u4E8E null, 0\u4E0D\u7B49\u4E8E null</li></ul></li><li><p>\u6DFB\u52A0</p><ul><li><p>\u5728\u521B\u5EFA\u8868\u7684\u65F6\u5019\u6DFB\u52A0\uFF1A create .... not null</p><ul><li>create table t2(id int not null, name varchar(20) not null);</li></ul></li><li><p>\u901A\u8FC7alter\u8BED\u53E5\u6DFB\u52A0\uFF1A alter .... modify/change ....</p></li><li><p>alter table t2 modify id int not null;</p><ul><li>alter table t2 change name name varchar(20) not null;</li></ul></li></ul></li><li><p>\u5220\u9664</p><ul><li>alter .... modify/change</li><li>alter table t2 modify id int;</li><li>alter table t2 change name name varchar(20);</li></ul></li></ul><h3 id="_3-unique" tabindex="-1">3. unique <a class="header-anchor" href="#_3-unique" aria-hidden="true">#</a></h3><ul><li><p>\u6982\u5FF5</p><ul><li>\u6307\u5B9A\u5217\u6216\u8005\u5217\u7EC4\u5408\u4E0D\u80FD\u91CD\u590D\uFF0C\u4FDD\u8BC1\u6570\u636E\u7684\u552F\u4E00\u6027</li><li>\u4E0D\u80FD\u51FA\u73B0\u91CD\u590D\u7684\u503C\uFF0C\u4F46\u662F\u53EF\u4EE5\u6709\u591A\u4E2Anull</li><li>\u540C\u4E00\u5F20\u8868\u53EF\u4EE5\u6709\u591A\u4E2A\u552F\u4E00\u7684\u7EA6\u675F</li></ul></li><li><p>\u6DFB\u52A0\u552F\u4E00\u7EA6\u675F</p><ul><li><p>\u5728\u521B\u5EFA\u8868\u7684\u65F6\u5019\u6DFB\u52A0\uFF1A create .... unique</p><ul><li>create table t3(id int unique, name varchar(20) not null);</li></ul></li></ul><div class="language-sql"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&gt;</span><span style="color:#4D9375;">insert</span><span style="color:#DBD7CA;"> t3 </span><span style="color:#4D9375;">value</span><span style="color:#DBD7CA;"> (</span><span style="color:#6394BF;">1</span><span style="color:#DBD7CA;">, </span><span style="color:#C98A7D;">&#39;\u8001\u738B&#39;</span><span style="color:#DBD7CA;">);       </span></span>
<span class="line"><span style="color:#4D9375;">insert</span><span style="color:#DBD7CA;"> t3 </span><span style="color:#4D9375;">value</span><span style="color:#DBD7CA;"> (</span><span style="color:#6394BF;">1</span><span style="color:#DBD7CA;">, </span><span style="color:#C98A7D;">&#39;\u8001\u674E&#39;</span><span style="color:#DBD7CA;">);  </span><span style="color:#758575;">-- id \u552F\u4E00\u7EA6\u675F\uFF0C\u6DFB\u52A0\u5F02\u5E38</span></span>
<span class="line"><span style="color:#CB7676;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">create</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">table</span><span style="color:#DBD7CA;"> t3(</span></span>
<span class="line"><span style="color:#DBD7CA;">id </span><span style="color:#4D9375;">int</span><span style="color:#DBD7CA;">,</span><span style="color:#4D9375;">name</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">varchar</span><span style="color:#DBD7CA;">(</span><span style="color:#6394BF;">20</span><span style="color:#DBD7CA;">) </span><span style="color:#4D9375;">not</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">null</span><span style="color:#DBD7CA;">,</span></span>
<span class="line"><span style="color:#DBD7CA;">        </span><span style="color:#CB7676;">constraint</span><span style="color:#DBD7CA;"> id_unique </span><span style="color:#4D9375;">unique</span><span style="color:#DBD7CA;">(id, </span><span style="color:#4D9375;">name</span><span style="color:#DBD7CA;">) </span><span style="color:#758575;">-- \u6DFB\u52A0\u590D\u5408\u7EA6\u675F</span></span>
<span class="line"><span style="color:#DBD7CA;">);</span></span>
<span class="line"><span style="color:#CB7676;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">&gt;</span><span style="color:#4D9375;">insert</span><span style="color:#DBD7CA;"> t3 </span><span style="color:#4D9375;">value</span><span style="color:#DBD7CA;"> (</span><span style="color:#6394BF;">1</span><span style="color:#DBD7CA;">, </span><span style="color:#C98A7D;">&#39;\u8001\u738B&#39;</span><span style="color:#DBD7CA;">); </span></span>
<span class="line"><span style="color:#4D9375;">insert</span><span style="color:#DBD7CA;"> t3 </span><span style="color:#4D9375;">value</span><span style="color:#DBD7CA;"> (</span><span style="color:#6394BF;">1</span><span style="color:#DBD7CA;">, </span><span style="color:#C98A7D;">&#39;\u8001\u674E&#39;</span><span style="color:#DBD7CA;">); </span></span>
<span class="line"><span style="color:#4D9375;">select</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">*</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">from</span><span style="color:#DBD7CA;"> t3;</span></span>
<span class="line"><span style="color:#4D9375;">insert</span><span style="color:#DBD7CA;"> t3 </span><span style="color:#4D9375;">value</span><span style="color:#DBD7CA;"> (</span><span style="color:#6394BF;">1</span><span style="color:#DBD7CA;">, </span><span style="color:#C98A7D;">&#39;\u8001\u738B&#39;</span><span style="color:#DBD7CA;">); </span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&gt;</span><span style="color:#1C6B48;">insert</span><span style="color:#393A34;"> t3 </span><span style="color:#1C6B48;">value</span><span style="color:#393A34;"> (</span><span style="color:#296AA3;">1</span><span style="color:#393A34;">, </span><span style="color:#B56959;">&#39;\u8001\u738B&#39;</span><span style="color:#393A34;">);       </span></span>
<span class="line"><span style="color:#1C6B48;">insert</span><span style="color:#393A34;"> t3 </span><span style="color:#1C6B48;">value</span><span style="color:#393A34;"> (</span><span style="color:#296AA3;">1</span><span style="color:#393A34;">, </span><span style="color:#B56959;">&#39;\u8001\u674E&#39;</span><span style="color:#393A34;">);  </span><span style="color:#A0ADA0;">-- id \u552F\u4E00\u7EA6\u675F\uFF0C\u6DFB\u52A0\u5F02\u5E38</span></span>
<span class="line"><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">create</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">table</span><span style="color:#393A34;"> t3(</span></span>
<span class="line"><span style="color:#393A34;">id </span><span style="color:#1C6B48;">int</span><span style="color:#393A34;">,</span><span style="color:#1C6B48;">name</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">varchar</span><span style="color:#393A34;">(</span><span style="color:#296AA3;">20</span><span style="color:#393A34;">) </span><span style="color:#1C6B48;">not</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">null</span><span style="color:#393A34;">,</span></span>
<span class="line"><span style="color:#393A34;">        </span><span style="color:#AB5959;">constraint</span><span style="color:#393A34;"> id_unique </span><span style="color:#1C6B48;">unique</span><span style="color:#393A34;">(id, </span><span style="color:#1C6B48;">name</span><span style="color:#393A34;">) </span><span style="color:#A0ADA0;">-- \u6DFB\u52A0\u590D\u5408\u7EA6\u675F</span></span>
<span class="line"><span style="color:#393A34;">);</span></span>
<span class="line"><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">&gt;</span><span style="color:#1C6B48;">insert</span><span style="color:#393A34;"> t3 </span><span style="color:#1C6B48;">value</span><span style="color:#393A34;"> (</span><span style="color:#296AA3;">1</span><span style="color:#393A34;">, </span><span style="color:#B56959;">&#39;\u8001\u738B&#39;</span><span style="color:#393A34;">); </span></span>
<span class="line"><span style="color:#1C6B48;">insert</span><span style="color:#393A34;"> t3 </span><span style="color:#1C6B48;">value</span><span style="color:#393A34;"> (</span><span style="color:#296AA3;">1</span><span style="color:#393A34;">, </span><span style="color:#B56959;">&#39;\u8001\u674E&#39;</span><span style="color:#393A34;">); </span></span>
<span class="line"><span style="color:#1C6B48;">select</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">*</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">from</span><span style="color:#393A34;"> t3;</span></span>
<span class="line"><span style="color:#1C6B48;">insert</span><span style="color:#393A34;"> t3 </span><span style="color:#1C6B48;">value</span><span style="color:#393A34;"> (</span><span style="color:#296AA3;">1</span><span style="color:#393A34;">, </span><span style="color:#B56959;">&#39;\u8001\u738B&#39;</span><span style="color:#393A34;">); </span></span>
<span class="line"></span></code></pre></div><ul><li>\u901A\u8FC7alter\u8BED\u53E5\u6DFB\u52A0\uFF1A alter .... modify/change .... / alter .... add unique <ul><li>alter table t3 modify id int unique;</li><li>alter table t3 add unique(name);</li><li>alter table t3 add constraint un_id unique(id);</li></ul></li></ul></li></ul><h3 id="_4-\u5220\u9664\u552F\u4E00\u7EA6\u675F" tabindex="-1">4. \u5220\u9664\u552F\u4E00\u7EA6\u675F <a class="header-anchor" href="#_4-\u5220\u9664\u552F\u4E00\u7EA6\u675F" aria-hidden="true">#</a></h3><ul><li>alter .... drop .... index \u540D\u79F0</li><li>drop index on \u8868\u540D</li><li>alter table t3 drop index id_unique;</li><li>\u6CE8\u610F\uFF1A\u5982\u679C\u5220\u9664\u7684\u552F\u4E00\u7EA6\u675F\u5217\u5177\u6709\u81EA\u589E\u957F\u7EA6\u675F\uFF0C\u5219\u5FC5\u987B<strong>\u5148\u5220\u9664\u81EA\u589E\u957F\u7EA6\u675F\uFF0C\u518D\u53BB\u5220\u9664\u552F\u4E00\u7EA6\u675F</strong></li></ul><h3 id="_5-\u4E3B\u952E\u7EA6\u675F" tabindex="-1">5. \u4E3B\u952E\u7EA6\u675F <a class="header-anchor" href="#_5-\u4E3B\u952E\u7EA6\u675F" aria-hidden="true">#</a></h3><ul><li><p>\u6982\u5FF5</p><ul><li>\u5F53\u524D\u884C\u7684\u6570\u636E\u4E0D\u4E3A\u7A7A\u5E76\u4E14\u4E0D\u80FD\u91CD\u590D</li><li>\u76F8\u5F53\u4E8E\uFF1A\u552F\u4E00\u7EA6\u675F+\u975E\u7A7A\u7EA6\u675F</li></ul></li><li><p>\u6DFB\u52A0\u4E3B\u952E\u7EA6\u675F</p><ul><li><p>\u5728\u521B\u5EFA\u8868\u7684\u65F6\u5019\u6DFB\u52A0\uFF1A create .... primary key</p><ul><li>create table t4(id int primary key, name varchar(20));</li></ul></li></ul><div class="language-sql"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">create</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">table</span><span style="color:#DBD7CA;"> t3(id </span><span style="color:#4D9375;">int</span><span style="color:#DBD7CA;">,</span><span style="color:#4D9375;">name</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">varchar</span><span style="color:#DBD7CA;">(</span><span style="color:#6394BF;">20</span><span style="color:#DBD7CA;">),[constraint id_primary] </span><span style="color:#4D9375;">primary</span><span style="color:#DBD7CA;">(id, </span><span style="color:#4D9375;">name</span><span style="color:#DBD7CA;">) </span><span style="color:#758575;">-- \u8054\u5408\u7EA6\u675F</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">create</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">table</span><span style="color:#393A34;"> t3(id </span><span style="color:#1C6B48;">int</span><span style="color:#393A34;">,</span><span style="color:#1C6B48;">name</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">varchar</span><span style="color:#393A34;">(</span><span style="color:#296AA3;">20</span><span style="color:#393A34;">),[constraint id_primary] </span><span style="color:#1C6B48;">primary</span><span style="color:#393A34;">(id, </span><span style="color:#1C6B48;">name</span><span style="color:#393A34;">) </span><span style="color:#A0ADA0;">-- \u8054\u5408\u7EA6\u675F</span></span>
<span class="line"></span></code></pre></div><ul><li>\u901A\u8FC7alter\u8BED\u53E5\u6DFB\u52A0\uFF1A alter .... modify/change .... / alter .... add primary key .... <ul><li>alter table t4 modify id int primary key;</li><li>alter table t3 add constraint un_primary primary key(id, name);</li></ul></li></ul></li><li><p>\u5220\u9664\u4E3B\u952E</p><ul><li>alter .... drop primary key</li><li>alter table t4 drop primary key;</li></ul></li><li><p>\u6CE8\u610F\uFF1A\u5982\u679C\u5220\u9664\u7684\u4E3B\u952E\u7EA6\u675F\u5177\u6709\u81EA\u589E\u957F\u7EA6\u675F\uFF0C\u5219\u5FC5\u987B\u5148\u5220\u9664\u81EA\u589E\u957F\u7EA6\u675F\uFF0C\u518D\u53BB\u5220\u9664\u4E3B\u952E\u7EA6\u675F\u3002</p></li></ul><h3 id="_6-auto-increment-indentity-\u81EA\u589E\u957F\u7EA6\u675F" tabindex="-1">6. auto_increment/indentity: \u81EA\u589E\u957F\u7EA6\u675F <a class="header-anchor" href="#_6-auto-increment-indentity-\u81EA\u589E\u957F\u7EA6\u675F" aria-hidden="true">#</a></h3><ul><li><p>\u6982\u8FF0</p><ul><li>\u5217\u7684\u6570\u503C\u81EA\u52A8\u589E\u957F\uFF0C\u5217\u7684\u7C7B\u578B\u53EA\u80FD\u662F\u6574\u6570\u7C7B\u578B</li><li>\u901A\u5E38\u7ED9\u4E3B\u952E\u6DFB\u52A0\u81EA\u589E\u957F\u7EA6\u675F</li></ul></li><li><p>\u6DFB\u52A0</p><ul><li><p>\u5728\u521B\u5EFA\u8868\u7684\u65F6\u5019\u6DFB\u52A0\uFF1A create .... auto_increment/indentity(m,n) <code>indentity(m,n)\u4E2D\u7684m\u8868\u793A\u521D\u59CB\u503C\uFF0Cn\u8868\u793A\u81EA\u589E\u957F\u6B65\u957F</code></p><ul><li>create table t5(id int primary key auto_increment, name varchar(20));</li></ul></li><li><p>\u901A\u8FC7alter\u8BED\u53E5\u6DFB\u52A0\uFF1A alter .... modify/change ....auto_increment</p></li><li><p>alter table t5 change id id int auto_increment;</p></li></ul></li><li><p>\u5220\u9664\u81EA\u589E\u957F</p><ul><li>alter .... modify/change...</li><li>alter table t5 modify id int;</li></ul></li><li><p>\u6CE8\u610F\uFF1A</p><ul><li>\u4E00\u5F20\u8868\u53EA\u80FD\u6709<strong>\u4E00\u4E2A</strong>\u81EA\u589E\u957F\u5217\uFF0C\u5E76\u4E14\u8BE5\u5217\u9700\u8981<strong>\u5B9A\u4E49\u7EA6\u675F</strong>\u3002</li></ul></li></ul><h3 id="_7-unsigned-\u65E0\u7B26\u53F7\u7EA6\u675F" tabindex="-1">7. unsigned: \u65E0\u7B26\u53F7\u7EA6\u675F <a class="header-anchor" href="#_7-unsigned-\u65E0\u7B26\u53F7\u7EA6\u675F" aria-hidden="true">#</a></h3><ul><li><p>\u6982\u5FF5</p><ul><li>\u6307\u5B9A\u5F53\u524D\u5217\u7684\u6570\u503C\u4E3A\u975E\u8D1F\u6570</li><li>age tinyint 1 -128\uFF5E127 unsigned 0\uFF5E255</li></ul></li><li><p>\u6DFB\u52A0</p><ul><li><p>\u5728\u521B\u5EFA\u8868\u7684\u65F6\u5019\u6DFB\u52A0\uFF1A create .... unsigned</p><ul><li>create table t6(id int, age tinyint unsigned);</li></ul></li><li><p>\u901A\u8FC7alter\u8BED\u53E5\u6DFB\u52A0\uFF1A alter .... unsigned modify/change ....</p></li></ul></li><li><p>alter table t6 change age age tinyint unsigned;</p><ul><li>alter table t6 modify age tinyint unsigned;</li></ul></li><li><p>\u5220\u9664</p><ul><li>alter .... modify/change ....</li><li>alter table t6 modify age tinyint;</li><li>alter table t6 change age age tinyint;</li></ul></li></ul><h3 id="_8-zerofill-\u96F6\u586B\u5145\u7EA6\u675F" tabindex="-1">8. zerofill: \u96F6\u586B\u5145\u7EA6\u675F <a class="header-anchor" href="#_8-zerofill-\u96F6\u586B\u5145\u7EA6\u675F" aria-hidden="true">#</a></h3><ul><li><p>\u6982\u5FF5</p><ul><li>\u6307\u5B9A\u5F53\u524D\u5217\u7684\u6570\u503C\u7684\u663E\u793A\u683C\u5F0F\uFF0C\u591A\u4F59\u7684\u4F4D\u6570\u4F7F\u7528<code>0</code>\u6765\u586B\u5145\uFF0C\u4E0D\u5F71\u54CD\u5F53\u524D\u5217\u663E\u793A\u8303\u56F4\u548C\u5B9E\u9645\u5B58\u50A8\u7684\u6570\u636E</li><li>\u6BD4\u5982\uFF1A<code>int(3)</code>\uFF0C\u6570\u636E\u4E3A<code>3</code>\u65F6\uFF0C\u5728\u547D\u4EE4\u884C\u4E2D\u663E\u793A\u7684\u5185\u5BB9\u4E3A<code>003</code>\uFF0C\u5B9E\u9645\u5B58\u50A8\u7684\u6570\u636E\u8FD8\u662F<code>3</code></li></ul></li><li><p>\u6DFB\u52A0</p><ul><li><p>\u5728\u521B\u5EFA\u8868\u7684\u65F6\u5019\u6DFB\u52A0\uFF1A create .... zerofill</p><ul><li>create table t7(id int, age int(6) zerofill);</li></ul></li></ul></li><li><p>\u5220\u9664</p><ul><li>alter .... modify/change ....</li><li>alter table t7 modify age int;</li><li>alter table t7 change age age int;</li></ul></li></ul><h3 id="_9-foreign-key-\u5916\u952E\u7EA6\u675F" tabindex="-1">9. foreign key: \u5916\u952E\u7EA6\u675F <a class="header-anchor" href="#_9-foreign-key-\u5916\u952E\u7EA6\u675F" aria-hidden="true">#</a></h3><ul><li><p>\u901A\u8FC7\u5EFA\u7ACB\u5916\u952E\uFF0C\u8BBE\u7F6E\u8868\u4E0E\u8868\u4E4B\u95F4\u7684\u7EA6\u675F\u6027\uFF0C\u9650\u5236\u6570\u636E\u7684\u5F55\u5165</p><div class="language-"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#dbd7ca;">\u5458\u5DE5\u8868(\u4ECE\u8868)                       \u90E8\u95E8\u8868(\u4E3B\u8868)</span></span>
<span class="line"><span style="color:#dbd7ca;">\u5458\u5DE5\u53F7    \u5458\u5DE5\u59D3\u540D  \u90E8\u95E8\u540D\u79F0          \u90E8\u95E8\u53F7  \u90E8\u95E8\u540D\u79F0</span></span>
<span class="line"><span style="color:#dbd7ca;">1        \u5F20\u4E09      1                1         \u4EBA\u529B</span></span>
<span class="line"><span style="color:#dbd7ca;">2        \u674E\u56DB      2                2         \u9500\u552E</span></span>
<span class="line"><span style="color:#dbd7ca;">3        \u738B\u4E94      3</span></span>
<span class="line"><span style="color:#dbd7ca;"></span></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393a34;">\u5458\u5DE5\u8868(\u4ECE\u8868)                       \u90E8\u95E8\u8868(\u4E3B\u8868)</span></span>
<span class="line"><span style="color:#393a34;">\u5458\u5DE5\u53F7    \u5458\u5DE5\u59D3\u540D  \u90E8\u95E8\u540D\u79F0          \u90E8\u95E8\u53F7  \u90E8\u95E8\u540D\u79F0</span></span>
<span class="line"><span style="color:#393a34;">1        \u5F20\u4E09      1                1         \u4EBA\u529B</span></span>
<span class="line"><span style="color:#393a34;">2        \u674E\u56DB      2                2         \u9500\u552E</span></span>
<span class="line"><span style="color:#393a34;">3        \u738B\u4E94      3</span></span>
<span class="line"><span style="color:#393a34;"></span></span></code></pre></div></li><li><p>\u6982\u8FF0</p><ul><li>\u5EFA\u7ACB\u8868\u4E0E\u8868\u4E4B\u95F4\u7684\u5173\u7CFB\uFF0C\u5EFA\u7ACB\u53C2\u7167\u5B8C\u6574\u6027\uFF0C\u4E00\u4E2A\u8868\u53EF\u4EE5\u6709\u591A\u4E2A\u5916\u952E\uFF0C\u6BCF\u4E2A\u5916\u952E\u5FC5\u987B\u53C2\u7167\u53E6\u4E00\u4E2A\u4E3B\u952E\u3002</li><li>\u88AB\u5916\u952E\u7EA6\u675F\u7684\u5217\uFF0C\u53D6\u503C\u5FC5\u987B\u53C2\u7167\u5176\u4E3B\u8868\u5217\u4E2D\u7684\u503C</li><li>\u6CE8\u610F\uFF1A<strong>\u901A\u5E38\u5148\u521B\u5EFA\u4E3B\u8868\uFF0C\u518D\u521B\u5EFA\u4ECE\u8868</strong></li></ul></li><li><p>\u67E5\u770B\u6240\u6709\u8868\u7684\u5916\u952E\u7EA6\u675F</p></li></ul><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">- SELECT </span><span style="color:#CB7676;">*</span><span style="color:#DBD7CA;"> FROM information_schema.</span><span style="color:#C98A7D;">\`TABLE_CONSTRAINTS\`</span><span style="color:#DBD7CA;"> </span><span style="color:#858585;">[</span><span style="color:#DBD7CA;">where table_name</span><span style="color:#CB7676;">=</span><span style="color:#C98A7D;">&#39;&lt;TABLE_NAME&gt;&#39;</span><span style="color:#858585;">]</span><span style="color:#CB7676;">;</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">- SELECT </span><span style="color:#AB5959;">*</span><span style="color:#393A34;"> FROM information_schema.</span><span style="color:#B56959;">\`TABLE_CONSTRAINTS\`</span><span style="color:#393A34;"> </span><span style="color:#8E8F8B;">[</span><span style="color:#393A34;">where table_name</span><span style="color:#AB5959;">=</span><span style="color:#B56959;">&#39;&lt;TABLE_NAME&gt;&#39;</span><span style="color:#8E8F8B;">]</span><span style="color:#AB5959;">;</span></span>
<span class="line"></span></code></pre></div><ul><li>\u6DFB\u52A0\u5916\u952E\u7EA6\u675F</li></ul><div class="language-sql"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#CB7676;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">create</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">table</span><span style="color:#DBD7CA;"> dept(deptno </span><span style="color:#4D9375;">int</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">primary</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">key</span><span style="color:#DBD7CA;"> auto_increment, dname </span><span style="color:#4D9375;">varchar</span><span style="color:#DBD7CA;">(</span><span style="color:#6394BF;">32</span><span style="color:#DBD7CA;">),loc </span><span style="color:#4D9375;">varchar</span><span style="color:#DBD7CA;">(</span><span style="color:#6394BF;">32</span><span style="color:#DBD7CA;">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;">-- \u6DFB\u52A0\u5916\u952E\u7EA6\u675F</span></span>
<span class="line"><span style="color:#CB7676;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">create</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">table</span><span style="color:#DBD7CA;"> emp(empno </span><span style="color:#4D9375;">int</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">primary</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">key</span><span style="color:#DBD7CA;"> auto_increment, ename </span><span style="color:#4D9375;">varchar</span><span style="color:#DBD7CA;">(</span><span style="color:#6394BF;">32</span><span style="color:#DBD7CA;">) </span><span style="color:#4D9375;">not</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">null</span><span style="color:#DBD7CA;">, deptno </span><span style="color:#4D9375;">int</span><span style="color:#DBD7CA;">, </span><span style="color:#CB7676;">constraint</span><span style="color:#DBD7CA;"> </span><span style="color:#C98A7D;">\`fk_name\`</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">foreign key</span><span style="color:#DBD7CA;">(deptno) </span><span style="color:#CB7676;">references</span><span style="color:#DBD7CA;"> dept(deptno));</span></span>
<span class="line"><span style="color:#758575;">-- \u4F7F\u7528alter add constraint ....</span></span>
<span class="line"><span style="color:#CB7676;">-</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">alter</span><span style="color:#DBD7CA;"> </span><span style="color:#4D9375;">table</span><span style="color:#DBD7CA;"> emp </span><span style="color:#4D9375;">add</span><span style="color:#DBD7CA;"> </span><span style="color:#CB7676;">constraint</span><span style="color:#DBD7CA;"> fk_name </span><span style="color:#CB7676;">foreign key</span><span style="color:#DBD7CA;">(deptno) </span><span style="color:#CB7676;">references</span><span style="color:#DBD7CA;"> dept(deptno);</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">create</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">table</span><span style="color:#393A34;"> dept(deptno </span><span style="color:#1C6B48;">int</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">primary</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">key</span><span style="color:#393A34;"> auto_increment, dname </span><span style="color:#1C6B48;">varchar</span><span style="color:#393A34;">(</span><span style="color:#296AA3;">32</span><span style="color:#393A34;">),loc </span><span style="color:#1C6B48;">varchar</span><span style="color:#393A34;">(</span><span style="color:#296AA3;">32</span><span style="color:#393A34;">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;">-- \u6DFB\u52A0\u5916\u952E\u7EA6\u675F</span></span>
<span class="line"><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">create</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">table</span><span style="color:#393A34;"> emp(empno </span><span style="color:#1C6B48;">int</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">primary</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">key</span><span style="color:#393A34;"> auto_increment, ename </span><span style="color:#1C6B48;">varchar</span><span style="color:#393A34;">(</span><span style="color:#296AA3;">32</span><span style="color:#393A34;">) </span><span style="color:#1C6B48;">not</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">null</span><span style="color:#393A34;">, deptno </span><span style="color:#1C6B48;">int</span><span style="color:#393A34;">, </span><span style="color:#AB5959;">constraint</span><span style="color:#393A34;"> </span><span style="color:#B56959;">\`fk_name\`</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">foreign key</span><span style="color:#393A34;">(deptno) </span><span style="color:#AB5959;">references</span><span style="color:#393A34;"> dept(deptno));</span></span>
<span class="line"><span style="color:#A0ADA0;">-- \u4F7F\u7528alter add constraint ....</span></span>
<span class="line"><span style="color:#AB5959;">-</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">alter</span><span style="color:#393A34;"> </span><span style="color:#1C6B48;">table</span><span style="color:#393A34;"> emp </span><span style="color:#1C6B48;">add</span><span style="color:#393A34;"> </span><span style="color:#AB5959;">constraint</span><span style="color:#393A34;"> fk_name </span><span style="color:#AB5959;">foreign key</span><span style="color:#393A34;">(deptno) </span><span style="color:#AB5959;">references</span><span style="color:#393A34;"> dept(deptno);</span></span>
<span class="line"></span></code></pre></div><ul><li><p>\u5220\u9664\u5916\u952E\u7EA6\u675F</p><ul><li>alter .... drop foreign key fk_name</li><li>alter table emp drop foreign key fk_name;</li></ul></li><li><p>\u6CE8\u610F\uFF1A</p><ul><li>\u5728\u521B\u5EFA\u8868\u65F6\uFF0C\u4E0D\u53BB\u660E\u786E\u6307\u5B9A\u5916\u952E\u7EA6\u675F\u7684\u540D\u79F0\uFF0C\u7CFB\u7EDF\u4F1A\u81EA\u52A8\u5730\u751F\u6210\u4E00\u4E2A\u5916\u952E\u7684\u540D\u79F0\u3002</li><li>\u4F7F\u7528 show create table \u8868\u540D \u67E5\u770B\u5177\u4F53\u7684\u5916\u952E\u540D\u79F0</li></ul></li><li><p>\u8BBE\u7F6E\u5916\u952E\u4E2D\u7684\u7EA7\u8054\u5173\u7CFB</p><ul><li>on delete cascade: \u5220\u9664\u4E3B\u8868\u4E2D\u7684\u6570\u636E\u65F6\uFF0C\u4ECE\u8868\u4E2D\u7684\u6570\u636E\u968F\u4E4B\u5220\u9664</li><li>on update cascase: \u66F4\u65B0\u4E3B\u8868\u4E2D\u7684\u6570\u636E\u65F6\uFF0C\u4ECE\u8868\u4E2D\u7684\u6570\u636E\u968F\u4E4B\u66F4\u65B0</li><li>on delete set null: \u5220\u9664\u4E3B\u8868\u4E2D\u7684\u6570\u636E\u65F6\uFF0C\u4ECE\u8868\u4E2D\u7684\u6570\u636E\u7F6E\u7A7A</li></ul></li><li><p>\u7EA7\u8054\u5220\u9664</p><ul><li>create table emp(empno int promary key auto_increment, ename varchar(32) not null, deptno int, \u200B [constraint fk_name] foreign key(deptno) references dept(deptno) on delete cascade-- \u6DFB\u52A0\u5916\u952E\u7EA6\u675F</li></ul></li></ul><p>);</p><ul><li>\u6CE8\u610F\uFF1A <ul><li>\u63D2\u5165\u6570\u636E\u65F6\uFF0C\u5148\u63D2\u5165\u4E3B\u8868\u7684\u6570\u636E\uFF0C\u518D\u63D2\u5165\u4ECE\u8868\u7684\u6570\u636E</li><li>\u5220\u9664\u6570\u636E\u65F6\uFF0C\u5148\u5220\u9664\u4ECE\u8868\u7684\u6570\u636E\uFF0C\u518D\u5220\u9664\u4E3B\u8868\u7684\u6570\u636E</li></ul></li></ul><h2 id="\u6570\u636E\u5E93\u7684\u8BBE\u8BA1" tabindex="-1">\u6570\u636E\u5E93\u7684\u8BBE\u8BA1 <a class="header-anchor" href="#\u6570\u636E\u5E93\u7684\u8BBE\u8BA1" aria-hidden="true">#</a></h2><ul><li>\u4E3B\u952E\u7EA6\u675F</li><li>\u81EA\u589E\u957F\u7EA6\u675F</li><li>\u5916\u952E\u7EA6\u675F(\u614E\u7528)</li><li>\u552F\u4E00\u7EA6\u675F</li><li>\u975E\u7A7A\u7EA6\u675F</li><li>\u9ED8\u8BA4\u7EA6\u675F</li></ul><blockquote><p>\u6587\u7AE0\u539F\u6587\uFF1A<a href="https://segmentfault.com/a/1190000039214953" target="_blank" rel="noopener noreferrer">https://segmentfault.com/a/1190000039214953</a></p></blockquote><h2 id="\u53C2\u8003\u94FE\u63A5" tabindex="-1">\u53C2\u8003\u94FE\u63A5 <a class="header-anchor" href="#\u53C2\u8003\u94FE\u63A5" aria-hidden="true">#</a></h2><ul><li><a href="http://article.docway.net/details?id=5fd0d627f8d82b689d3200bf" target="_blank" rel="noopener noreferrer">http://article.docway.net/details?id=5fd0d627f8d82b689d3200bf</a></li></ul>`,37),o=[p];function t(r,c,i,y,d,u){return s(),a("div",null,o)}var B=l(e,[["render",t]]);export{D as __pageData,B as default};
