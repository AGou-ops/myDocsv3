import{_ as s,o as n,c as e,a}from"./app.1e6146c3.js";const g=JSON.parse('{"title":"Jenkins Basic","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u5B89\u88C5\u4E0E\u4F7F\u7528","slug":"\u5B89\u88C5\u4E0E\u4F7F\u7528"},{"level":2,"title":"\u901A\u8FC7 Docker \u5B89\u88C5","slug":"\u901A\u8FC7-docker-\u5B89\u88C5"},{"level":3,"title":"\u5207\u6362\u8BED\u8A00\u4E3A\u7B80\u4F53\u4E2D\u6587","slug":"\u5207\u6362\u8BED\u8A00\u4E3A\u7B80\u4F53\u4E2D\u6587"},{"level":3,"title":"\u4FEE\u6539\u9ED8\u8BA4\u76EE\u5F55","slug":"\u4FEE\u6539\u9ED8\u8BA4\u76EE\u5F55"},{"level":2,"title":"\u53C2\u8003\u94FE\u63A5","slug":"\u53C2\u8003\u94FE\u63A5"}],"relativePath":"CloudNative/cicd/Jenkins/Jenkins Basic.md","lastUpdated":1657272051000}'),o={name:"CloudNative/cicd/Jenkins/Jenkins Basic.md"},l=a(`<h1 id="jenkins-basic" tabindex="-1">Jenkins Basic <a class="header-anchor" href="#jenkins-basic" aria-hidden="true">#</a></h1><p><code>Jenkins</code>\u662F\u4E00\u4E2A\u72EC\u7ACB\u7684\u3001\u5F00\u6E90\u7684\u81EA\u52A8\u5316\u670D\u52A1\u5668\u53EF\u4EE5\u7528\u6765\u81EA\u52A8\u6267\u884C\u5404\u79CD\u5404\u6837\u7684\u4EFB\u52A1\u76F8\u5173\u7684\u5EFA\u7B51\u3001\u6D4B\u8BD5\u548C\u4EA4\u4ED8\u6216\u90E8\u7F72\u8F6F\u4EF6\u3002 <code>Jenkins</code>\u53EF\u4EE5\u901A\u8FC7<code>\u672C\u673A\u7CFB\u7EDF\u5B89\u88C5\u5305</code>, <code>Docker</code>, \u751A\u81F3\u662F\u4EFB\u4F55\u673A\u5668\u8FD0\u884C\u72EC\u7ACB\u7684<code>Java\u8FD0\u884C\u65F6\u73AF\u5883(JRE)</code>\u5B89\u88C5\u3002</p><h2 id="\u5B89\u88C5\u4E0E\u4F7F\u7528" tabindex="-1">\u5B89\u88C5\u4E0E\u4F7F\u7528 <a class="header-anchor" href="#\u5B89\u88C5\u4E0E\u4F7F\u7528" aria-hidden="true">#</a></h2><p>\u65B0\u7248\u672C<code>Jenkins</code>\u4F9D\u8D56\u4E8E<code>jdk8</code>\u6216\u8005<code>jdk11</code>, \u9700\u8981\u63D0\u524D\u5B89\u88C5, \u5B89\u88C5\u8FC7\u7A0B\u4E0D\u518D\u8D58\u8FF0.</p><p>\u4E0B\u8F7D\u5E76\u4F7F\u7528<code>war</code>\u5305\u8FDB\u884C\u5B89\u88C5:</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">wget http://mirrors.jenkins.io/war-stable/latest/jenkins.war</span></span>
<span class="line"><span style="color:#DBD7CA;">java -jar jenkins.war</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">wget http://mirrors.jenkins.io/war-stable/latest/jenkins.war</span></span>
<span class="line"><span style="color:#393A34;">java -jar jenkins.war</span></span>
<span class="line"></span></code></pre></div><p>\u901A\u8FC7<code>yum</code>\u4ED3\u5E93\u6216\u8005\u76F4\u63A5\u4E0B\u8F7D<code>rpm</code>\u5305\u5B89\u88C5:</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#758575;"># \u901A\u8FC7\u4ED3\u5E93\u5B89\u88C5</span></span>
<span class="line"><span style="color:#DBD7CA;">sudo wget -O /etc/yum.repos.d/jenkins.repo \\</span></span>
<span class="line"><span style="color:#DBD7CA;">    https://pkg.jenkins.io/redhat-stable/jenkins.repo</span></span>
<span class="line"><span style="color:#DBD7CA;">sudo rpm --import https://pkg.jenkins.io/redhat-stable/jenkins.io.key</span></span>
<span class="line"><span style="color:#DBD7CA;">sudo yum upgrade</span></span>
<span class="line"><span style="color:#DBD7CA;">sudo yum install jenkins java-1.8.0-openjdk-devel</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;"># \u76F4\u63A5\u4E0B\u8F7Drpm\u5305\u5B89\u88C5</span></span>
<span class="line"><span style="color:#DBD7CA;">wget https://pkg.jenkins.io/redhat-stable/jenkins-2.235.2-1.1.noarch.rpm</span></span>
<span class="line"><span style="color:#DBD7CA;">yum localinstall -y jenkins-2.235.2-1.1.noarch.rpm</span></span>
<span class="line"><span style="color:#758575;"># yum install -y https://pkg.jenkins.io/redhat-stable/jenkins-2.235.2-1.1.noarch.rpm</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#A0ADA0;"># \u901A\u8FC7\u4ED3\u5E93\u5B89\u88C5</span></span>
<span class="line"><span style="color:#393A34;">sudo wget -O /etc/yum.repos.d/jenkins.repo \\</span></span>
<span class="line"><span style="color:#393A34;">    https://pkg.jenkins.io/redhat-stable/jenkins.repo</span></span>
<span class="line"><span style="color:#393A34;">sudo rpm --import https://pkg.jenkins.io/redhat-stable/jenkins.io.key</span></span>
<span class="line"><span style="color:#393A34;">sudo yum upgrade</span></span>
<span class="line"><span style="color:#393A34;">sudo yum install jenkins java-1.8.0-openjdk-devel</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;"># \u76F4\u63A5\u4E0B\u8F7Drpm\u5305\u5B89\u88C5</span></span>
<span class="line"><span style="color:#393A34;">wget https://pkg.jenkins.io/redhat-stable/jenkins-2.235.2-1.1.noarch.rpm</span></span>
<span class="line"><span style="color:#393A34;">yum localinstall -y jenkins-2.235.2-1.1.noarch.rpm</span></span>
<span class="line"><span style="color:#A0ADA0;"># yum install -y https://pkg.jenkins.io/redhat-stable/jenkins-2.235.2-1.1.noarch.rpm</span></span>
<span class="line"></span></code></pre></div><p>\u542F\u52A8<code>Jenkins</code>\u670D\u52A1:</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">sudo systemctl start jenkins</span></span>
<span class="line"><span style="color:#758575;"># \u67E5\u770B\u542F\u52A8\u72B6\u6001</span></span>
<span class="line"><span style="color:#DBD7CA;">sudo systemctl status jenkins</span></span>
<span class="line"></span>
<span class="line"><span style="color:#758575;"># \u5982\u82E5\u4F7F\u7528\u7684\u662Fwar\u5305, \u542F\u52A8\u547D\u4EE4\u5982\u4E0B\u6240\u793A</span></span>
<span class="line"><span style="color:#DBD7CA;">java -jar jenkins.war --httpPort=9090</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">sudo systemctl start jenkins</span></span>
<span class="line"><span style="color:#A0ADA0;"># \u67E5\u770B\u542F\u52A8\u72B6\u6001</span></span>
<span class="line"><span style="color:#393A34;">sudo systemctl status jenkins</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A0ADA0;"># \u5982\u82E5\u4F7F\u7528\u7684\u662Fwar\u5305, \u542F\u52A8\u547D\u4EE4\u5982\u4E0B\u6240\u793A</span></span>
<span class="line"><span style="color:#393A34;">java -jar jenkins.war --httpPort=9090</span></span>
<span class="line"></span></code></pre></div><p>\u6700\u540E, \u6253\u5F00\u6D4F\u89C8\u5668\u8BBF\u95EE : <a href="http://127.0.0.1:8080" target="_blank" rel="noopener noreferrer">http://127.0.0.1:8080</a> , \u7B49\u5F85\u89E3\u9501<code>Jenkins</code>\u5373\u53EF.(<a href="https://www.jenkins.io/doc/book/installing/#unlocking-jenkins" target="_blank" rel="noopener noreferrer">UNLOCK JENKINS</a>)</p><p><img src="http://agou-images.oss-cn-qingdao.aliyuncs.com/blog-images/CI%26CD/jenkins-1.png" alt=""></p><p>\u7B49\u5F85\u5B89\u88C5\u63D2\u4EF6:</p><p><img src="http://agou-images.oss-cn-qingdao.aliyuncs.com/blog-images/CI%26CD/jenkins-2.png" alt="\u7B49\u5F85\u5B89\u88C5\u63D2\u4EF6"></p><p>\u2139\uFE0F\u56FD\u5185<code>Jenkins</code>\u63D2\u4EF6\u955C\u50CF\u6E90: <a href="https://mirrors.tuna.tsinghua.edu.cn/jenkins/updates/update-center.json" target="_blank" rel="noopener noreferrer">https://mirrors.tuna.tsinghua.edu.cn/jenkins/updates/update-center.json</a></p><blockquote><p><strong>Jenkins\u521D\u59CB\u5316\u8FC7\u7A0B\u4E2D\u51FA\u73B0\u7684\u95EE\u9898:</strong></p><p>Jenkins \u95EE\u9898<code> An error occurred during installation: No such plugin: cloudbees-folder</code></p><p><strong>\u89E3\u51B3\u65B9\u6848\u4E00:</strong></p><ol><li>\u4E0A\u9762\u7684\u9519\u8BEF\u663E\u793A\u662F\uFF0C\u5B89\u88C5\u63D2\u4EF6 cloudbees-folder \u5931\u8D25\uFF0C\u662F\u56E0\u4E3A\u4E0B\u8F7D\u7684 Jenkins.war \u91CC\u6CA1\u6709 cloudbees-folder \u63D2\u4EF6,\u9700\u8981\u53BB <a href="https://updates.jenkins-ci.org/download/plugins/cloudbees-folder/" target="_blank" rel="noopener noreferrer">https://updates.jenkins-ci.org/download/plugins/cloudbees-folder/</a> \u4E0B\u8F7D\u4E00\u4E2A\u63D2\u4EF6</li><li>\u8BBF\u95EE IP:PORT/manage\uFF0C\u8D8A\u8FC7\u914D\u7F6E\u63D2\u4EF6\u7684\u9875\u9762\uFF0C\u76F4\u63A5\u8BBF\u95EE</li><li>\u70B9\u51FB\u3010\u7CFB\u7EDF\u7BA1\u7406\u3011\u2013\u3010\u7BA1\u7406\u63D2\u4EF6\u3011\u2013\u3010\u9AD8\u7EA7\u3011\u2013\u3010\u4E0A\u4F20\u63D2\u4EF6\u3011\uFF0C\u624B\u52A8\u5B89\u88C5\u4E0B\u8F7D\u597D\u7684\u63D2\u4EF6\uFF0C\u5373\u53EF</li></ol><p><strong>\u89E3\u51B3\u65B9\u6848\u4E8C:</strong></p><p>\u9700\u8981\u4FEE\u6539\u7684\u662F<code>jenkins.war</code>\u5305\uFF0C\u4ECE\u670D\u52A1\u5668\u4E0A\u4E0B\u8F7D\u597D<code>jenkins.war</code>\u5305\u8FDB\u884C\u4FEE\u6539, \u53EA\u9700\u5C06\u4ECEhttps://updates.jenkins-ci.org/download/plugins/cloudbees-folder/ \u4E0B\u8F7D\u597D\u7684\u63D2\u4EF6\u6DFB\u52A0\u8FDB\u53BB, \u7136\u540E\u56DE\u4F20\u5230\u670D\u52A1\u5668, \u6700\u540E\u91CD\u542F<code>jenkins</code>\u5373\u53EF.</p></blockquote><p>\u6210\u529F\u90E8\u7F72\u7ED3\u679C:</p><p><img src="https://agou-images.oss-cn-qingdao.aliyuncs.com/blog-images/CI%26CD/jenkins-3.png" alt=""></p><h2 id="\u901A\u8FC7-docker-\u5B89\u88C5" tabindex="-1">\u901A\u8FC7 Docker \u5B89\u88C5 <a class="header-anchor" href="#\u901A\u8FC7-docker-\u5B89\u88C5" aria-hidden="true">#</a></h2><p>\u5B98\u65B9<code>Docker</code>\u4ED3\u5E93: <a href="https://hub.docker.com/_/jenkins" target="_blank" rel="noopener noreferrer">https://hub.docker.com/_/jenkins</a></p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">docker pull jenkins</span></span>
<span class="line"></span>
<span class="line"><span style="color:#DBD7CA;">docker run --name myjenkins -p 8080:8080 -p 50000:50000 -v /var/jenkins_home jenkins</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">docker pull jenkins</span></span>
<span class="line"></span>
<span class="line"><span style="color:#393A34;">docker run --name myjenkins -p 8080:8080 -p 50000:50000 -v /var/jenkins_home jenkins</span></span>
<span class="line"></span></code></pre></div><h1 id="\u5176\u4ED6" tabindex="-1">\u5176\u4ED6 <a class="header-anchor" href="#\u5176\u4ED6" aria-hidden="true">#</a></h1><h3 id="\u5207\u6362\u8BED\u8A00\u4E3A\u7B80\u4F53\u4E2D\u6587" tabindex="-1">\u5207\u6362\u8BED\u8A00\u4E3A\u7B80\u4F53\u4E2D\u6587 <a class="header-anchor" href="#\u5207\u6362\u8BED\u8A00\u4E3A\u7B80\u4F53\u4E2D\u6587" aria-hidden="true">#</a></h3><p>\u5B89\u88C5<code>Locale plugin</code>\u63D2\u4EF6, \u9009\u62E9<code>configuration</code>\u7136\u540E\u8BBE\u7F6E\u8BED\u8A00\u4E3A<code>zh-CN</code>\u5E76\u52FE\u9009<code> Ignore browser preference and force this language to all users</code>\u5373\u53EF.</p><p>\u26A0\uFE0F\u5982\u679C\u5B89\u88C5\u5B8C\u63D2\u4EF6\u663E\u793A\u6709\u90E8\u5206\u4E2D\u6587\u5F02\u5E38\u7684\u60C5\u51B5, \u9700\u8981\u518D\u5B89\u88C5<code>Localization: Chinese (Simplified)</code>\u63D2\u4EF6\u8BD5\u8BD5, \u5018\u82E5\u8FD8\u662F\u4E0D\u884C, \u91CD\u542F<code>jenkins</code>, \u518D\u91CD\u65B0\u5B89\u88C5\u63D2\u4EF6\u8BD5\u8BD5.</p><p><img src="https://agou-images.oss-cn-qingdao.aliyuncs.com/blog-images/CI%26CD/jenkins-4.png" alt=""></p><p><img src="https://agou-images.oss-cn-qingdao.aliyuncs.com/blog-images/CI%26CD/jenkins-5.png" alt=""></p><p>\u6700\u540E\u91CD\u542F<code>jenkins</code>\u5373\u53EF, \u6253\u5F00\u6D4F\u89C8\u5668\u8BBF\u95EE:</p><div class="language-bash"><span class="copy"></span><pre class="vp-code-dark"><code><span class="line"><span style="color:#DBD7CA;">http://xx.xx.xx.xx:8080/restart 	</span><span style="color:#758575;"># xx.xx.xx.xx \u4E3A\u670D\u52A1\u5668IP</span></span>
<span class="line"></span></code></pre><pre class="vp-code-light"><code><span class="line"><span style="color:#393A34;">http://xx.xx.xx.xx:8080/restart 	</span><span style="color:#A0ADA0;"># xx.xx.xx.xx \u4E3A\u670D\u52A1\u5668IP</span></span>
<span class="line"></span></code></pre></div><h3 id="\u4FEE\u6539\u9ED8\u8BA4\u76EE\u5F55" tabindex="-1">\u4FEE\u6539\u9ED8\u8BA4\u76EE\u5F55 <a class="header-anchor" href="#\u4FEE\u6539\u9ED8\u8BA4\u76EE\u5F55" aria-hidden="true">#</a></h3><p>\u5728<code>Linux</code>\u548C<code>Mac</code>\u7CFB\u7EDF\u4E0B, <code>jenkins</code>\u7684\u9ED8\u8BA4\u6587\u4EF6\u76EE\u5F55\u4E3A<code>/var/lib/jenkins</code>, <code>windows</code>\u7CFB\u7EDF\u4E3A<code>C:\\Users\\%USERNAME%\\.jenkins</code>.</p><ul><li>\u5728<code>linux</code>\u6216\u8005<code>Mac</code>\u7CFB\u7EDF\u4E0B\u4FEE\u6539: \u53EA\u9700\u5728\u7528\u6237\u914D\u7F6E\u6587\u4EF6(<code>/etc/profile</code>)\u4E2D\u6DFB\u52A0<code>JENKINS_HOME</code>\u53D8\u91CF\u5373\u53EF.</li><li><code>Windows</code>\u4E0B\u4FEE\u6539, \u6DFB\u52A0\u4E00\u4E2A\u7528\u6237\u53D8\u91CF<code>JENKINS_HOME</code>\u5373\u53EF.</li></ul><p>\u7136\u540E\u5C06\u539F\u6765<code>jenkins</code>\u76EE\u5F55\u4E2D\u7684\u6587\u4EF6\u590D\u5236\u5230\u65B0\u6587\u4EF6\u5939\u4E2D\u5373\u53EF.</p><p>\u6700\u540E\u91CD\u542F<code>jenkins</code>\u670D\u52A1. <a href="http://127.0.0.1:8080/restart" target="_blank" rel="noopener noreferrer">http://127.0.0.1:8080/restart</a></p><blockquote><p>Windows \u4E0B\u91CD\u542F<code>jenkins</code>\u9047\u5230\u7684\u95EE\u9898: <code>Jenkins cannot restart itself as currently configured.</code></p><p><strong>\u89E3\u51B3\u65B9\u6CD5:</strong></p><p>\u8FDB\u5165<code> Manage Jenkins</code>, \u627E\u5230<code>Install as Windows service</code>, \u7136\u540E\u5B89\u88C5\u6210\u4E3A\u670D\u52A1\u5373\u53EF.</p></blockquote><h2 id="\u53C2\u8003\u94FE\u63A5" tabindex="-1">\u53C2\u8003\u94FE\u63A5 <a class="header-anchor" href="#\u53C2\u8003\u94FE\u63A5" aria-hidden="true">#</a></h2><ul><li>Jenkins User Docs: <a href="https://www.jenkins.io/doc/" target="_blank" rel="noopener noreferrer">https://www.jenkins.io/doc/</a></li><li>Jenkins installing: <a href="https://www.jenkins.io/doc/book/installing/" target="_blank" rel="noopener noreferrer">https://www.jenkins.io/doc/book/installing/</a></li><li>&quot;An error occurred during installation: No such plugin: cloudbees-folder&quot;: <a href="https://github.com/jenkinsci/docker/issues/424" target="_blank" rel="noopener noreferrer">https://github.com/jenkinsci/docker/issues/424</a></li><li>&quot;Jenkins \u5B89\u88C5\u63D2\u4EF6 No such plugin: cloudbees-folder&quot;: <a href="https://blog.csdn.net/dhq779626019/article/details/105756115" target="_blank" rel="noopener noreferrer">https://blog.csdn.net/dhq779626019/article/details/105756115</a></li><li>Jenkins Plugins: <a href="https://plugins.jenkins.io/" target="_blank" rel="noopener noreferrer">https://plugins.jenkins.io/</a></li><li>Jenkins Mirrors status: <a href="http://mirrors.jenkins-ci.org/status.html" target="_blank" rel="noopener noreferrer">http://mirrors.jenkins-ci.org/status.html</a></li></ul>`,37),p=[l];function c(r,i,t,d,k,h){return n(),e("div",null,p)}var j=s(o,[["render",c]]);export{g as __pageData,j as default};
